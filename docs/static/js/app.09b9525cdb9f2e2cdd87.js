webpackJsonp([1],{119:function(e,t,s){function n(e){s(719)}var a=s(12)(s(372),s(759),n,null,null);e.exports=a.exports},120:function(e,t,s){function n(e){s(727)}var a=s(12)(s(373),s(768),n,null,null);e.exports=a.exports},127:function(e,t,s){"use strict";var n=s(73),a=s.n(n),i=(s(18),s(341)),o=s.n(i),r=s(95),l=s(187);t.a={getHeaders:function(){try{return{token:r.a.getAuthData().token}}catch(e){return{}}},get:function(e,t){return this.request("get",e,t)},put:function(e,t){return this.request("put",e,t)},post:function(e,t){return this.request("post",e,t)},delete:function(e,t){return this.request("delete",e,t)},request:function(e,t,s){var n={method:e||"GET",uri:t||"",data:s||{}},i=this;return new a.a(function(e,t){o()({method:n.method,url:"https://metalogon-api.herokuapp.com/rest/"+n.uri,headers:i.getHeaders(),data:n.data}).then(function(t){e(t)}).catch(function(e){"401"==e.response.status?(console.log("secureHTTPService: response status 401",e),localStorage.clear(),l.ourApp.$router.push("/Login"),l.ourApp.$router.push("/ErrorPage"),t(e)):"404"==e.response.status?(console.log("secureHTTPService: response status 404",e),t(e)):"500"==e.response.status&&console.log("secureHTTPService response status 500:",e),t(e)})})}}},168:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAA1BMVEUAAACnej3aAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABRJREFUOMtjYBgFo2AUjIJRQE8AAAV4AAEpcbn8AAAAAElFTkSuQmCC"},179:function(e,t,s){"use strict";s.d(t,"a",function(){return d});var n=s(18),a=s(6),i=s(127),o=s(95),r=s(59);s.n(r);n.default.use(a.a);var l=r.Loading.service({fullscreen:!0}),c='\n<div style="padding-top:50px;">\n    <h1 style="font-size:28px">We couldn\'t load the presentation videos</h1>\n    <p style="padding-top:5px; font-size:18px">Please contact your administrator</p>\n</div>\n',d=new a.a.Store({state:{videos:[],videoAnnotations:[],classes:[],canons:{},categories:[],genres:[],departments:[],currentClass:{name:"",id:"",number:"",department:"",professorId:"",catFilter:[]},currentVideoID:null,uploadingVideo:!1,uploadUrl:"",assignments:[],users:[],allCollaborations:[],videoCollaborations:[],videoCollaborators:[],userCollaborations:[],userCollaborated:[],enrollments:[],classEnrolledStudents:[],classEnrollments:[],userEnrollments:[],enrolledClasses:[],currentWikiCanon:""},actions:{getAllVideos:function(e){var t=e.commit;return i.a.get("video").then(function(e){t("GET_ALL_VIDEOS",e.data.data)}).catch(function(e){$(".home").html(c)})},getVideo:function(e,t){var s=e.commit;return i.a.get("video/"+t).then(function(e){s("GET_VIDEO",e.data.data)}).catch(function(e){$(".video").html(c)})},createVideo:function(e,t){var s=e.commit,n=e.dispatch;return i.a.post("video",t).then(function(e){s("CREATE_VIDEO",e.data.data),n("createCollaboration",{videoId:e.data.data.id,userId:o.a.getAuthData().userId})}).catch(function(e){console.log("createVideo action error."),console.log("payload: ",t),console.log("error:",e.error)})},editVideo:function(e,t){var s=e.commit;i.a.put("video/"+t.videoId,t.videoBody).then(function(e){console.log("PUT video"),s("EDIT_VIDEO",t.videoBody)}).catch(function(e){console.log(e),console.log("videoBody: ",t.videoBody)})},deleteVideo:function(e,t){var s=e.commit;i.a.delete("video/"+t).then(function(e){s("DELETE_VIDEO",t)}).then(function(e){}).catch(function(e){console.log("deleteVideo DELETE error: ",e)})},featureVideo:function(e,t){e.commit;i.a.put("video/"+t.id,t).then(function(e){}).catch(function(e){return console.log(e.error)})},featureGlobal:function(e,t){e.commit;i.a.put("video/"+t.id,t).then(function(e){}).catch(function(e){return console.log(e.error)})},unfeatureGlobal:function(e,t){e.commit;i.a.put("video/"+t.id,t).then(function(e){}).catch(function(e){return console.log(e.error)})},unfeatureVideo:function(e,t){e.commit;i.a.put("video/"+t.id,t).then(function(e){}).catch(function(e){return console.log(e.error)})},getVideoAnnotations:function(e,t){var s=e.commit,n=e.state;return i.a.get("viewannotation?videoId="+t).then(function(e){s("GET_VIDEO_ANNOTATIONS",e.data.data),n.videoAnnotations.sort(function(e,t){return e.from>t.from?1:t.from>e.from?-1:0})}).catch(function(e){console.log("getVideoAnnotations GET err: ",e)})},addAnnotation:function(e,t){var s=e.dispatch;e.commit,e.state;i.a.post("annotation?videoId="+t.videoId,t).then(function(e){s("getVideoAnnotations",t.videoId)}).catch(function(e){console.log("Error annotation add...",e),console.log("Payload:",t)})},editAnnotation:function(e,t){var s=e.commit;i.a.put("annotation/"+t.annotationId,t.body).then(function(e){s("EDIT_ANNOTATION",t)}).catch(function(e){console.log("Error annotation edit...",e)})},deleteAnnotation:function(e,t){var s=e.commit;i.a.delete("annotation/"+t).then(function(e){s("DELETE_ANNOTATION",t)}).catch(function(e){console.log("Error annotation delete...",e)})},getAllClasses:function(e){var t=e.commit;return i.a.get("class/").then(function(e){t("GET_ALL_CLASSES",e.data.data),t("FILL_DEPARTMENTS")}).catch(function(e){$(".classes").html(c)})},createClass:function(e,t){var s=e.commit;return i.a.post("class/",t.newClass).then(function(e){return s("CREATE_CLASS",e.data.data),e}).catch(function(e){console.log("createClass POST error: ",e)})},editClass:function(e,t){var s=e.commit;return i.a.put("class/"+t.currentClass.id,t.currentClass).then(function(e){return s("EDIT_CLASS",t),e}).catch(function(e){console.log("editClass PUT error: ",e)})},deleteClass:function(e,t){var s=e.commit;return i.a.delete("class/"+t).then(function(e){s("DELETE_CLASS",t)}).catch(function(e){console.log("deleteClass DELETE error: ",e)})},archiveClass:function(e,t){e.commit;return i.a.put("class/"+t.classId,t.classObject).then(function(e){}).catch(function(e){console.log("archiveClass PUT error: ",e)})},unArchiveClass:function(e,t){e.commit;return i.a.put("class/"+t.classId,t.classObject).then(function(e){}).catch(function(e){console.log("unarchiveClass PUT error: ",e)})},createEnrollment:function(e,t){var s=e.commit;return i.a.post("enrollment",t).then(function(e){s("CREATE_ENROLLMENT",e.data.data)}).catch(function(e){console.log("createEnrollment POST error: ",e)})},editEnrollment:function(e,t){var s=e.commit;return i.a.put("enrollment/"+t.id,t).then(function(e){s("EDIT_ENROLLMENT",e.data.data)}).catch(function(e){console.log("editEnrollment PUT error: ",e)})},deleteEnrollment:function(e,t){var s=e.commit;return i.a.delete("enrollment/"+t).then(function(e){s("DELETE_ENROLLMENT",t)}).catch(function(e){console.log("deleteEnrollment DELETE error: ",e)})},getAllEnrollments:function(e,t){var s=e.commit;return i.a.get("enrollment").then(function(e){s("GET_ENROLLMENTS",e.data.data)}).catch(function(e){console.log("getAllEnrollments GET error: ",e)})},getAllUserEnrollmentsByUserId:function(e,t){var s=e.commit;return i.a.get("enrollment?userId="+t).then(function(e){s("GET_USER_ENROLLMENTS",e.data.data)}).catch(function(e){console.log("getAllUserEnrollmentsByUserId GET error: ",e)})},getEnrolledClassesByUserId:function(e,t){var s=e.commit;return i.a.get("enrolledClass?userId="+t).then(function(e){s("GET_ENROLLED_CLASSES",e.data.data)}).catch(function(e){console.log("getEnrolledClassesByUserId GET error: ",e)})},getEnrolledUsersByClassId:function(e,t){var s=e.commit;return i.a.get("enrolledUser?classId="+t).then(function(e){s("GET_ENROLLED_STUDENTS_BY_CLASSID",e.data.data)}).catch(function(e){console.log("getEnrolledUsersByClassId GET error: ",e)})},getEnrollmentsByClassId:function(e,t){var s=e.commit;return i.a.get("enrollment?classId="+t).then(function(e){s("GET_ENROLLMENTS_BY_CLASS_ID",e.data.data)}).catch(function(e){console.log("getEnrollmentsByClassId GET error: ",e)})},getAssignments:function(e,t){var s=e.commit;return i.a.get("assignment?classId="+t).then(function(e){s("GET_ASSIGNMENTS",e.data.data)}).catch(function(e){console.log("getAssignments GET error: ",e)})},createAssignment:function(e,t){var s=e.commit;return i.a.post("assignment",t).then(function(e){s("CREATE_ASSIGNMENT",e.data.data)}).catch(function(e){console.log("createAssignment POST error: ",e)})},editAssignment:function(e,t){e.commit;console.log("editAssignment()"),console.log(t.assignment),i.a.put("assignment/"+t.id,t.assignment).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},deleteAssignment:function(e,t){var s=e.commit;i.a.delete("assignment/"+t).then(function(e){s("DELETE_ASSIGNMENT",t)}).catch(function(e){})},addAssignmentToVideo:function(e,t){e.commit;return i.a.put("video/"+t.videoId,{assignmentId:t.assignmentId}).then(function(e){}).catch(function(e){console.log("addAssignmentToVideo action error."),console.log("payload: ",t),console.log("error:",e.error)})},getGenres:function(e){var t=e.commit;return i.a.get("genre").then(function(e){t("GET_GENRES",e.data.data)}).catch(function(e){console.log("getGenres GET err: ",e)})},getCanons:function(e){var t=e.commit;return i.a.get("tree").then(function(e){t("GET_CANONS",e.data.data)}).catch(function(e){console.log("getCanons GET err: ",e)})},getCategories:function(e){var t=e.commit;return i.a.get("category").then(function(e){t("GET_CATEGORIES",e.data.data)}).catch(function(e){console.log("getCategories GET err: ",e)})},postCategory:function(e,t){var s=e.commit;return i.a.post("category",t).then(function(e){console.log(e),s("POST_CATEGORY",e.data.data)}).catch(function(e){console.log("postCategory POST error: ",e)})},editCategory:function(e,t){e.commit;i.a.put("category/"+t.id,t.categoryBody).then(function(e){console.log(e)}).catch(function(e){console.log(e),console.log("categoryBody: ",t.categoryBody)})},getAllCollaborations:function(e){var t=e.commit;return i.a.get("collaboration").then(function(e){t("GET_ALL_COLLABORATIONS",e.data.data)}).catch(function(e){console.log("getAllCollaborations GET error: ",e)})},getCollaborationsByVideoId:function(e,t){var s=e.commit;return i.a.get("collaboration?videoId="+t).then(function(e){s("GET_COLLABORATIONS_BY_VIDEO_ID",e.data.data)}).catch(function(e){console.log("getCollaborationsByVideoId GET error: ",e)})},getCollaboratorsByVideoId:function(e,t){var s=e.commit;return e.state.videoCollaborators=[],i.a.get("collaborator?videoId="+t).then(function(e){s("GET_COLLABORATORS_BY_VIDEO_ID",e.data.data)}).catch(function(e){console.log("getCollaboratorsByVideoId GET error: ",e)})},getCollaborationsByUserId:function(e,t){var s=e.commit;return i.a.get("collaboration?userId="+t).then(function(e){s("GET_COLLABORATIONS_BY_USER_ID",e.data.data)}).catch(function(e){console.log("getCollaborationsByUserId GET error: ",e)})},getCollaboratedVideosByUserId:function(e,t){var s=e.commit;return i.a.get("collaborated?userId="+t).then(function(e){s("GET_COLLABORATED_VIDEOS_BY_USER_ID",e.data.data)}).catch(function(e){console.log("getCollaboratedVideosByUserId GET error: ",e)})},createCollaboration:function(e,t){e.commit,e.dispatch;return i.a.post("collaboration",t).then(function(e){}).catch(function(e){console.log("createCollaboration POST error: ",e)})},deleteCollaboration:function(e,t){var s=(e.commit,e.dispatch),n=e.state;return s("getCollaborationsByUserId",t.userId).then(function(e){for(var s=0,a=n.userCollaborations.length;s<a;s++)if(n.userCollaborations[s].videoId===t.videoId&&n.userCollaborations[s].userId===t.userId)return i.a.delete("collaboration/"+n.userCollaborations[s].id).then(function(e){}).catch(function(e){console.log("deleteCollaboration DELETE error: ",e)})})},getUsers:function(e,t){var s=e.commit;i.a.get("user").then(function(e){s("GET_USERS",e.data.data)}).catch(function(e){})}},mutations:{GET_ALL_VIDEOS:function(e,t){l.close(),e.videos=t,e.videos.sort(function(e,t){return e.presentedAt<t.presentedAt?1:t.presentedAt<e.presentedAt?-1:0});for(var s=0,a=e.videos.length;s<a;s++)n.default.set(e.videos[s],"featured",!1)},GET_VIDEO:function(e,t){l.close(),e.videos=t},CREATE_VIDEO:function(e,t){e.videos.push(t)},EDIT_VIDEO:function(e,t){e.videos.link=t.link,e.videos.duration=t.duration,e.videos.status=t.status},DELETE_VIDEO:function(e,t){for(var s=0,n=e.videos.length;s<n;s++)if(e.videos[s].id===t)try{e.videos.splice(s,1)}catch(e){console.log(e)}},GET_VIDEO_ANNOTATIONS:function(e,t){e.videoAnnotations=t},ADD_ANNOTATION:function(e,t){e.videoAnnotations.push(t)},EDIT_ANNOTATION:function(e,t){for(var s=0,n=e.videoAnnotations.length;s<n;s++)t.annotationId===e.videoAnnotations[s].id&&(e.videoAnnotations[s].comment=t.body.comment,e.videoAnnotations[s].from=t.body.from,e.videoAnnotations[s].to=t.body.to,e.videoAnnotations[s].rating=t.body.rating)},DELETE_ANNOTATION:function(e,t){for(var s=0,n=e.videoAnnotations.length;s<n;s++)e.videoAnnotations[s].id===t&&e.videoAnnotations.splice(s,1)},SORT_ANNOTATIONS:function(e){e.videos.annotations.sort(function(e,t){return e.from>t.from?1:t.from>e.from?-1:0})},GET_ALL_CLASSES:function(e,t){l.close(),e.classes=t},GET_CLASS:function(e,t){l.close(),e.classes=t},CREATE_CLASS:function(e,t){e.classes.push(t)},EDIT_CLASS:function(e,t){console.log("payload edit class:",t);for(var s=0;s<e.classes.length;s++);},DELETE_CLASS:function(e,t){for(var s=0,n=e.classes.length;s<n;s++)e.classes[s].id===t&&e.classes.splice(s,1)},FILL_DEPARTMENTS:function(e){for(var t=0,s=e.classes.length;t<s;t++)e.departments.includes(e.classes[t].department)||e.departments.push(e.classes[t].department)},SET_UPLOAD_URL:function(e,t){e.uploadUrl=t},CURRENT_CLASS_SELECT:function(e,t){e.currentClass=t},GET_ASSIGNMENTS:function(e,t){e.assignments=t},CREATE_ASSIGNMENT:function(e,t){e.assignments.push(t)},DELETE_ASSIGNMENT:function(e,t){for(var s=0,n=e.assignments.length;s<n;s++)e.assignments[s].id===t&&e.assignments.splice(s,1)},RESET_ASSIGNMENTS:function(e){e.assignments=[]},GET_GENRES:function(e,t){e.genres=t},GET_CANONS:function(e,t){e.canons.Invention=t.Invention,e.canons.Structure=t.Structure,e.canons.Delivery=t.Delivery,e.canons.Visuals=t.Visuals,e.canons.Style=t.Style},GET_CATEGORIES:function(e,t){e.categories=t},POST_CATEGORY:function(e,t){e.categories.push(t)},EDIT_CATEGORY:function(e,t){console.log("payload: ",t);for(var s=0,n=e.categories.length;s<n;s++)t.term.id===e.categories[s].id&&("definition"===t.type?e.categories[s].definition=t.term.definition:"description"===t.type&&(e.categories[s].description=t.term.description))},GET_ALL_COLLABORATIONS:function(e,t){e.allCollaborations=t},GET_COLLABORATIONS_BY_VIDEO_ID:function(e,t){e.videoCollaborations=t},GET_COLLABORATORS_BY_VIDEO_ID:function(e,t){e.videoCollaborators=t},GET_COLLABORATIONS_BY_USER_ID:function(e,t){e.userCollaborations=t},GET_COLLABORATED_VIDEOS_BY_USER_ID:function(e,t){e.userCollaborated=t},GET_USERS:function(e,t){e.users=t},GET_ENROLLMENTS:function(e,t){e.enrollments=t},GET_USER_ENROLLMENTS:function(e,t){e.userEnrollments=t},GET_ENROLLED_STUDENTS_BY_CLASSID:function(e,t){e.classEnrolledStudents=t},GET_ENROLLMENTS_BY_CLASS_ID:function(e,t){e.classEnrollments=t},GET_ENROLLED_CLASSES:function(e,t){e.enrolledClasses=t},CREATE_ENROLLMENT:function(e,t){e.enrollments.push(t)},EDIT_ENROLLMENT:function(e,t){for(var s=0;s<e.enrollments.length;s++){e.enrollments[s].id===t.id&&(e.enrollments[s]=t);break}},DELETE_ENROLLMENT:function(e,t){for(var s=0,n=e.enrollments.length;s<n;s++){e.enrollments[s].id===t&&e.enrollments.splice(s,1);break}},SELECT_CURRENT_WIKI_CANON:function(e,t){e.currentWikiCanon=t}},getters:{videos:function(e){return e.videos},videoAnnotations:function(e){return e.videoAnnotations},classes:function(e){return e.classes},assignments:function(e){return e.assignments},genres:function(e){return e.genres},categories:function(e){return e.categories},users:function(e){return e.users},allCollaborations:function(e){return e.allCollaborations},videoCollaborations:function(e){return e.videoCollaborations},videoCollaborators:function(e){return e.videoCollaborators},userCollaborations:function(e){return e.userCollaborations},userCollaborated:function(e){return e.userCollaborated},enrollments:function(e){return e.enrollments},enrollmentsByClassId:function(e){return e.enrollmentsByClassId},classEnrolledStudents:function(e){return e.classEnrolledStudents},classEnrollments:function(e){return e.classEnrollments},userEnrollments:function(e){return e.userEnrollments},enrolledClasses:function(e){return e.enrolledClasses},currentVideoID:function(e){return e.currentVideoID},canons:function(e){return e.canons},departments:function(e){return e.departments},currentClass:function(e){return e.currentClass},uploadVideoProps:function(e){return e.uploadVideoProps},uploadUrl:function(e){return e.uploadUrl},uploadingVideo:function(e){return e.uploadingVideo},currentWikiCanon:function(e){return e.currentWikiCanon}}})},187:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){s.d(t,"ourApp",function(){return b});var n=s(18),a=s(318),i=s.n(a),o=s(179),r=s(127),l=s(95),c=s(59),d=s.n(c),u=s(316),m=(s.n(u),s(315)),h=s.n(m),g=s(319),v=s(317),p=s.n(v),f=s(180),_=s(314);n.default.use(d.a,{locale:h.a}),n.default.use(g.a),n.default.use(p.a),e._=s(37),n.default.use(f.a);var C=new f.a({routes:_.a,mode:"history"});n.default.filter("sliceDate",function(e){if(void 0!==e)return e.toString().slice(0,10)});var b=new n.default({el:"#app",router:C,store:o.a,authService:l.a,secureHTTPService:r.a,render:function(e){return e(i.a)}});n.default.config.productionTip=!1}.call(t,s(96))},285:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODYuMTkgNjI2LjQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzE2MzI0Zjt9LmNscy0ye2ZpbGw6I2YxYzc1OTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmZhdm9yaXRlLWFjdGl2ZTwvdGl0bGU+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNMzQ4Ljg3LDgyNy44NmMtMTIuMTMsMTAuMTEtMjIsNS41My0yMi0xMC40MXYtNTgyYTI4LjcxLDI4LjcxLDAsMCwxLDI4LjcxLTI4LjcxSDY4NC4zOGEyOC42NiwyOC42NiwwLDAsMSwyOC43MSwyOC43MXY1ODJjMCwxNS44Ni05Ljg0LDIwLjUyLTIyLDEwLjQxbC0xNjAuMi0xMzMuNWMtNi01LTE1LjktNS0yMS44NywwWm0xMjguMS0yOTEsMzYuNjUtMTkuMjdhMTUuMzIsMTUuMzIsMCwwLDEsMTIuNzcsMEw1NjMsNTM2LjgzYzYuODksMy42MiwxMS41NS4zNCwxMC4yMi03LjQzbC03LTQwLjgxYTE1LjMsMTUuMywwLDAsMSwzLjk1LTEyLjE1bDI5LjY1LTI4LjljNS41Ny01LjQzLDMuOS0xMC44OC0zLjktMTJsLTQxLTZhMTUuMzIsMTUuMzIsMCwwLDEtMTAuMzMtNy41MWwtMTguMzItMzcuMTNjLTMuNDQtNy05LjE0LTcuMDctMTIuNjMsMGwtMTguMzIsMzcuMTNBMTUuMzEsMTUuMzEsMCwwLDEsNDg1LDQyOS41OGwtNDEsNmMtNy43LDEuMTItOS41NSw2LjUxLTMuOSwxMmwyOS42NSwyOC45YTE1LjMxLDE1LjMxLDAsMCwxLDMuOTUsMTIuMTVsLTcsNDAuODFDNDY1LjQzLDUzNy4wNyw0NzAsNTQwLjUsNDc3LDUzNi44M1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjYuOTEgLTIwNi43NykiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik00NzcsNTM2Ljg0bDM2LjY1LTE5LjI3YTE1LjMyLDE1LjMyLDAsMCwxLDEyLjc3LDBMNTYzLDUzNi44NGM2Ljg5LDMuNjIsMTEuNTUuMzQsMTAuMjItNy40M2wtNy00MC44MWExNS4zMSwxNS4zMSwwLDAsMSwzLjk1LTEyLjE1bDI5LjY1LTI4LjljNS41Ny01LjQzLDMuOS0xMC44OC0zLjktMTJsLTQxLTZhMTUuMzEsMTUuMzEsMCwwLDEtMTAuMzMtNy41MWwtMTguMzMtMzcuMTNjLTMuNDQtNy05LjE0LTcuMDctMTIuNjMsMGwtMTguMzIsMzcuMTNBMTUuMzIsMTUuMzIsMCwwLDEsNDg1LDQyOS41OGwtNDEsNmMtNy43LDEuMTItOS41NSw2LjUxLTMuOSwxMmwyOS42NSwyOC45YTE1LjMxLDE1LjMxLDAsMCwxLDMuOTUsMTIuMTVsLTcsNDAuODFDNDY1LjQzLDUzNy4wOCw0NzAsNTQwLjUsNDc3LDUzNi44NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjYuOTEgLTIwNi43NykiLz48L3N2Zz4="},286:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzODYuMTkgNjI2LjQ1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2RjZGRkZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmZhdm9yaXRlLWluYWN0aXZlPC90aXRsZT48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik0zNDguODcsMTkzNi4zNmMtMTIuMTMsMTAuMTEtMjIsNS41My0yMi0xMC40MVYxMzQ0YTI4LjcxLDI4LjcxLDAsMCwxLDI4LjcxLTI4LjcxSDY4NC4zOEEyOC42NiwyOC42NiwwLDAsMSw3MTMuMDksMTM0NHY1ODJjMCwxNS44Ni05Ljg0LDIwLjUyLTIyLDEwLjQxbC0xNjAuMi0xMzMuNWMtNi01LTE1LjktNS0yMS44NywwWm0xMjguMS0yOTEsMzYuNjUtMTkuMjdhMTUuMzIsMTUuMzIsMCwwLDEsMTIuNzcsMEw1NjMsMTY0NS4zM2M2Ljg5LDMuNjIsMTEuNTUuMzQsMTAuMjItNy40M2wtNy00MC44MUExNS4zLDE1LjMsMCwwLDEsNTcwLjIsMTU4NWwyOS42NS0yOC45YzUuNTctNS40MywzLjktMTAuODgtMy45LTEybC00MS02YTE1LjMyLDE1LjMyLDAsMCwxLTEwLjMzLTcuNTFsLTE4LjMyLTM3LjEzYy0zLjQ0LTctOS4xNC03LjA3LTEyLjYzLDBsLTE4LjMyLDM3LjEzYTE1LjMxLDE1LjMxLDAsMCwxLTEwLjMzLDcuNTFsLTQxLDZjLTcuNywxLjEyLTkuNTUsNi41MS0zLjksMTJsMjkuNjUsMjguOWExNS4zMSwxNS4zMSwwLDAsMSwzLjk1LDEyLjE1bC03LDQwLjgxQzQ2NS40MywxNjQ1LjU3LDQ3MCwxNjQ5LDQ3NywxNjQ1LjMzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNi45IC0xMzE1LjI3KSIvPjwvc3ZnPg=="},287:function(e,t,s){function n(e){s(729)}var a=s(12)(s(374),s(770),n,null,null);e.exports=a.exports},288:function(e,t,s){function n(e){s(715)}var a=s(12)(s(379),s(755),n,null,null);e.exports=a.exports},314:function(e,t,s){"use strict";s.d(t,"a",function(){return C});var n=(s(18),s(180),s(179),s(95)),a=s(287),i=s.n(a),o=s(749),r=s.n(o),l=s(750),c=s.n(l),d=s(740),u=s.n(d),m=s(751),h=s.n(m),g=s(752),v=s.n(g),p=s(753),f=s.n(p),_=function(e,t,s){n.a.isAuthenticated().then(function(){s()}).catch(function(){s("/login")})},C=[{path:"/",component:r.a,beforeEnter:_},{path:"/DecideHome",component:r.a,beforeEnter:_},{path:"/ErrorPage",component:c.a},{name:"Login",path:"/login",component:i.a},{name:"Admin",path:"/administrator",component:u.a,beforeEnter:_},{name:"Professor",path:"/professor",component:u.a,beforeEnter:_},{name:"Student",path:"/student",component:u.a,beforeEnter:_},{name:"Video",path:"/video/:id",component:h.a,beforeEnter:_},{name:"Wiki",path:"/wiki",component:v.a,beforeEnter:_},{name:"WikiTerm",path:"/term/:id",component:f.a,beforeEnter:_}]},316:function(e,t){},318:function(e,t,s){function n(e){s(718)}var a=s(12)(s(361),s(758),n,null,null);e.exports=a.exports},360:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{moreStr:{type:String,default:"read more"},lessStr:{type:String,default:""},text:{type:String,required:!0},link:{type:String,default:"#"},maxChars:{type:Number,default:100}},data:function(){return{isReadMore:!1}},computed:{formattedString:function(){var e=this.text;return!this.isReadMore&&this.text.length>this.maxChars&&(e=e.substring(0,this.maxChars)+"..."),e}},methods:{triggerReadMore:function(e,t){"#"==this.link&&e.preventDefault(),null===this.lessStr&&""===this.lessStr||(this.isReadMore=t)}}}},361:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(s(6),s(287)),a=s.n(n);t.default={data:function(){return{}},methods:{isLoggedIn:function(){try{return!!this.$root.$options.authService.getAuthData().token}catch(e){return!1}}},created:function(){},mounted:function(){this.$loading({fullscreen:!0}),$(".el-loading-mask .el-loading-spinner").append("<p style='font-size:24px;font-weight:500;margin-top:20px'>Metalogon</p>")},computed:{},components:{login:a.a}}},362:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(37),o=s.n(i),r=s(6),l=s(59),c=(s.n(l),s(747)),d=s.n(c),u=s(120),m=s.n(u),h=s(741),g=s.n(h),v=s(743),p=s.n(v),f=s(745),_=s.n(f),C=s(744),b=s.n(C),S=s(119),I=s.n(S),A=s(742),y=s.n(A),T=s(92),E=s.n(T);t.default={data:function(){return{userId:"",role:"",loadingInstance:null,searchInputClassSidebar:"",filteredVideos:[]}},methods:{filterVideoArray:o.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==t.title.toLowerCase().indexOf(e.toLowerCase())}}(s))},500),wrongClassRedirect:function(){if("student"===this.role){for(var e=!1,t=0;t<this.userEnrollments.length;t++)if(this.userEnrollments[t].accepted){for(var s=0;s<this.enrolledClasses.length;s++)if(this.userEnrollments[t].classId===this.enrolledClasses[s].id&&this.enrolledClasses[s].name===this.currentClass.name){e=!0;break}if(e)break}e||this.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"})}else"professor"===this.role&&this.currentClass.professorId!==this.userId&&this.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"})}},created:function(){this.$store.dispatch("getAllVideos"),this.$store.dispatch("getAllClasses"),this.$store.dispatch("getGenres"),this.$store.dispatch("getUsers"),this.$store.dispatch("getCanons")},mounted:function(){this.loadingInstance=l.Loading.service({fullscreen:!0}),this.role=this.$root.$options.authService.getAuthData().role,this.userId=this.$root.$options.authService.getAuthData().userId,""===this.$store.state.currentClass.name&&this.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"});var e=this;this.$store.dispatch("getEnrolledClassesByUserId",this.userId).then(function(){e.$store.dispatch("getAllUserEnrollmentsByUserId",e.userId)}).then(function(){e.wrongClassRedirect(),e.loadingInstance.close()}),document.body.style.backgroundImage="none",document.body.style.backgroundColor="#FFF"},computed:a()({},s.i(r.b)(["videos","classes","currentClass","enrolledClasses","userEnrollments"])),components:{"upload-video":d.a,"my-header":m.a,"my-footer":I.a,"mt-video-card":y.a,"mt-video-itemlist":E.a,"mt-sidebar":g.a,"mt-sidebar-admin":p.a,"mt-sidebar-student":_.a,"mt-sidebar-professor":b.a}}},363:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(97),o=s.n(i),r=s(73),l=s.n(r),c=s(6),d=s(37),u=s.n(d),m=s(92),h=s.n(m);t.default={props:[],data:function(){return{role:this.$root.$options.authService.getAuthData().role,userId:this.$root.$options.authService.getAuthData().userId,secureHTTPService:this.$root.$options.secureHTTPService,loadingClasses:!1,loadingModalClasses:!1,loadingModalStudents:!1,loadingAssignments:!1,sidebarClassesTab:"activeClasses",searchInput:"",searchInputActiveClassSidebar:"",searchInputArchivedClassSidebar:"",searchInputClassModal:"",searchInputClassSidebar:"",classIdClicked:"",modalClassesRequestsTab:"classesToEnroll",acceptedClasses:[],filteredAcceptedClasses:[],notEnrolledClasses:[],filteredNotEnrolledClasses:[],requestedClasses:[],adminActiveClasses:[],filteredAdminActiveClasses:[],adminArchivedClasses:[],filteredAdminArchivedClasses:[],professorActiveClasses:[],filteredProfessorActiveClasses:[],professorArchivedClasses:[],filteredProfessorArchivedClasses:[],modalClassAssignmentsIsOpen:!1,modalClassesToEnrollIsOpen:!1,videosWithoutUserSubs:[],modalCreateClassIsOpen:!1,createModalActive:0,modalArchiveClassIsOpen:!1,modalUnarchiveClassIsOpen:!1,modalStudentRequestsIsOpen:!1,modalDeleteClassIsOpen:!1,modalInviteUserIsOpen:!1,modalStudentRequestsTab:"enrolledStudents",enrolledStudents:[],filteredEnrolledStudents:[],requestedStudents:[],filteredRequestedStudents:[],otherStudents:[],filteredOtherStudents:[],assignmentsModalSubtab:"General",assignmentSelectedId:"",assignmentTitle:"",assignmentDescription:"",assignmentGenre:"",assignmentCategorySelected:"",assignmentDueDate:"",categoriesCheckList:[],startingAssignmentMessageVisible:!1,currentGenre:"",previousGenre:"",firstTimeSelectingGenre:!0,modalGenreCustomization:!1,modalAddCategoryIsOpen:!1,newCategoryCanon:"",newCategoryName:"",newCategoryDesc:"",selectedNodes:[],elementTreeForm:[],genreProps:{children:"children",label:"label",desc:"desc"},categoryProps:{children:"children",label:"label",desc:"desc"},newClass:{archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},invitation:{email:"",role:""},repeatEmail:"",roles:[{value:"student",label:"Student"},{value:"professor",label:"Professor"},{value:"administrator",label:"Administrator"}]}},mounted:function(){this.$store.dispatch("getCategories"),this.loadingClasses=!0;var e=this;"student"===this.role?e.updateStudentClasses().then(function(){e.loadingClasses=!1}):"administrator"==this.role?e.updateAdminClasses().then(function(){e.loadingClasses=!1}):"professor"==this.role&&e.updateProfessorClasses().then(function(){e.loadingClasses=!1})},methods:{handleGenreSelection:function(){if(this.firstTimeSelectingGenre)this.previousGenre=this.currentGenre,this.firstTimeSelectingGenre=!1;else for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.previousGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.$refs.elementTreeRef.setCheckedKeys(t.selectedNodes[e].selectedNodes,!1)});break}this.previousGenre=this.currentGenre},createNewClassModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.elementTreeForm=e.createElementTree(e.canons),e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalCreateClassIsOpen=!0,e.selectedNodes=[];var t=[];for(var s in e.categories)try{t.push(e.categories[s].id)}catch(e){console.log("createNewClassModalOpen err:",e)}for(var n in e.genres)e.selectedNodes.push({genreId:e.genres[n].id,genreName:e.genres[n].name,selectedNodes:t})})},editCategoriesModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalGenreCustomization=!0,e.selectedNodes=[];for(var t=0;t<e.currentClass.catFilter.length;t++)e.selectedNodes.push({genreId:e.genres[t].id,genreName:e.genres[t].name,selectedNodes:e.currentClass.catFilter[t].selectedNodes});var s=e.createCustomCanonTree(e.selectedNodes[e.selectedNodes.length-1].selectedNodes);e.elementTreeForm=e.createElementTree(s)})},nextStep:function(){""!==this.newClass.department&&""!==this.newClass.name&&""!==this.newClass.number&&""!==this.newClass.semester?this.createModalActive++:this.$message({showClose:!0,message:"Please fill out all the fields.",type:"warning"})},previousStep:function(){this.createModalActive--<=0&&(this.createModalActive=0)},handleNewClassClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.createModalActive=0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalCreateClassIsOpen=!1},handleEditCategoriesClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalGenreCustomization=!1},changeAssignmentTabEvent:function(){this.loadingAssignments=!0,this.videosWithoutUserSubs=[];var e=this;this.updateAssignments().then(function(){e.updateStudentMySubmissions()}).then(function(){e.loadingAssignments=!1})},filterClassArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.name+" "+t.number+" "+t.department+" "+t.semester).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),filterStudentsArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.firstName+" "+t.lastName).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),updateStudentClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){return e.$store.dispatch("getAllUserEnrollmentsByUserId",e.userId)}).then(function(){return e.$store.dispatch("getEnrolledClassesByUserId",e.userId)}).then(function(){e.acceptedClasses=[],e.filteredAcceptedClasses=[],e.requestedClasses=[],e.notEnrolledClasses=[],e.filteredNotEnrolledClasses=[],e.notEnrolledClasses=e.classes,e.filteredNotEnrolledClasses=e.classes;for(var t=0;t<e.enrolledClasses.length;t++){if(!e.enrolledClasses[t].archived)for(var s=0;s<e.userEnrollments.length;s++)if(e.userEnrollments[s].classId===e.enrolledClasses[t].id){if(e.userEnrollments[s].accepted){e.acceptedClasses.push(e.enrolledClasses[t]),e.filteredAcceptedClasses.push(e.enrolledClasses[t]);break}e.requestedClasses.push(e.enrolledClasses[t]);break}for(var n=e.notEnrolledClasses.length-1;n>=0;n--)if(e.notEnrolledClasses[n].id===e.enrolledClasses[t].id){e.notEnrolledClasses.splice(n,1),e.filteredNotEnrolledClasses=e.notEnrolledClasses;break}}})},updateAdminClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){e.adminActiveClasses=[],e.filteredAdminActiveClasses=[],e.adminArchivedClasses=[],e.filteredAdminArchivedClasses=[];for(var t=0;t<e.classes.length;t++)e.classes[t].archived?(e.adminArchivedClasses.push(e.classes[t]),e.filteredAdminArchivedClasses.push(e.classes[t])):(e.adminActiveClasses.push(e.classes[t]),e.filteredAdminActiveClasses.push(e.classes[t]))})},updateProfessorClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){e.professorActiveClasses=[],e.filteredProfessorActiveClasses=[],e.professorArchivedClasses=[],e.filteredProfessorArchivedClasses=[];for(var t=0;t<e.classes.length;t++)e.classes[t].professorId===e.userId&&(e.classes[t].archived?(e.professorArchivedClasses.push(e.classes[t]),e.filteredProfessorArchivedClasses.push(e.classes[t])):(e.professorActiveClasses.push(e.classes[t]),e.filteredProfessorActiveClasses.push(e.classes[t])))})},updateStudentMySubmissions:function(){var e=this;return this.$store.dispatch("getCollaboratedVideosByUserId",e.userId).then(function(){for(var t=0;t<e.videos.length;t++){for(var s=!1,n=0;n<e.userCollaborated.length;n++)if(e.videos[t].id===e.userCollaborated[n].id){s=!0;break}s||e.videosWithoutUserSubs.push(e.videos[t])}})},createInvitation:function(){if(""===this.invitation.email||""===this.invitation.role)this.$message({showClose:!0,message:"Please complete all the fields.",type:"warning"});else if(this.invitation.email!=this.repeatEmail)this.$message({showClose:!0,message:"Please repeat e-mail address correctly.",type:"warning"});else{var e=this;this.secureHTTPService.post("invitation",this.invitation).then(function(t){e.$message({showClose:!0,message:"Invitation code: "+t.data.data.id,type:"warning"})}).catch(function(t){console.log("Error while posting invitation: ",t),e.$message({showClose:!0,message:"Something went wrong.",type:"warning"})}),this.modalInviteUserIsOpen=!1,this.invitation={email:"",role:""},this.repeatEmail=""}},deleteClass:function(){var e=this.currentClass.id,t=this;this.$store.dispatch("getEnrollmentsByClassId",e).then(function(){}).then(function(){for(var e=0;e<t.classEnrollments.length;e++)t.$store.dispatch("deleteEnrollment",t.classEnrollments[e].id)}).then(function(){return t.$store.dispatch("deleteClass",e).then(function(){})}).then(function(){t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.modalDeleteClassIsOpen=!1,t.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"}),t.loadingClasses=!1})})},setCurrentClass:function(e){if("professor"===this.role||"administrator"===this.role){this.loadingClasses=!0;var t=this;this.$store.commit("RESET_ASSIGNMENTS"),this.updateStudents().then(function(){t.updateAssignments()}).then(function(){"professor"!==t.role&&"administrator"!==t.role||(t.loadingClasses=!1)})}this.$store.commit("CURRENT_CLASS_SELECT",e)},createClass:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.newClass.catFilter=this.selectedNodes,this.newClass.professorId=this.userId;var t=this;this.$store.dispatch("createClass",{newClass:this.newClass}).then(function(e){"administrator"===t.role?(t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.loadingClasses=!1})):"professor"===t.role&&(t.loadingClasses=!0,t.updateProfessorClasses().then(function(){t.loadingClasses=!1})),t.$store.commit("CURRENT_CLASS_SELECT",{name:e.data.data.name,id:e.data.data.id,number:e.data.data.number,department:e.data.data.department,catFilter:e.data.data.catFilter})}),this.handleNewClassClose(),this.openAssignmentsModal(!0)},saveNewCustomCategories:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.currentClass.catFilter=this.selectedNodes;var t=this;console.log("Now PUTing edited class to server:",this.currentClass),this.$store.dispatch("editClass",{currentClass:this.currentClass}).then(function(e){"administrator"===t.role?(t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.loadingClasses=!1})):"professor"===t.role&&(t.loadingClasses=!0,t.updateProfessorClasses().then(function(){t.loadingClasses=!1}))}),this.handleEditCategoriesClose()},archiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.currentClass.id&&!this.classes[s].archived){this.classes[s].archived=!0,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("archiveClass",{classId:e,classObject:t}).then(function(){"administrator"==a.role?(a.loadingClasses=!0,a.updateAdminClasses().then(function(){a.loadingClasses=!1})):"professor"===a.role&&(a.loadingClasses=!0,a.updateProfessorClasses().then(function(){a.loadingClasses=!1})),a.modalArchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"})}).catch(function(e){console.log("Error on archive class PUT: ",e)})},unArchiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.classIdClicked&&this.classes[s].archived){this.classes[s].archived=!1,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("unArchiveClass",{classId:e,classObject:t}).then(function(){"administrator"==a.role?(a.loadingClasses=!0,a.updateAdminClasses().then(function(){a.loadingClasses=!1,a.sidebarClassesTab="activeClasses"})):"professor"===a.role&&(a.loadingClasses=!0,a.updateProfessorClasses().then(function(){a.loadingClasses=!1,a.sidebarClassesTab="activeClasses"})),a.modalUnarchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:t.name,id:t.id,number:t.number,department:t.classDepartment})}).catch(function(e){console.log("Error on unarchive class PUT: ",e)})},openModalUnarchiveClass:function(e){this.classIdClicked=e,this.modalUnarchiveClassIsOpen=!0},toggleModalStudentRequests:function(){this.modalStudentRequestsIsOpen?(this.modalStudentRequestsIsOpen=!1,this.loadingModalStudents=!1):(this.modalStudentRequestsIsOpen=!0,this.modalStudentRequestsTab="enrolledStudents",this.loadingModalStudents=!0);var e=this;this.updateStudents().then(function(){e.loadingModalStudents=!1})},updateStudents:function(){var e=this;return this.$store.dispatch("getEnrolledUsersByClassId",this.currentClass.id).then(function(){return e.$store.dispatch("getEnrollmentsByClassId",e.currentClass.id)}).then(function(){e.enrolledStudents=[],e.filteredEnrolledStudents=[],e.requestedStudents=[],e.filteredRequestedStudents=[],e.otherStudents=[],e.filteredOtherStudents=[];for(var t=0;t<e.users.length;t++)"student"===e.users[t].role&&e.otherStudents.push(e.users[t]);e.filteredOtherStudents=e.otherStudents;for(var s=0;s<e.classEnrolledStudents.length;s++){for(var n=0;n<e.classEnrollments.length;n++)e.classEnrollments[n].userId===e.classEnrolledStudents[s].id&&(e.classEnrollments[n].accepted?(e.enrolledStudents.push(e.classEnrolledStudents[s]),e.filteredEnrolledStudents.push(e.classEnrolledStudents[s])):(e.requestedStudents.push(e.classEnrolledStudents[s]),e.filteredRequestedStudents.push(e.classEnrolledStudents[s])));for(var a=e.otherStudents.length-1;a>=0;a--)if(e.otherStudents[a].id===e.classEnrolledStudents[s].id){e.otherStudents.splice(a,1),e.filteredOtherStudents=e.otherStudents;break}}}).catch(function(e){console.log("Error while updating enrolled users of class: ",e)})},acceptStudent:function(e,t){this.requestedStudents.splice(e,1),this.filteredRequestedStudents=this.requestedStudents,this.enrolledStudents.push(t),this.filteredEnrolledStudents.push(t),this.loadingModalStudents=!0;var s=t.id,n=null,a=this;return this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(e){for(var t=0,s=a.userEnrollments.length;t<s;t++)if(a.userEnrollments[t].classId===a.currentClass.id){n=a.userEnrollments[t];break}try{return void(n.accepted=!0)}catch(e){console.log("Error while accepting enrollment. Enrollment to be accepted not found?",e)}}).then(function(){return a.$store.dispatch("editEnrollment",n).then(function(){return a.updateStudents().then(function(){a.loadingModalStudents=!1})})}).catch(function(e){console.log(e)})},acceptAllStudents:function(){for(var e=this.requestedStudents.length-1;e>=0;e--){this.loadingModalStudents=!0;var t=this;this.acceptStudent(e,this.requestedStudents[e]).then(function(){-1==e&&(t.loadingModalStudents=!1,t.modalStudentRequestsTab="enrolledStudents")})}},enrollStudent:function(e,t){this.loadingModalStudents=!0,this.otherStudents.splice(e,1),this.filteredOtherStudents=this.otherStudents,this.enrolledStudents.push(t),this.filteredEnrolledStudents.push(t);var s=t.id,n={classId:this.currentClass.id,userId:s,accepted:!0},a=this;this.$store.dispatch("createEnrollment",n).then(function(){a.updateStudents().then(function(){a.loadingModalStudents=!1,a.modalStudentRequestsTab="otherStudents"})})},deleteEnrollment:function(e,t){this.loadingModalStudents=!0,this.enrolledStudents.splice(e,1),this.filteredEnrolledStudents=this.enrolledStudents,this.otherStudents.push(t),this.filteredOtherStudents.push(t);var s=t.id,n=this;this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(){for(var e="",t=0;t<n.userEnrollments.length;t++)if(n.userEnrollments[t].userId===s){e=n.userEnrollments[t].id;break}return n.$store.dispatch("deleteEnrollment",e)}).then(function(){n.updateStudents().then(function(){n.loadingModalStudents=!1,n.modalStudentRequestsTab="enrolledStudents"})})},deleteRequest:function(e,t){this.loadingModalStudents=!0,this.requestedStudents.splice(e,1),this.filteredRequestedStudents=this.requestedStudents,this.otherStudents.push(t),this.filteredOtherStudents.push(t);var s=t.id,n=this;this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(){for(var e="",t=0;t<n.userEnrollments.length;t++)if(n.userEnrollments[t].userId===s&&n.userEnrollments[t].classId===n.currentClass.id){e=n.userEnrollments[t].id;break}return n.$store.dispatch("deleteEnrollment",e)}).then(function(){n.updateStudents().then(function(){n.loadingModalStudents=!1,n.modalStudentRequestsTab="enrolledStudents"})})},openAssignmentsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadingAssignments=!0,this.videosWithoutUserSubs=[];var t=this;this.updateAssignments().then(function(){t.updateStudentMySubmissions()}).then(function(){t.loadingAssignments=!1,e&&(t.startingAssignmentMessageVisible=!0)}).then(function(){t.modalClassAssignmentsIsOpen=!0})},updateAssignments:function(){return this.$store.dispatch("getAssignments",this.currentClass.id)},createAssignment:function(){""!==this.currentClass.id&&""!==this.assignmentTitle&&""!==this.assignmentDescription&&""!==this.assignmentGenre&&""!==this.assignmentDueDate?(this.$store.dispatch("createAssignment",{classId:this.currentClass.id,title:this.assignmentTitle,description:this.assignmentDescription,genre:this.assignmentGenre,dueDate:this.assignmentDueDate}),this.assignmentTitle="",this.assignmentDescription="",this.assignmentGenre=""):this.$message({showClose:!0,message:"Please complete all assignment fields.",type:"warning"})},deleteAssignment:function(e){console.log("delete assignment"),this.$store.dispatch("deleteAssignment",e)},toggleTitleEdit:function(e){console.log("toggleTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].style.display="block"},saveTitleEdit:function(e,t){console.log("saveTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].value,s.description=this.assignments[n].description,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleDescriptionEdit:function(e){console.log("toggleDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByTagName("textarea")[0].style.display="block",console.log(this.assignments)},saveDescriptionEdit:function(e,t){console.log("saveDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].innerHTML,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleGenreEdit:function(e){console.log("toggleGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].style.display="block"},saveGenreEdit:function(e,t){console.log("saveGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreName")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=this.assignments[n].description,s.genre=e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].value,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},saveDueDateEdit:function(e,t){console.log("saveGenreEdit()"),this.$store.dispatch("editAssignment",{id:t,assignment:{dueDate:e}})},createElementTree:function(e){var t=[];for(var s in e){t.push({label:s,id:"",desc:"",children:[]}),e[s].description&&(t[t.length-1].desc=e[s].description);for(var n in e[s].categories){t[t.length-1].children.push({label:e[s].categories[n].name,id:e[s].categories[n].id,desc:"",children:[]}),e[s].categories[n].description&&(t[t.length-1].children[t[t.length-1].children.length-1].desc=e[s].categories[n].description);for(var a in e[s].categories[n].subcategories)t[t.length-1].children[t[t.length-1].children.length-1].children.push({label:e[s].categories[n].subcategories[a].name,id:e[s].categories[n].subcategories[a].id,desc:""}),e[s].categories[n].subcategories[e[s].categories[n].subcategories.length-1].description&&(t[t.length-1].children[t[t.length-1].children.length-1].children[t[t.length-1].children[t[t.length-1].children.length-1].children.length-1].desc=e[s].categories[n].subcategories[a].description)}}return t},findCatId:function(e,t){for(var s in t)if(t[s]===e)return!0;return!1},copy:function(e){var t,s,n;t=Array.isArray(e)?[]:{};for(n in e)s=e[n],t[n]="object"===(void 0===s?"undefined":o()(s))?this.copy(s):s;return t},createCustomCanonTree:function(e){var t=this.copy(this.canons),s=t;for(var n in s)for(var a=t[n].categories,i=0;i<a.length;i++)if(0!=a[i].subcategories.length){for(var o=a[i].subcategories,r=0;r<o.length;r++)if(!this.findCatId(o[r].id,e)&&(o.splice(r,1),r--,0==o.length&&(a.splice(i,1),i--),0==a.length)){delete s[n];break}}else if(0==a[i].subcategories.length&&!this.findCatId(a[i].id,e)&&(a.splice(i,1),i--,0==a.length)){delete s[n];break}return t},addNewCategory:function(){console.log("Adding ",this.newCategoryName,"category to ",this.newCategoryCanon,"canon"),console.log("With description ",this.newCategoryDesc),console.log("TODO")},toggleModalClassesToEnroll:function(){this.modalClassesToEnrollIsOpen?(this.modalClassesToEnrollIsOpen=!1,this.loadingModalClasses=!1):(this.modalClassesRequestsTab="classesToEnroll",this.modalClassesToEnrollIsOpen=!0,this.loadingModalClasses=!0);var e=this;this.updateStudentClasses().then(function(){e.loadingModalClasses=!1})},requestToEnrollToClass:function(e){var t=e.path[2].children[1].innerHTML,s={classId:t,userId:this.userId},n=this;this.$store.dispatch("createEnrollment",s).then(function(){n.updateStudentClasses().then(function(){}),n.toggleModalClassesToEnroll(),n.$message({showClose:!0,message:"Enrollment request sent.",type:"success"})})},secondsToMMSS:function(e){e=Number(e);var t=Math.floor(e%3600/60),e=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+e).slice(-2)}},computed:a()({},s.i(c.b)(["videos","classes","currentClass","assignments","genres","categories","enrollments","userEnrollments","enrolledClasses","classEnrolledStudents","classEnrollments","users","userCollaborated","canons"])),components:{"mt-video-itemlist":h.a}}},364:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6);t.default={props:["currentVideo"],data:function(){return{videoGenre:"Loading..."}},computed:a()({},s.i(i.b)(["videos","genres"])),mounted:function(){var e=this;this.$store.dispatch("getGenres").then(function(){for(var t=0;t<e.genres.length;t++)if(e.genres[t].id===e.currentVideo.genre){e.videoGenre=e.genres[t].name;break}})}}},365:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6);t.default={props:["currentVideo","enableStatistics","showCollaborators"],data:function(){return{showDialog:!1,role:this.$root.$options.authService.getAuthData().role,secureHTTPService:this.$root.$options.secureHTTPService,numberOfAnnotations:0,numberOfRatedAnnotations:0,ratingAverage:0,genreName:"",deleteModalIsOpen:!1,modalCanonChartIsOpen:!1,loadingModalCanonChart:!1,chartData:{columns:["canon","averageRating"],rows:[]},chartSettings:{yAxisType:"value",min:[0],max:[5]},chartExtend:{series:{}},canonInfo:[],loadingCollaborators:!0,localCollaborators:[]}},methods:{openModalCanonChart:function(){var e=this;this.modalCanonChartIsOpen=!0,this.loadingModalCanonChart=!0,this.$store.dispatch("getVideoAnnotations",this.currentVideo.id).then(function(){e.loadingModalCanonChart=!1,e.canonAverageRating(e.videoAnnotations)})},canonAverageRating:function(e){this.canonInfo=[],this.chartData.rows=[];for(var t=!1,s=0;s<e.length;s++){for(var n=0;n<this.canonInfo.length;n++)e[s].canon===this.canonInfo[n].canon&&(t=!0,0!=e[s].rating&&(this.canonInfo[n].sumRating=this.canonInfo[n].sumRating+e[s].rating,this.canonInfo[n].annotationCount++));!1===t&&0!=e[s].rating&&this.canonInfo.push({canon:e[s].canon,sumRating:e[s].rating,annotationCount:1}),t=!1}for(var a=["Invention","Structure","Delivery","Visuals","Style"],s=0;s<a.length;s++)for(var n=0;n<this.canonInfo.length;n++)this.canonInfo[n].canon===a[s]&&this.moveArrayItemByIndex(this.canonInfo,n,s);for(var s=0;s<this.canonInfo.length;s++)this.chartData.rows.push({canon:this.canonInfo[s].canon,averageRating:this.canonInfo[s].sumRating/this.canonInfo[s].annotationCount});for(var i=[],s=0;s<this.canonInfo.length;s++)"Invention"===this.canonInfo[s].canon?i.push("#15314F"):"Structure"===this.canonInfo[s].canon?i.push("#F2992E"):"Delivery"===this.canonInfo[s].canon?i.push("#39A0ED"):"Visuals"===this.canonInfo[s].canon?i.push("#717C89"):"Style"===this.canonInfo[s].canon&&i.push("#38C97C");this.chartExtend={series:function(e){return e[0].data=e[0].data.map(function(e,t){return{value:e,itemStyle:{color:i[t]}}}),e}}},moveArrayItemByIndex:function(e,t,s){e.splice(s,0,e.splice(t,1)[0])},toggleDeleteConfirmationModal:function(){this.deleteModalIsOpen?this.deleteModalIsOpen=!1:this.deleteModalIsOpen=!0},deleteVideo:function(){this.$store.dispatch("deleteVideo",this.currentVideo.id)},featureGlobal:function(e){var t=$(e.currentTarget).siblings()[0].getAttribute("href");t=t.substring(7,t.length);for(var s=0,n=this.videos.length;s<n;s++)this.videos[s].id===t&&!1===this.videos[s].featuredGlobal&&(this.videos[s].featuredGlobal=!0,this.$store.dispatch("featureGlobal",this.videos[s]))},unfeatureGlobal:function(e){var t=$(e.currentTarget).siblings()[0].getAttribute("href");t=t.substring(7,t.length);for(var s=0,n=this.videos.length;s<n;s++)this.videos[s].id===t&&!0===this.videos[s].featuredGlobal&&(this.videos[s].featuredGlobal=!1,this.$store.dispatch("unfeatureGlobal",this.videos[s]))},featureVideo:function(e){var t=$(e.currentTarget).siblings()[0].getAttribute("href");t=t.substring(7,t.length);for(var s=0,n=this.videos.length;s<n;s++)this.videos[s].id===t&&!1===this.videos[s].featuredClass&&(this.videos[s].featuredClass=!0,this.$store.dispatch("featureVideo",this.videos[s]))},unfeatureVideo:function(e){var t=$(e.currentTarget).siblings()[0].getAttribute("href");t=t.substring(7,t.length);for(var s=0,n=this.videos.length;s<n;s++)this.videos[s].id===t&&!0===this.videos[s].featuredClass&&(this.videos[s].featuredClass=!1,this.$store.dispatch("unfeatureVideo",this.videos[s]))},secondsToMMSS:function(e){e=Number(e);var t=Math.floor(e%3600/60),e=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+e).slice(-2)},loadCollaborators:function(){return this.$store.dispatch("getCollaboratorsByVideoId",this.currentVideo.id)}},computed:a()({},s.i(i.b)(["videos","genres","videoAnnotations","videoCollaborators"])),created:function(){},mounted:function(){var e=this;this.loadingCollaborators=!0,this.loadCollaborators().then(function(){e.localCollaborators=e.videoCollaborators,e.loadingCollaborators=!1}),this.secureHTTPService.get("annotation/?videoId="+this.currentVideo.id).then(function(t){e.numberOfAnnotations=t.data.data.length,e.numberOfRatedAnnotations=t.data.data.length;for(var s=0,n=0;n<t.data.data.length;n++)s+=t.data.data[n].rating,0==t.data.data[n].rating&&e.numberOfRatedAnnotations--;0!==e.numberOfRatedAnnotations&&(e.ratingAverage=s/e.numberOfRatedAnnotations)}).catch(function(e){console.log(e)});for(var t=0;t<this.genres.length;t++)if(this.genres[t].id===this.currentVideo.genre){this.genreName=this.genres[t].name;break}}}},366:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(97),o=s.n(i),r=s(73),l=s.n(r),c=s(6),d=s(37),u=s.n(d),m=s(92),h=s.n(m);t.default={props:[],data:function(){return{userId:this.$root.$options.authService.getAuthData().userId,secureHTTPService:this.$root.$options.secureHTTPService,loadingClasses:!1,loadingModalClasses:!1,loadingModalStudents:!1,loadingAssignments:!1,sidebarClassesTab:"activeClasses",searchInput:"",searchInputActiveClassSidebar:"",searchInputArchivedClassSidebar:"",searchInputClassModal:"",searchInputClassSidebar:"",classIdClicked:"",adminActiveClasses:[],filteredAdminActiveClasses:[],adminArchivedClasses:[],filteredAdminArchivedClasses:[],modalClassAssignmentsIsOpen:!1,videosWithoutUserSubs:[],modalCreateClassIsOpen:!1,createModalActive:0,modalArchiveClassIsOpen:!1,modalUnarchiveClassIsOpen:!1,modalStudentRequestsIsOpen:!1,modalDeleteClassIsOpen:!1,modalInviteUserIsOpen:!1,modalStudentRequestsTab:"enrolledStudents",enrolledStudents:[],filteredEnrolledStudents:[],requestedStudents:[],filteredRequestedStudents:[],otherStudents:[],filteredOtherStudents:[],assignmentsModalSubtab:"General",assignmentSelectedId:"",assignmentTitle:"",assignmentDescription:"",assignmentGenre:"",assignmentCategorySelected:"",assignmentDueDate:"",categoriesCheckList:[],startingAssignmentMessageVisible:!1,assignmentsBadgeOn:!1,currentGenre:"",previousGenre:"",firstTimeSelectingGenre:!0,modalGenreCustomization:!1,modalAddCategoryIsOpen:!1,newCategoryCanon:"",newCategoryName:"",newCategoryDesc:"",selectedNodes:[],elementTreeForm:[],genreProps:{children:"children",label:"label",desc:"desc"},categoryProps:{children:"children",label:"label",desc:"desc"},newClass:{archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},invitation:{email:"",role:""},repeatEmail:"",roles:[{value:"student",label:"Student"},{value:"professor",label:"Professor"},{value:"administrator",label:"Administrator"}]}},mounted:function(){this.$store.dispatch("getCategories"),this.loadingClasses=!0;var e=this;e.updateAdminClasses().then(function(){e.loadingClasses=!1})},methods:{handleGenreSelection:function(){if(this.firstTimeSelectingGenre)this.previousGenre=this.currentGenre,this.firstTimeSelectingGenre=!1;else for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.previousGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.$refs.elementTreeRef.setCheckedKeys(t.selectedNodes[e].selectedNodes,!1)});break}this.previousGenre=this.currentGenre},createNewClassModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.elementTreeForm=e.createElementTree(e.canons),e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalCreateClassIsOpen=!0,e.selectedNodes=[];var t=[];for(var s in e.categories)try{t.push(e.categories[s].id)}catch(e){console.log("createNewClassModalOpen err:",e)}for(var n in e.genres)e.selectedNodes.push({genreId:e.genres[n].id,genreName:e.genres[n].name,selectedNodes:t})})},editCategoriesModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalGenreCustomization=!0,e.selectedNodes=[];for(var t=0;t<e.currentClass.catFilter.length;t++)e.selectedNodes.push({genreId:e.genres[t].id,genreName:e.genres[t].name,selectedNodes:e.currentClass.catFilter[t].selectedNodes});var s=e.createCustomCanonTree(e.selectedNodes[e.selectedNodes.length-1].selectedNodes);e.elementTreeForm=e.createElementTree(s)})},nextStep:function(){""!==this.newClass.department&&""!==this.newClass.name&&""!==this.newClass.number&&""!==this.newClass.semester?this.createModalActive++:this.$message({showClose:!0,message:"Please fill out all the fields.",type:"warning"})},previousStep:function(){this.createModalActive--<=0&&(this.createModalActive=0)},handleNewClassClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.createModalActive=0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalCreateClassIsOpen=!1},handleEditCategoriesClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalGenreCustomization=!1},filterClassArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.name+" "+t.number+" "+t.department+" "+t.semester).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),filterStudentsArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.firstName+" "+t.lastName).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),updateAdminClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){e.adminActiveClasses=[],e.filteredAdminActiveClasses=[],e.adminArchivedClasses=[],e.filteredAdminArchivedClasses=[];for(var t=0;t<e.classes.length;t++)e.classes[t].archived?(e.adminArchivedClasses.push(e.classes[t]),e.filteredAdminArchivedClasses.push(e.classes[t])):(e.adminActiveClasses.push(e.classes[t]),e.filteredAdminActiveClasses.push(e.classes[t]))})},createInvitation:function(){if(""===this.invitation.email||""===this.invitation.role)this.$message({showClose:!0,message:"Please complete all the fields.",type:"warning"});else if(this.invitation.email!=this.repeatEmail)this.$message({showClose:!0,message:"Please repeat e-mail address correctly.",type:"warning"});else{var e=this;this.secureHTTPService.post("invitation",this.invitation).then(function(t){e.$message({showClose:!0,message:"Invitation code: "+t.data.data.id,type:"warning"})}).catch(function(t){console.log("Error while posting invitation: ",t),e.$message({showClose:!0,message:"Something went wrong.",type:"warning"})}),this.modalInviteUserIsOpen=!1,this.invitation={email:"",role:""},this.repeatEmail=""}},deleteClass:function(){var e=this.currentClass.id,t=this;this.$store.dispatch("getEnrollmentsByClassId",e).then(function(){}).then(function(){for(var e=0;e<t.classEnrollments.length;e++)t.$store.dispatch("deleteEnrollment",t.classEnrollments[e].id)}).then(function(){return t.$store.dispatch("deleteClass",e).then(function(){})}).then(function(){t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.modalDeleteClassIsOpen=!1,t.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"}),t.loadingClasses=!1})})},setCurrentClass:function(e){this.loadingClasses=!0;var t=this;this.$store.commit("RESET_ASSIGNMENTS"),this.$store.commit("CURRENT_CLASS_SELECT",e),this.updateStudents().then(function(){t.updateAssignments()}).then(function(){t.loadingClasses=!1})},createClass:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.newClass.catFilter=this.selectedNodes,this.newClass.professorId=this.userId;var t=this;this.$store.dispatch("createClass",{newClass:this.newClass}).then(function(e){t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.loadingClasses=!1}),t.$store.commit("CURRENT_CLASS_SELECT",{name:e.data.data.name,id:e.data.data.id,number:e.data.data.number,department:e.data.data.department,catFilter:e.data.data.catFilter})}),this.handleNewClassClose(),this.assignmentsBadgeOn=!0},saveNewCustomCategories:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.currentClass.catFilter=this.selectedNodes;var t=this;console.log("Now PUTing edited class to server:",this.currentClass),this.$store.dispatch("editClass",{currentClass:this.currentClass}).then(function(e){t.loadingClasses=!0,t.updateAdminClasses().then(function(){t.loadingClasses=!1})}),this.handleEditCategoriesClose()},archiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.currentClass.id&&!this.classes[s].archived){this.classes[s].archived=!0,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("archiveClass",{classId:e,classObject:t}).then(function(){a.loadingClasses=!0,a.updateAdminClasses().then(function(){a.loadingClasses=!1}),a.modalArchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"})}).catch(function(e){console.log("Error on archive class PUT: ",e)})},unArchiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.classIdClicked&&this.classes[s].archived){this.classes[s].archived=!1,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("unArchiveClass",{classId:e,classObject:t}).then(function(){a.loadingClasses=!0,a.updateAdminClasses().then(function(){a.loadingClasses=!1,a.sidebarClassesTab="activeClasses"}),a.modalUnarchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:t.name,id:t.id,number:t.number,department:t.classDepartment})}).catch(function(e){console.log("Error on unarchive class PUT: ",e)})},openModalUnarchiveClass:function(e){this.classIdClicked=e,this.modalUnarchiveClassIsOpen=!0},toggleModalStudentRequests:function(){this.modalStudentRequestsIsOpen?(this.modalStudentRequestsIsOpen=!1,this.loadingModalStudents=!1):(this.modalStudentRequestsIsOpen=!0,this.modalStudentRequestsTab="enrolledStudents",this.loadingModalStudents=!0);var e=this;this.updateStudents().then(function(){e.loadingModalStudents=!1})},updateStudents:function(){var e=this;return this.$store.dispatch("getEnrolledUsersByClassId",this.currentClass.id).then(function(){return e.$store.dispatch("getEnrollmentsByClassId",e.currentClass.id)}).then(function(){e.enrolledStudents=[],e.filteredEnrolledStudents=[],e.requestedStudents=[],e.filteredRequestedStudents=[],e.otherStudents=[],e.filteredOtherStudents=[];for(var t=0;t<e.users.length;t++)"student"===e.users[t].role&&e.otherStudents.push(e.users[t]);e.filteredOtherStudents=e.otherStudents;for(var s=0;s<e.classEnrolledStudents.length;s++){for(var n=0;n<e.classEnrollments.length;n++)e.classEnrollments[n].userId===e.classEnrolledStudents[s].id&&(e.classEnrollments[n].accepted?(e.enrolledStudents.push(e.classEnrolledStudents[s]),e.filteredEnrolledStudents.push(e.classEnrolledStudents[s])):(e.requestedStudents.push(e.classEnrolledStudents[s]),e.filteredRequestedStudents.push(e.classEnrolledStudents[s])));for(var a=e.otherStudents.length-1;a>=0;a--)if(e.otherStudents[a].id===e.classEnrolledStudents[s].id){e.otherStudents.splice(a,1),e.filteredOtherStudents=e.otherStudents;break}}}).catch(function(e){console.log("Error while updating enrolled users of class: ",e)})},acceptStudent:function(e,t){this.requestedStudents.splice(e,1),this.filteredRequestedStudents=this.requestedStudents,this.enrolledStudents.push(t),this.filteredEnrolledStudents.push(t),this.loadingModalStudents=!0;var s=t.id,n=null,a=this;return this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(e){for(var t=0,s=a.userEnrollments.length;t<s;t++)if(a.userEnrollments[t].classId===a.currentClass.id){n=a.userEnrollments[t];break}try{return void(n.accepted=!0)}catch(e){console.log("Error while accepting enrollment. Enrollment to be accepted not found?",e)}}).then(function(){return a.$store.dispatch("editEnrollment",n).then(function(){return a.updateStudents().then(function(){a.loadingModalStudents=!1})})}).catch(function(e){console.log(e)})},acceptAllStudents:function(){for(var e=this.requestedStudents.length-1;e>=0;e--){this.loadingModalStudents=!0;var t=this;this.acceptStudent(e,this.requestedStudents[e]).then(function(){-1==e&&(t.loadingModalStudents=!1,t.modalStudentRequestsTab="enrolledStudents")})}},enrollStudent:function(e,t){this.loadingModalStudents=!0,this.otherStudents.splice(e,1),this.filteredOtherStudents=this.otherStudents,this.enrolledStudents.push(t),this.filteredEnrolledStudents.push(t);var s=t.id,n={classId:this.currentClass.id,userId:s,accepted:!0},a=this;this.$store.dispatch("createEnrollment",n).then(function(){a.updateStudents().then(function(){a.loadingModalStudents=!1,a.modalStudentRequestsTab="otherStudents"})})},deleteEnrollment:function(e,t){this.loadingModalStudents=!0,this.enrolledStudents.splice(e,1),this.filteredEnrolledStudents=this.enrolledStudents,this.otherStudents.push(t),this.filteredOtherStudents.push(t);var s=t.id,n=this;this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(){for(var e="",t=0;t<n.userEnrollments.length;t++)if(n.userEnrollments[t].userId===s){e=n.userEnrollments[t].id;break}return n.$store.dispatch("deleteEnrollment",e)}).then(function(){n.updateStudents().then(function(){n.loadingModalStudents=!1,n.modalStudentRequestsTab="enrolledStudents"})})},deleteRequest:function(e,t){this.loadingModalStudents=!0,this.requestedStudents.splice(e,1),this.filteredRequestedStudents=this.requestedStudents,this.otherStudents.push(t),this.filteredOtherStudents.push(t);var s=t.id,n=this;this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(){for(var e="",t=0;t<n.userEnrollments.length;t++)if(n.userEnrollments[t].userId===s&&n.userEnrollments[t].classId===n.currentClass.id){e=n.userEnrollments[t].id;break}return n.$store.dispatch("deleteEnrollment",e)}).then(function(){n.updateStudents().then(function(){n.loadingModalStudents=!1,n.modalStudentRequestsTab="enrolledStudents"})})},openAssignmentsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadingAssignments=!0,this.videosWithoutUserSubs=[];var t=this;this.updateAssignments().then(function(){t.loadingAssignments=!1,e&&(t.startingAssignmentMessageVisible=!0)}).then(function(){t.modalClassAssignmentsIsOpen=!0})},updateAssignments:function(){return this.$store.dispatch("getAssignments",this.currentClass.id)},createAssignment:function(){""!==this.currentClass.id&&""!==this.assignmentTitle&&""!==this.assignmentDescription&&""!==this.assignmentGenre&&""!==this.assignmentDueDate?(this.$store.dispatch("createAssignment",{classId:this.currentClass.id,title:this.assignmentTitle,description:this.assignmentDescription,genre:this.assignmentGenre,dueDate:this.assignmentDueDate}),this.assignmentTitle="",this.assignmentDescription="",this.assignmentGenre="",this.assignmentDueDate="",this.assignmentsBadgeOn=!1):this.$message({showClose:!0,message:"Please complete all assignment fields.",type:"warning"})},deleteAssignment:function(e){console.log("delete assignment"),this.$store.dispatch("deleteAssignment",e)},toggleTitleEdit:function(e){console.log("toggleTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].style.display="block"},saveTitleEdit:function(e,t){console.log("saveTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].value,s.description=this.assignments[n].description,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleDescriptionEdit:function(e){console.log("toggleDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByTagName("textarea")[0].style.display="block",console.log(this.assignments)},saveDescriptionEdit:function(e,t){console.log("saveDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].innerHTML,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleGenreEdit:function(e){console.log("toggleGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].style.display="block"},saveGenreEdit:function(e,t){console.log("saveGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreName")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=this.assignments[n].description,s.genre=e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].value,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},saveDueDateEdit:function(e,t){console.log("saveGenreEdit()"),this.$store.dispatch("editAssignment",{id:t,assignment:{dueDate:e}})},createElementTree:function(e){var t=[];for(var s in e){t.push({label:s,id:"",desc:"",children:[]}),e[s].description&&(t[t.length-1].desc=e[s].description);for(var n in e[s].categories){t[t.length-1].children.push({label:e[s].categories[n].name,id:e[s].categories[n].id,desc:"",children:[]}),e[s].categories[n].description&&(t[t.length-1].children[t[t.length-1].children.length-1].desc=e[s].categories[n].description);for(var a in e[s].categories[n].subcategories)t[t.length-1].children[t[t.length-1].children.length-1].children.push({label:e[s].categories[n].subcategories[a].name,id:e[s].categories[n].subcategories[a].id,desc:""}),e[s].categories[n].subcategories[e[s].categories[n].subcategories.length-1].description&&(t[t.length-1].children[t[t.length-1].children.length-1].children[t[t.length-1].children[t[t.length-1].children.length-1].children.length-1].desc=e[s].categories[n].subcategories[a].description)}}return t},findCatId:function(e,t){for(var s in t)if(t[s]===e)return!0;return!1},copy:function(e){var t,s,n;t=Array.isArray(e)?[]:{};for(n in e)s=e[n],t[n]="object"===(void 0===s?"undefined":o()(s))?this.copy(s):s;return t},createCustomCanonTree:function(e){var t=this.copy(this.canons),s=t;for(var n in s)for(var a=t[n].categories,i=0;i<a.length;i++)if(0!=a[i].subcategories.length){for(var o=a[i].subcategories,r=0;r<o.length;r++)if(!this.findCatId(o[r].id,e)&&(o.splice(r,1),r--,0==o.length&&(a.splice(i,1),i--),0==a.length)){delete s[n];break}}else if(0==a[i].subcategories.length&&!this.findCatId(a[i].id,e)&&(a.splice(i,1),i--,0==a.length)){delete s[n];break}return t},addNewCategory:function(){console.log("Adding ",this.newCategoryName,"category to ",this.newCategoryCanon,"canon"),console.log("With description ",this.newCategoryDesc),console.log("TODO")}},computed:a()({},s.i(c.b)(["videos","classes","currentClass","assignments","genres","categories","enrollments","userEnrollments","classEnrolledStudents","classEnrollments","users","canons","userCollaborated"])),components:{"mt-video-itemlist":h.a}}},367:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(97),o=s.n(i),r=s(73),l=s.n(r),c=s(6),d=s(37),u=s.n(d),m=s(92),h=s.n(m);t.default={props:[],data:function(){return{userId:this.$root.$options.authService.getAuthData().userId,loadingClasses:!1,loadingModalStudents:!1,loadingAssignments:!1,sidebarClassesTab:"activeClasses",searchInput:"",searchInputActiveClassSidebar:"",searchInputArchivedClassSidebar:"",classIdClicked:"",professorActiveClasses:[],filteredProfessorActiveClasses:[],professorArchivedClasses:[],filteredProfessorArchivedClasses:[],modalClassAssignmentsIsOpen:!1,modalCreateClassIsOpen:!1,createModalActive:0,modalArchiveClassIsOpen:!1,modalUnarchiveClassIsOpen:!1,modalStudentRequestsIsOpen:!1,modalStudentRequestsTab:"enrolledStudents",enrolledStudents:[],filteredEnrolledStudents:[],requestedStudents:[],filteredRequestedStudents:[],otherStudents:[],filteredOtherStudents:[],assignmentsModalSubtab:"General",assignmentTitle:"",assignmentDescription:"",assignmentGenre:"",assignmentCategorySelected:"",assignmentDueDate:"",categoriesCheckList:[],startingAssignmentMessageVisible:!1,currentGenre:"",previousGenre:"",firstTimeSelectingGenre:!0,modalGenreCustomization:!1,modalAddCategoryIsOpen:!1,newCategoryCanon:"",newCategoryName:"",newCategoryDesc:"",selectedNodes:[],elementTreeForm:[],genreProps:{children:"children",label:"label",desc:"desc"},newClass:{archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]}}},mounted:function(){this.$store.dispatch("getCategories"),this.loadingClasses=!0;var e=this;e.updateProfessorClasses().then(function(){e.loadingClasses=!1})},methods:{handleGenreSelection:function(){if(this.firstTimeSelectingGenre)this.previousGenre=this.currentGenre,this.firstTimeSelectingGenre=!1;else for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.previousGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.$refs.elementTreeRef.setCheckedKeys(t.selectedNodes[e].selectedNodes,!1)});break}this.previousGenre=this.currentGenre},createNewClassModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.elementTreeForm=e.createElementTree(e.canons),e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalCreateClassIsOpen=!0,e.selectedNodes=[];var t=[];for(var s in e.categories)try{t.push(e.categories[s].id)}catch(e){console.log("createNewClassModalOpen err:",e)}for(var n in e.genres)e.selectedNodes.push({genreId:e.genres[n].id,genreName:e.genres[n].name,selectedNodes:t})})},editCategoriesModalOpen:function(){var e=this;this.$store.dispatch("getCanons").then(function(){return e.$store.dispatch("getGenres")}).then(function(){return e.$store.dispatch("getCategories")}).then(function(){e.modalGenreCustomization=!0,e.selectedNodes=[];for(var t=0;t<e.currentClass.catFilter.length;t++)e.selectedNodes.push({genreId:e.genres[t].id,genreName:e.genres[t].name,selectedNodes:e.currentClass.catFilter[t].selectedNodes});var s=e.createCustomCanonTree(e.selectedNodes[e.selectedNodes.length-1].selectedNodes);e.elementTreeForm=e.createElementTree(s)})},nextStep:function(){""!==this.newClass.department&&""!==this.newClass.name&&""!==this.newClass.number&&""!==this.newClass.semester?this.createModalActive++:this.$message({showClose:!0,message:"Please fill out all the fields.",type:"warning"})},previousStep:function(){this.createModalActive--<=0&&(this.createModalActive=0)},handleNewClassClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.createModalActive=0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalCreateClassIsOpen=!1},handleEditCategoriesClose:function(){this.currentGenre="",this.previousGenre="",this.firstTimeSelectingGenre=!0,this.newClass={archived:!1,department:"",name:"",number:"",semester:"",catFilter:[]},this.modalGenreCustomization=!1},filterClassArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.name+" "+t.number+" "+t.department+" "+t.semester).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),filterStudentsArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.firstName+" "+t.lastName).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),updateProfessorClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){e.professorActiveClasses=[],e.filteredProfessorActiveClasses=[],e.professorArchivedClasses=[],e.filteredProfessorArchivedClasses=[];for(var t=0;t<e.classes.length;t++)e.classes[t].professorId===e.userId&&(e.classes[t].archived?(e.professorArchivedClasses.push(e.classes[t]),e.filteredProfessorArchivedClasses.push(e.classes[t])):(e.professorActiveClasses.push(e.classes[t]),e.filteredProfessorActiveClasses.push(e.classes[t])))})},setCurrentClass:function(e){this.loadingClasses=!0;var t=this;this.$store.commit("RESET_ASSIGNMENTS"),this.$store.commit("CURRENT_CLASS_SELECT",e),this.updateStudents().then(function(){t.updateAssignments()}).then(function(){t.loadingClasses=!1})},createClass:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.newClass.catFilter=this.selectedNodes,this.newClass.professorId=this.userId;var t=this;this.$store.dispatch("createClass",{newClass:this.newClass}).then(function(e){t.loadingClasses=!0,t.updateProfessorClasses().then(function(){t.loadingClasses=!1}),t.$store.commit("CURRENT_CLASS_SELECT",{name:e.data.data.name,id:e.data.data.id,number:e.data.data.number,department:e.data.data.department,catFilter:e.data.data.catFilter})}),this.handleNewClassClose(),this.openAssignmentsModal(!0)},saveNewCustomCategories:function(){for(var e in this.selectedNodes)if(this.selectedNodes[e].genreName===this.currentGenre){var t=this;new l.a(function(){t.selectedNodes[e].selectedNodes=t.$refs.elementTreeRef.getCheckedKeys(!0)});break}this.currentClass.catFilter=this.selectedNodes;var t=this;console.log("Now PUTing edited class to server:",this.currentClass),this.$store.dispatch("editClass",{currentClass:this.currentClass}).then(function(e){t.loadingClasses=!0,t.updateProfessorClasses().then(function(){t.loadingClasses=!1})}),this.handleEditCategoriesClose()},archiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.currentClass.id&&!this.classes[s].archived){this.classes[s].archived=!0,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("archiveClass",{classId:e,classObject:t}).then(function(){a.loadingClasses=!0,a.updateProfessorClasses().then(function(){a.loadingClasses=!1}),a.modalArchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:"Home"})}).catch(function(e){console.log("Error on archive class PUT: ",e)})},unArchiveClass:function(){for(var e,t={},s=0,n=this.classes.length;s<n;s++)if(this.classes[s].id===this.classIdClicked&&this.classes[s].archived){this.classes[s].archived=!1,e=this.classes[s].id,t=this.classes[s];break}var a=this;this.$store.dispatch("unArchiveClass",{classId:e,classObject:t}).then(function(){a.loadingClasses=!0,a.updateProfessorClasses().then(function(){a.loadingClasses=!1,a.sidebarClassesTab="activeClasses"}),a.modalUnarchiveClassIsOpen=!1,a.$store.commit("CURRENT_CLASS_SELECT",{name:t.name,id:t.id,number:t.number,department:t.classDepartment})}).catch(function(e){console.log("Error on unarchive class PUT: ",e)})},openModalUnarchiveClass:function(e){this.classIdClicked=e,this.modalUnarchiveClassIsOpen=!0},toggleModalStudentRequests:function(){this.modalStudentRequestsIsOpen?(this.modalStudentRequestsIsOpen=!1,this.loadingModalStudents=!1):(this.modalStudentRequestsIsOpen=!0,this.modalStudentRequestsTab="enrolledStudents",this.loadingModalStudents=!0);var e=this;this.updateStudents().then(function(){e.loadingModalStudents=!1})},updateStudents:function(){var e=this;return this.$store.dispatch("getEnrolledUsersByClassId",this.currentClass.id).then(function(){return e.$store.dispatch("getEnrollmentsByClassId",e.currentClass.id)}).then(function(){e.enrolledStudents=[],e.filteredEnrolledStudents=[],e.requestedStudents=[],e.filteredRequestedStudents=[],e.otherStudents=[],e.filteredOtherStudents=[];for(var t=0;t<e.users.length;t++)"student"===e.users[t].role&&e.otherStudents.push(e.users[t]);e.filteredOtherStudents=e.otherStudents;for(var s=0;s<e.classEnrolledStudents.length;s++){for(var n=0;n<e.classEnrollments.length;n++)e.classEnrollments[n].userId===e.classEnrolledStudents[s].id&&(e.classEnrollments[n].accepted?(e.enrolledStudents.push(e.classEnrolledStudents[s]),e.filteredEnrolledStudents.push(e.classEnrolledStudents[s])):(e.requestedStudents.push(e.classEnrolledStudents[s]),e.filteredRequestedStudents.push(e.classEnrolledStudents[s])));for(var a=e.otherStudents.length-1;a>=0;a--)if(e.otherStudents[a].id===e.classEnrolledStudents[s].id){e.otherStudents.splice(a,1),e.filteredOtherStudents=e.otherStudents;break}}}).catch(function(e){console.log("Error while updating enrolled users of class: ",e)})},acceptStudent:function(e,t){this.requestedStudents.splice(e,1),this.filteredRequestedStudents=this.requestedStudents,this.enrolledStudents.push(t),this.filteredEnrolledStudents.push(t),this.loadingModalStudents=!0;var s=t.id,n=null,a=this;return this.$store.dispatch("getAllUserEnrollmentsByUserId",s).then(function(e){for(var t=0,s=a.userEnrollments.length;t<s;t++)if(a.userEnrollments[t].classId===a.currentClass.id){n=a.userEnrollments[t];break}try{return void(n.accepted=!0)}catch(e){console.log("Error while accepting enrollment. Enrollment to be accepted not found?",e)}}).then(function(){return a.$store.dispatch("editEnrollment",n).then(function(){return a.updateStudents().then(function(){a.loadingModalStudents=!1})})}).catch(function(e){console.log(e)})},acceptAllStudents:function(){for(var e=this.requestedStudents.length-1;e>=0;e--){this.loadingModalStudents=!0;var t=this;this.acceptStudent(e,this.requestedStudents[e]).then(function(){-1==e&&(t.loadingModalStudents=!1,t.modalStudentRequestsTab="enrolledStudents")})}},openAssignmentsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadingAssignments=!0;var t=this;this.updateAssignments().then(function(){t.loadingAssignments=!1,e&&(t.startingAssignmentMessageVisible=!0)}).then(function(){t.modalClassAssignmentsIsOpen=!0})},updateAssignments:function(){return this.$store.dispatch("getAssignments",this.currentClass.id)},createAssignment:function(){""!==this.currentClass.id&&""!==this.assignmentTitle&&""!==this.assignmentDescription&&""!==this.assignmentGenre&&""!==this.assignmentDueDate?(this.$store.dispatch("createAssignment",{classId:this.currentClass.id,title:this.assignmentTitle,description:this.assignmentDescription,genre:this.assignmentGenre,dueDate:this.assignmentDueDate}),this.assignmentTitle="",this.assignmentDescription="",this.assignmentGenre="",this.assignmentDueDate=""):this.$message({showClose:!0,message:"Please complete all assignment fields.",type:"warning"})},deleteAssignment:function(e){console.log("delete assignment"),this.$store.dispatch("deleteAssignment",e)},toggleTitleEdit:function(e){console.log("toggleTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].style.display="block"},saveTitleEdit:function(e,t){console.log("saveTitleEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__titleText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=e.currentTarget.parentElement.getElementsByClassName("assignments__titleInput")[0].value,s.description=this.assignments[n].description,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleDescriptionEdit:function(e){console.log("toggleDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByTagName("textarea")[0].style.display="block",console.log(this.assignments)},saveDescriptionEdit:function(e,t){console.log("saveDescriptionEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=e.currentTarget.parentElement.getElementsByClassName("assignments__descText")[0].innerHTML,s.genre=this.assignments[n].genre,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},toggleGenreEdit:function(e){console.log("toggleGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].style.display="block"},saveGenreEdit:function(e,t){console.log("saveGenreEdit()"),e.currentTarget.style.display="none",e.currentTarget.parentElement.getElementsByClassName("assignments__genreName")[0].style.display="block";for(var s={classId:"",title:"",description:"",genre:"",id:""},n=0,a=this.assignments.length;n<a;n++)this.assignments[n].id===t&&(s.classId=this.assignments[n].classId,s.title=this.assignments[n].title,s.description=this.assignments[n].description,s.genre=e.currentTarget.parentElement.getElementsByClassName("assignments__genreSelect")[0].value,s.id=t);this.$store.dispatch("editAssignment",{id:t,assignment:s})},saveDueDateEdit:function(e,t){console.log("saveGenreEdit()"),this.$store.dispatch("editAssignment",{id:t,assignment:{dueDate:e}})},createElementTree:function(e){var t=[];for(var s in e){t.push({label:s,id:"",desc:"",children:[]}),e[s].description&&(t[t.length-1].desc=e[s].description);for(var n in e[s].categories){t[t.length-1].children.push({label:e[s].categories[n].name,id:e[s].categories[n].id,desc:"",children:[]}),e[s].categories[n].description&&(t[t.length-1].children[t[t.length-1].children.length-1].desc=e[s].categories[n].description);for(var a in e[s].categories[n].subcategories)t[t.length-1].children[t[t.length-1].children.length-1].children.push({label:e[s].categories[n].subcategories[a].name,id:e[s].categories[n].subcategories[a].id,desc:""}),e[s].categories[n].subcategories[e[s].categories[n].subcategories.length-1].description&&(t[t.length-1].children[t[t.length-1].children.length-1].children[t[t.length-1].children[t[t.length-1].children.length-1].children.length-1].desc=e[s].categories[n].subcategories[a].description)}}return t},findCatId:function(e,t){for(var s in t)if(t[s]===e)return!0;return!1},copy:function(e){var t,s,n;t=Array.isArray(e)?[]:{};for(n in e)s=e[n],t[n]="object"===(void 0===s?"undefined":o()(s))?this.copy(s):s;return t},createCustomCanonTree:function(e){var t=this.copy(this.canons),s=t;for(var n in s)for(var a=t[n].categories,i=0;i<a.length;i++)if(0!=a[i].subcategories.length){for(var o=a[i].subcategories,r=0;r<o.length;r++)if(!this.findCatId(o[r].id,e)&&(o.splice(r,1),r--,0==o.length&&(a.splice(i,1),i--),0==a.length)){delete s[n];break}}else if(0==a[i].subcategories.length&&!this.findCatId(a[i].id,e)&&(a.splice(i,1),i--,0==a.length)){delete s[n];break}return t},addNewCategory:function(){console.log("Adding ",this.newCategoryName,"category to ",this.newCategoryCanon,"canon"),console.log("With description ",this.newCategoryDesc),console.log("TODO")}},computed:a()({},s.i(c.b)(["videos","classes","currentClass","assignments","genres","categories","userEnrollments","canons","classEnrolledStudents","classEnrollments","users"])),components:{"mt-video-itemlist":h.a}}},368:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6),o=s(37),r=s.n(o),l=s(92),c=s.n(l);t.default={data:function(){return{userId:this.$root.$options.authService.getAuthData().userId,loadingClasses:!1,loadingModalClasses:!1,loadingAssignments:!1,searchInputClassModal:"",searchInputClassSidebar:"",modalClassesRequestsTab:"classesToEnroll",acceptedClasses:[],filteredAcceptedClasses:[],notEnrolledClasses:[],filteredNotEnrolledClasses:[],requestedClasses:[],modalClassAssignmentsIsOpen:!1,modalClassesToEnrollIsOpen:!1,videosWithoutUserSubs:[],assignmentsModalSubtab:"General"}},mounted:function(){this.$store.dispatch("getCategories"),this.loadingClasses=!0;var e=this;e.updateStudentClasses().then(function(){e.loadingClasses=!1})},methods:{changeAssignmentTabEvent:function(){this.loadingAssignments=!0,this.videosWithoutUserSubs=[];var e=this;this.updateAssignments().then(function(){e.updateStudentMySubmissions()}).then(function(){e.loadingAssignments=!1})},filterClassArray:r.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.name+" "+t.number+" "+t.department+" "+t.semester).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),updateStudentClasses:function(){var e=this;return this.$store.dispatch("getAllClasses").then(function(){return e.$store.dispatch("getAllUserEnrollmentsByUserId",e.userId)}).then(function(){return e.$store.dispatch("getEnrolledClassesByUserId",e.userId)}).then(function(){e.acceptedClasses=[],e.filteredAcceptedClasses=[],e.requestedClasses=[],e.notEnrolledClasses=[],e.filteredNotEnrolledClasses=[],e.notEnrolledClasses=e.classes,e.filteredNotEnrolledClasses=e.classes;for(var t=0;t<e.enrolledClasses.length;t++){if(!e.enrolledClasses[t].archived)for(var s=0;s<e.userEnrollments.length;s++)if(e.userEnrollments[s].classId===e.enrolledClasses[t].id){if(e.userEnrollments[s].accepted){e.acceptedClasses.push(e.enrolledClasses[t]),e.filteredAcceptedClasses.push(e.enrolledClasses[t]);break}e.requestedClasses.push(e.enrolledClasses[t]);break}for(var n=e.notEnrolledClasses.length-1;n>=0;n--)if(e.notEnrolledClasses[n].id===e.enrolledClasses[t].id){e.notEnrolledClasses.splice(n,1),e.filteredNotEnrolledClasses=e.notEnrolledClasses;break}}})},updateStudentMySubmissions:function(){var e=this;return this.$store.dispatch("getCollaboratedVideosByUserId",e.userId).then(function(){for(var t=0;t<e.videos.length;t++){for(var s=!1,n=0;n<e.userCollaborated.length;n++)if(e.videos[t].id===e.userCollaborated[n].id){s=!0;break}s||e.videosWithoutUserSubs.push(e.videos[t])}})},setCurrentClass:function(e){this.$store.commit("CURRENT_CLASS_SELECT",e)},openAssignmentsModal:function(){this.loadingAssignments=!0,this.videosWithoutUserSubs=[];var e=this;this.updateAssignments().then(function(){e.updateStudentMySubmissions()}).then(function(){e.loadingAssignments=!1}).then(function(){e.modalClassAssignmentsIsOpen=!0})},updateAssignments:function(){return this.$store.dispatch("getAssignments",this.currentClass.id)},toggleModalClassesToEnroll:function(){this.modalClassesToEnrollIsOpen?(this.modalClassesToEnrollIsOpen=!1,this.loadingModalClasses=!1):(this.modalClassesRequestsTab="classesToEnroll",this.modalClassesToEnrollIsOpen=!0,this.loadingModalClasses=!0);var e=this;this.updateStudentClasses().then(function(){e.loadingModalClasses=!1})},requestToEnrollToClass:function(e){var t=e.path[2].children[1].innerHTML,s={classId:t,userId:this.userId},n=this;this.$store.dispatch("createEnrollment",s).then(function(){n.updateStudentClasses().then(function(){}),n.toggleModalClassesToEnroll(),n.$message({showClose:!0,message:"The request has been sent. Please wait the professor to accept your request.",type:"success"})}).catch(function(e){console.log("requestToEnrollToClass error: ",e)})},deleteRequest:function(e,t){this.loadingModalClasses=!0,this.requestedClasses.splice(e,1);var s=this;this.$store.dispatch("getAllUserEnrollmentsByUserId",this.userId).then(function(){for(var e="",n=0;n<s.userEnrollments.length;n++)if(s.userEnrollments[n].userId===s.userId&&s.userEnrollments[n].classId===t.id){e=s.userEnrollments[n].id;break}return s.$store.dispatch("deleteEnrollment",e)}).then(function(){s.loadingModalClasses=!1})}},computed:a()({},s.i(i.b)(["videos","classes","currentClass","assignments","genres","categories","enrollments","userEnrollments","enrolledClasses","userCollaborated"])),components:{"mt-video-itemlist":c.a}}},369:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6);t.default={props:["currentVideo","currentAnnotations"],data:function(){return{modalCanonChartIsOpen:!1,loadingModalCanonChart:!1,chartData:{columns:["canon","averageRating"],rows:[]},chartSettings:{yAxisType:"value",min:[0],max:[5]},chartExtend:{series:{}},canonInfo:[]}},methods:{openModalCanonChart:function(){this.modalCanonChartIsOpen=!0,this.loadingModalCanonChart=!0,this.loadingModalCanonChart=!1,this.canonAverageRating(this.currentAnnotations)},canonAverageRating:function(e){this.canonInfo=[],this.chartData.rows=[];for(var t=!1,s=0;s<e.length;s++){for(var n=0;n<this.canonInfo.length;n++)e[s].canon===this.canonInfo[n].canon&&(t=!0,0!=e[s].rating&&(this.canonInfo[n].sumRating=this.canonInfo[n].sumRating+e[s].rating,this.canonInfo[n].annotationCount++));!1===t&&0!=e[s].rating&&this.canonInfo.push({canon:e[s].canon,sumRating:e[s].rating,annotationCount:1}),t=!1}for(var a=["Invention","Structure","Delivery","Visuals","Style"],s=0;s<a.length;s++)for(var n=0;n<this.canonInfo.length;n++)this.canonInfo[n].canon===a[s]&&this.moveArrayItemByIndex(this.canonInfo,n,s);for(var s=0;s<this.canonInfo.length;s++)this.chartData.rows.push({canon:this.canonInfo[s].canon,averageRating:this.canonInfo[s].sumRating/this.canonInfo[s].annotationCount});for(var i=[],s=0;s<this.canonInfo.length;s++)"Invention"===this.canonInfo[s].canon?i.push("#15314F"):"Structure"===this.canonInfo[s].canon?i.push("#F2992E"):"Delivery"===this.canonInfo[s].canon?i.push("#39A0ED"):"Visuals"===this.canonInfo[s].canon?i.push("#717C89"):"Style"===this.canonInfo[s].canon&&i.push("#38C97C");this.chartExtend={series:function(e){return e[0].data=e[0].data.map(function(e,t){return{value:e,itemStyle:{color:i[t]}}}),e}}},moveArrayItemByIndex:function(e,t,s){e.splice(s,0,e.splice(t,1)[0])}},mounted:function(){},computed:a()({},s.i(i.b)(["categories"])),components:{}}},370:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6),o=s(432),r=s.n(o),l=s(713),c=(s.n(l),s(59));s.n(c);t.default={props:["currentClassProp"],data:function(){return{dropzoneInstance:null,modalMaintenanceIsOpen:!1,modalDragDropIsOpen:!1,modalMetadataIsOpen:!1,modalProgressIsOpen:!1,modalSyncOpen:!1,uploadProgress:0,uploadVidMetadata:{title:"",class:"",classNumber:"",classDepartment:"",presentedAt:"",genreId:"",assignmentId:""},filteredAssignments:[],lockedGenre:{id:"",name:"locked genre"},assignmentSelectionPlaceholder:"No assignments",uploadVidMetadataRules:{title:[{required:!0,message:"Please input video title",trigger:"blur"}],class:[{required:!0,message:"Please select class",trigger:"blur"}],classNumber:[{required:!0,message:"Choose the classNumber",trigger:"blur"}],genreId:[{required:!0,message:"Please select genre",trigger:"blur"}],presentedAt:[{type:"date",required:!0,message:"Please choose date",trigger:"blur"}]},secureHTTPService:this.$root.$options.secureHTTPService,authData:null,role:null}},methods:{genreSelectedEventHandler:function(){this.assignmentSelectionPlaceholder="Loading...";var e=this;this.getAssignmentsByThisClass().then(function(){if(e.filteredAssignments=e.assignments,""!==e.uploadVidMetadata.genreId){e.filteredAssignments=[];for(var t=0;t<e.assignments.length;t++)e.assignments[t].genre===e.uploadVidMetadata.genreId&&e.filteredAssignments.push(e.assignments[t])}0===e.filteredAssignments.length&&(e.assignmentSelectionPlaceholder="No assignments")})},assignmentSelectedEventHandler:function(){var e="",t=this;t.lockedGenre.name="Loading...",this.getAssignmentsByThisClass().then(function(){if(""!==t.uploadVidMetadata.assignmentId)for(var s=0;s<t.assignments.length;s++)if(t.assignments[s].id===t.uploadVidMetadata.assignmentId){e=t.assignments[s].genre;break}return t.$store.dispatch("getGenres")}).then(function(){if(""===e)t.uploadVidMetadata.genreId="";else for(var s=0;s<t.genres.length;s++)if(t.genres[s].id===e){t.lockedGenre=t.genres[s],t.uploadVidMetadata.genreId=t.lockedGenre.id;break}})},createJwVideo:function(){var e=this;this.modalDragDropIsOpen=!0,this.secureHTTPService.post("jwvideo").then(function(t){var s=t.data.data,n="https://"+s.link.address+s.link.path+"?api_format=xml&key="+s.link.query.key+"&token="+s.link.query.token;e.$store.commit("SET_UPLOAD_URL",n),e.createVideo(s.link.query.key)}).catch(function(e){return console.log("Couldn't post jwvideo \n",e)})},createVideo:function(e){var t=this,s=this;null!==this.dropzoneInstance&&this.dropzoneInstance.destroy(),this.dropzoneInstance=new r.a(".uploadvid__text",{url:"http://www.test.com",autoProcessQueue:!1,parallelUploads:100,maxFiles:1,timeout:18e5,headers:{"Cache-Control":null,"X-Requested-With":null}}),this.dropzoneInstance.options.url=this.uploadUrl,this.dropzoneInstance.on("addedfile",function(e){t.getAssignmentsByThisClass().then(function(){s.uploadVidMetadata={title:"",class:s.currentClass.name,classNumber:s.currentClass.number,classDepartment:s.currentClass.department,presentedAt:"",genreId:"",assignmentId:""},s.modalDragDropIsOpen=!1,s.modalMetadataIsOpen=!0,s.filteredAssignments=s.assignments,s.uploadVidMetadata.title=e.name})}),this.dropzoneInstance.on("totaluploadprogress",function(e){t.uploadProgress=e}),this.dropzoneInstance.on("success",function(){t.modalProgressIsOpen=!1,t.modalSyncOpen=!0;var n=void 0,a=void 0,i=setInterval(function(){s.secureHTTPService.get("jwconversion?videoId="+e).then(function(t){for(var o=t.data.data.conversions,r=["720p","406p","270p","180p"],l=!0,c=0,d=o.length;c<d;c++)"Queued"===o[c].status&&"720p"===o[c].template.name?l=!1:"Queued"===o[c].status&&"406p"===o[c].template.name?l=!1:"Queued"===o[c].status&&"270p"===o[c].template.name?l=!1:"Queued"===o[c].status&&"180p"===o[c].template.name&&(l=!1);if(1===o.length&&(l=!1),l)for(var u=!1,m=0;m<r.length;m++){for(var c=0,d=o.length;c<d;c++)if("Ready"===o[c].status&&o[c].template.name===r[m]){c,u=!0,n=o[c].link.protocol+"://"+o[c].link.address+o[c].link.path,a=o[c].duration,s.secureHTTPService.get("jwthumbnail/"+e).then(function(t){"ready"===t.data.data.thumbnail.status?(""==s.uploadVidMetadata.genreId&&(s.uploadVidMetadata.genreId=null),""==s.uploadVidMetadata.assignmentId&&(s.uploadVidMetadata.assignmentId=null),s.$store.dispatch("createVideo",{title:s.uploadVidMetadata.title,class:s.uploadVidMetadata.class,classNumber:s.uploadVidMetadata.classNumber,classDepartment:s.uploadVidMetadata.classDepartment,jwVideoId:e,presentedAt:s.uploadVidMetadata.presentedAt,genre:s.uploadVidMetadata.genreId,assignmentId:s.uploadVidMetadata.assignmentId,featuredGlobal:!1,featuredClass:!1,link:n,duration:parseInt(a),thumb:"https://cdn.jwplayer.com/thumbs/"+e+"-720.jpg"}).then(function(){s.modalSyncOpen=!1,s.currentClass.name=s.uploadVidMetadata.class,clearInterval(i),s.uploadVidMetadata={title:"",class:s.currentClass.name,classNumber:s.currentClass.number,classDepartment:s.currentClass.department,presentedAt:"",genreId:"",assignmentId:""},s.dropzoneInstance.removeAllFiles(),s.uploadProgress=0})):(""==s.uploadVidMetadata.genreId&&(s.uploadVidMetadata.genreId=null),""==s.uploadVidMetadata.assignmentId&&(s.uploadVidMetadata.assignmentId=null),s.$store.dispatch("createVideo",{title:s.uploadVidMetadata.title,class:s.uploadVidMetadata.class,classNumber:s.uploadVidMetadata.classNumber,classDepartment:s.uploadVidMetadata.classDepartment,jwVideoId:e,presentedAt:s.uploadVidMetadata.presentedAt,assignmentId:s.uploadVidMetadata.assignmentId,genre:s.uploadVidMetadata.genreId,featuredGlobal:!1,featuredClass:!1,link:n,duration:parseInt(a),thumb:"http://www.ulivesmart.com/wp-content/uploads/2017/05/feature-video-thumbnail-overlay.png"}).then(function(){s.modalSyncOpen=!1,s.currentClass.name=s.uploadVidMetadata.class,clearInterval(i),s.uploadVidMetadata={title:"",class:s.currentClass.name,classNumber:s.currentClass.number,classDepartment:s.currentClass.department,presentedAt:"",genreId:"",assignmentId:""},s.dropzoneInstance.removeAllFiles(),s.uploadProgress=0}))}).catch(function(e){console.log(e)});break}if(u)break}}).catch(function(e){console.log("Couldn't get conversions \n ",e),clearInterval(i),s.modalSyncOpen=!1})},5e3)}),this.dropzoneInstance.on("error",function(e,t){s.modalProgressIsOpen=!1}),this.dropzoneInstance.on("canceled",function(e,t){}),this.dropzoneInstance.on("dragover",function(e){$(".uploadvid__area").css("border","8px dashed #ccc")}),this.dropzoneInstance.on("dragleave",function(e){$(".uploadvid__area").css("border","none")}),this.dropzoneInstance.on("drop",function(e){})},startUpload:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.modalMetadataIsOpen=!1,t.modalProgressIsOpen=!0,t.dropzoneInstance.processQueue()})},closeModalDragDrop:function(){this.modalDragDropIsOpen=!1},closeModalProgress:function(){this.modalProgressIsOpen=!1,this.openMsgUploadStopped(),this.dropzoneInstance.removeAllFiles(!0)},closeModalMaintenance:function(){this.modalMaintenanceIsOpen=!1},openMsgUploadStopped:function(e){this.$message({message:"Video uploading was stopped...",showClose:!0})},getAssignmentsByThisClass:function(){return this.$store.dispatch("getAssignments",this.currentClass.id)}},created:function(){var e=this;this.getAssignmentsByThisClass().then(function(){e.filteredAssignments=e.assignments}),this.$store.dispatch("getGenres")},mounted:function(){this.authData=this.$root.$options.authService.getAuthData(),this.role=this.authData.role},computed:a()({},s.i(i.b)(["videos","uploadUrl","classes","activeClasses","departments","assignments","genres","adminClasses","currentClass"]))}},371:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6),o=s(59);s.n(o);t.default={props:["currentVideo"],data:function(){return{role:"",userId:"",isInvolved:!1,modalVideoAssignmentOpen:!1,loadingModalVideoAssignment:!1,searchInput:"",filteredAssignments:[],currentVideoAssignment:{title:"Loading..."},currentRow:null,assignmentsTab:"videoAssignment",id:""}},methods:{openModalVideoAssignments:function(){this.isUserInvolved(),this.loadAssignments(),this.modalVideoAssignmentOpen=!0},closeModalVideoAssignments:function(){this.loadingModalVideoAssignment=!1,this.searchInput="",this.filteredAssignments=[],this.currentVideoAssignment={title:"Loading..."},this.currentRow=null,this.assignmentsTab="videoAssignment",this.modalVideoAssignmentOpen=!1},handleCurrentChange:function(e){this.currentRow=e},saveSelection:function(e){var t=this;this.$store.dispatch("addAssignmentToVideo",{videoId:this.currentVideo.id,assignmentId:e.id}).then(function(){return t.loadingInstance=o.Loading.service({fullscreen:!0}),t.id=t.$route.params.id,t.$store.dispatch("getVideo",t.id)}).then(function(){return t.loadAssignments()}).then(function(){t.loadingInstance.close()})},filterAssignmentsArray:_.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.title+" "+t.description).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),loadAssignments:function(){this.loadingModalVideoAssignment=!0;var e=this;this.$store.dispatch("getAssignments",this.currentClass.id).then(function(){for(var t=0;t<e.assignments.length;t++)e.currentVideo.assignmentId==e.assignments[t].id&&(e.currentVideoAssignment=e.assignments[t]);"Loading..."==e.currentVideoAssignment.title&&(e.currentVideoAssignment.title="None"),e.filteredAssignments=e.assignments,e.loadingModalVideoAssignment=!1})},isUserInvolved:function(){if("administrator"==this.role)this.isInvolved=!0;else if("professor"==this.role&&this.currentClass.professorId===this.userId)this.isInvolved=!0;else if("student"==this.role){var e=this;this.$store.dispatch("getCollaboratorsByVideoId",this.currentVideo.id).then(function(){for(var t=0;t<e.videoCollaborators.length;t++)if(e.videoCollaborators[t].id==e.userId){e.isInvolved=!0;break}})}}},mounted:function(){this.role=this.$root.$options.authService.getAuthData().role,this.userId=this.$root.$options.authService.getAuthData().userId},computed:a()({},s.i(i.b)(["assignments","classes","currentClass","videoCollaborators"]))}},372:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},373:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6),o=s(37);s.n(o);t.default={props:["userProfile"],data:function(){return{usernameRole:"",authData:{},currentRoute:""}},methods:{setCurrentClass:function(e){this.$store.commit("CURRENT_CLASS_SELECT",e)},logOut:function(){this.$router.push("/login"),this.$root.$options.authService.logOff()}},mounted:function(){this.authData=this.$root.$options.authService.getAuthData(),this.usernameRole=this.authData.firstName+" "+this.authData.lastName[0].toUpperCase()+". - "+this.authData.role[0].toUpperCase()+this.authData.role.slice(1),document.addEventListener("DOMContentLoaded",function(){var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.target,s=document.getElementById(t);console.log(s),console.log(e),e.classList.toggle("is-active"),s.classList.toggle("is-active")})})})},computed:a()({},s.i(i.b)(["uploadingVideo","currentClass"]))}},374:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(s(6),s(736)),a=s.n(n);t.default={data:function(){return{firstName:"",lastName:"",newEmail:"",repeatedNewEmail:"",newPassword:"",repeatedPassword:"",email:"",password:"",invitationCode:"",formLoginIsShown:!0,formRegisterIsShown:!1,formInvitationIsShown:!1,authService:this.$root.$options.authService,secureHTTPService:this.$root.$options.secureHTTPService}},methods:{loginUser:function(){var e=this;this.authService.login({email:this.email,password:this.password}).then(function(){e.$router.push("/"),e.$store.state.currentClass.name="Home"}).catch(function(){$(".login-form__error").css("display","block"),e.$router.push("/login")})},registerUser:function(){if(""===this.firstName||""===this.lastName||""===this.newEmail||""===this.newPassword||""===this.repeatedPassword)alert("Please complete all the fields.");else if(this.newPassword!=this.repeatedPassword)alert("Please repeat password correctly.");else if(this.newEmail!=this.repeatedNewEmail)alert("Please repeat e-mail address correctly.");else{var e=this.firstName[0].toUpperCase()+this.firstName.slice(1).toLowerCase(),t=this.lastName[0].toUpperCase()+this.lastName.slice(1).toLowerCase(),s={firstName:e,lastName:t,email:this.newEmail,password:this.newPassword,role:""},n=this;this.secureHTTPService.post("user",s).then(function(){n.email=n.newEmail,n.showLoginForm(),alert("Account created successfully.")}).catch(function(e){console.log("Error while posting new user: ",e),alert("Something went wrong.")})}},invitationUser:function(){if(""===this.firstName||""===this.lastName||""===this.newPassword||""===this.repeatedPassword||""===this.invitationCode)alert("Please complete all the fields.");else if(this.newPassword!=this.repeatedPassword)alert("Please repeat password correctly.");else{var e={firstName:this.firstName,lastName:this.lastName,password:this.newPassword},t=this;this.secureHTTPService.post("user?invitation="+this.invitationCode,e).then(function(){t.showLoginForm(),alert("Account created successfully.")}).catch(function(e){console.log("Error while posting new user via invitation code: ",e),alert("Something went wrong.")})}},showRegisterForm:function(){this.formRegisterIsShown=!0,this.formLoginIsShown=!1,this.formInvitationIsShown=!1},showLoginForm:function(){this.formLoginIsShown=!0,this.formRegisterIsShown=!1,this.formInvitationIsShown=!1},showInvitationForm:function(){this.formInvitationIsShown=!0,this.formLoginIsShown=!1,this.formRegisterIsShown=!1},openTab:function(e,t){var s,n,a;for(n=document.getElementsByClassName("tabcontent"),s=0;s<n.length;s++)n[s].style.display="none";for(a=document.getElementsByClassName("tablinks"),s=0;s<a.length;s++)a[s].className=a[s].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}},created:function(){},mounted:function(){document.body.style.backgroundImage="url("+a.a+")",document.body.style.backgroundSize="70%";try{document.getElementsByClassName("el-loading-mask")[0].style.zIndex="-1"}catch(e){}}}},375:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DecideHome",methods:{decideHome:function(){try{var e=this.$root.$options.authService.getAuthData().role;this.$router.push("/"+e)}catch(e){console.log("DecideHome redirect failed: no role")}}}}},376:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ErrorPage",methods:{routeToLogin:function(){this.$router.push("/Login")}},mounted:function(){this.$router.push("/Login")}}},377:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(383),o=s.n(i),r=s(97),l=s.n(r),c=s(6),d=s(37),u=s.n(d),m=s(120),h=s.n(m),g=s(119),v=s.n(g),p=s(746),f=s.n(p),_=s(748),C=s.n(_),b=s(59);s.n(b);t.default={data:function(){return{player:null,clickCoords:0,videoDuration:0,videoDurationMMSS:0,videoCurrentTime:0,videoCurrentTimeMMSS:0,videoIndex:0,customCanonTree:[],loadingCanons:!1,isAnnotating:!1,annotateCanon:"Delivery",annotateCanonName:0,annotateCategoryId:"",annotateSubcategoryId:"",annotateCurrentCategoryObject:{canon:"",description:"",id:"",name:"",subcategories:[]},annotateCurrentSubcategoryObject:{},annotateRating:0,annotationType:"category",annotateComment:"",annotateStart:null,annotateEnd:null,editRating:null,editComment:"",editStart:null,editEnd:null,editingCard:null,isAnnotateCanons:!1,isAnnotateCategories:!1,isAnnotateSubcategories:!1,isAnnotateFields:!1,isVideoline:!1,isEditing:!1,isEditFields:!1,isDragging:!1,startDragTime:0,endDragTime:0,filterCanon:"All",isInvention:"Invention",isStructure:"Structure",isDelivery:"Delivery",isVisuals:"Visuals",isStyle:"Style",isAll:"",times:[],toggleCardEditButton:!1,dragEndIsMoving:!1,annotationPauseTime:0,id:"",selectedMove:"Other",otherInventionelected:!1,collabEditAccess:!1,modalCollaboratorsIsOpen:!1,loadingCollaborators:!1,modalCollaboratorsTab:"collaborators",searchInput:"",otherStudents:[],filteredOtherStudents:[],authService:this.$root.$options.authService,modalSyncOpen:!1,secureHTTPService:this.$root.$options.secureHTTPService,authData:{},role:"",currentRoute:"",loadingInstance:null,canonLoadingDone:!1}},methods:{chooseCanonAnnotate:function(e){this.annotateCanon=e},findCatId:function(e,t){for(var s in t)if(t[s]===e)return!0;return!1},copy:function(e){var t,s,n;t=Array.isArray(e)?[]:{};for(n in e)s=e[n],t[n]="object"===(void 0===s?"undefined":l()(s))?this.copy(s):s;return t},createCustomCanonTree:function(e){this.customCanonTree=this.copy(this.canons);var t=this.customCanonTree;for(var s in t)for(var n=this.customCanonTree[s].categories,a=0;a<n.length;a++)if(0!=n[a].subcategories.length){for(var i=n[a].subcategories,o=0;o<i.length;o++)if(!this.findCatId(i[o].id,e)&&(i.splice(o,1),o--,0==i.length&&(n.splice(a,1),a--),0==n.length)){delete t[s];break}}else if(0==n[a].subcategories.length&&!this.findCatId(n[a].id,e)&&(n.splice(a,1),a--,0==n.length)){delete t[s];break}},chooseCategoryAnnotate:function(e){this.annotateCategoryId=e,this.isAnnotateCanons=!1;for(var t in this.customCanonTree)if(this.customCanonTree[t].name===this.annotateCanon){this.annotateCanonName=t;break}for(var s=this.customCanonTree[this.annotateCanonName].categories,n=0;n<s.length;n++)s[n].id===e&&(this.annotateCurrentCategoryObject=s[n]);0===this.annotateCurrentCategoryObject.subcategories.length?(this.annotationType="category",this.isAnnotateCanons=!1,this.isAnnotateCategories=!1,this.isAnnotateFields=!0,this.isVideoline=!0):(this.annotationType="subcategory",this.isAnnotateCategories=!1,this.isAnnotateSubcategories=!0)},chooseSubcategoryAnnotate:function(e){this.annotateSubcategoryId=e;for(var t=0;t<this.annotateCurrentCategoryObject.subcategories.length;t++)this.annotateCurrentCategoryObject.subcategories[t].id===this.annotateSubcategoryId&&(this.annotateCurrentSubcategoryObject=this.annotateCurrentCategoryObject.subcategories[t]);this.isAnnotateSubcategories=!1,this.isAnnotateCanons=!1,this.isAnnotateFields=!0,this.isVideoline=!0},annotating:function(){var e=this;this.loadingCanons=!0,this.$store.dispatch("getVideoAnnotations",this.id);var e=this;e.loadingCanons=!1,this.isAnnotating=!0,this.isAnnotateCanons=!0,this.isAnnotateCategories=!0,this.annotateRating=0,this.annotateComment="",this.selectedMove="Other","playing"===this.player.getState()&&this.player.pause(),this.annotationPauseTime=this.player.getPosition(),this.setTimes();var t=this.videoCurrentTime-5,s=$(".player").width();this.annotationPauseTime<0&&(t=0);var n=(parseInt(e.videoDuration),100*(t+10)/parseInt(e.videoDuration));n>100&&(n=100);var a=s/2,i=a-10,o=a+10;$(".crop__start").css("left",i),$(".crop__start").css("left",i),$(".crop__end").css("left",o),$(".crop__space").css("left",i),$(".crop__space").css("width",o-i),this.annotateStart=this.secondsToMMSS(this.annotationPauseTime-5),this.annotateEnd=this.secondsToMMSS(this.annotationPauseTime+25),this.startDragTime=this.secondsToMMSS(this.annotationPauseTime-5),this.endDragTime=this.secondsToMMSS(this.annotationPauseTime+25),e.videoDuration-t<90&&(this.startDragTime=this.secondsToMMSS(t),this.endDragTime=this.secondsToMMSS(this.videoDuration)),$(".crop__start").draggable({cursor:"col-resize",axis:"x",containment:"#videoline",scroll:!1,revert:!1,start:function(){e.isDragging=!0},drag:function(t){$(".crop__start").draggable("option","revert");if($(".crop__end").position().left-$(".crop__start").position().left<0)$(".crop__start").draggable("option","revert",!0);else{$(".crop__start").draggable("option","revert",!1),e.isDragging=!0;var n=$(".crop__start").position().left,a=n/$(".videoline").width()*100,i=$(".crop__start").position().left,o=$(".crop__end").position().left-$(".crop__start").position().left;$(".crop__space").css("left",i),$(".crop__space").css("width",o),n<0?n=0:n>s&&(n=s);var a=n/$(".videoline").width()*100,r=180*a/100;if(e.annotationPauseTime<90)var l=r;else var l=r+e.annotationPauseTime-90;e.player.seek(l),l=e.secondsToMMSS(l),e.annotateStart=l,e.startDragTime=l}},stop:function(t){e.isDragging=!1;var n=$(".crop__start").position().left;n<0?n=0:n>s&&(n=s);var a=n/$(".videoline").width()*100,i=180*a/100;if(e.annotationPauseTime<90)var o=i;else var o=i+e.annotationPauseTime-90;e.player.seek(o),e.player.pause(),o=e.secondsToMMSS(o),e.annotateStart=o,e.startDragTime=o;var r=$(".crop__start").position().left,l=$(".crop__end").position().left-$(".crop__start").position().left;$(".crop__space").css("left",r),$(".crop__space").css("width",l),i=e.secondsToMMSS(i)}}),$(".crop__end").draggable({cursor:"col-resize",axis:"x",containment:"#videoline",scroll:!1,revert:!1,start:function(){e.isDragging=!1},drag:function(t){$(".crop__end").draggable("option","revert");if($(".crop__end").position().left-$(".crop__start").position().left<0)$(".crop__end").draggable("option","revert",!0);else{$(".crop__end").draggable("option","revert",!1),e.isDragging=!1;var n=$(".crop__end").position().left,a=n/$(".videoline").width()*100,i=$(".crop__start").position().left,o=$(".crop__end").position().left-$(".crop__start").position().left;$(".crop__space").css("left",i),$(".crop__space").css("width",o),n<0?n=0:n>s&&(n=s);var a=n/$(".videoline").width()*100,r=180*a/100;if(e.annotationPauseTime<90)var l=r;else var l=r+e.annotationPauseTime-90;e.player.seek(l),l=e.secondsToMMSS(l),e.annotateEnd=l,e.endDragTime=l}},stop:function(t){e.isDragging=!1;var n=$(".crop__end").position().left;n<0?n=0:n>s&&(n=s);var a=n/$(".videoline").width()*100,i=180*a/100;if(e.annotationPauseTime<90)var o=i;else var o=i+e.annotationPauseTime-90;e.player.seek(o),e.player.pause(),o=e.secondsToMMSS(o),e.annotateEnd=o,e.endDragTime=o;var r=$(".crop__start").position().left,l=$(".crop__end").position().left-$(".crop__start").position().left;$(".crop__space").css("left",r),$(".crop__space").css("width",l),i=e.secondsToMMSS(i)}})},annotate:function(){var e="";e="Other"===this.selectedMove?this.annotateComment:this.selectedMove;for(var t,s=this.customCanonTree[this.annotateCanonName].categories,n=0,a=s.length;n<a;n++)this.annotateCategoryId===s[n].id&&(t=s[n].definition);var i;"category"===this.annotationType?(i=t,console.log("category")):i=0===o()(this.annotateCurrentSubcategoryObject.definition).length?"-":this.annotateCurrentSubcategoryObject.definition;var r={author:this.authService.getAuthData().firstName+" "+this.authService.getAuthData().lastName.slice()[0]+".",videoId:this.id,canon:this.annotateCanon,categoryId:"category"===this.annotationType?this.annotateCategoryId:this.annotateSubcategoryId,label:i,comment:e,from:this.annotateStart,to:this.annotateEnd,rating:this.annotateRating};null===r.rating?alert("Please set a rate."):(this.$store.dispatch("addAnnotation",r),this.player.seek(this.mmssToSeconds(this.annotateStart)),this.annotateComment="",this.annotateStart=null,this.annotateEnd=null,this.annotateRating=0,this.isAnnotating=!1,this.isAnnotateCanons=!1,this.isAnnotateFields=!1,this.isVideoline=!1,this.selectedMove="Other")},closeAnnotationMenu:function(){this.isAnnotating=!1,this.isAnnotateCanons=!1,this.isAnnotateSubcategories=!1,this.annotateCategoryId="",this.annotateSubcategoryId=""},editing:function(e){this.isAnnotating=!0,this.$store.dispatch("getVideoAnnotations",this.id),$(e.currentTarget).hide(),$(e.currentTarget.parentElement).find(".edit-buttons").hide();var t=e.currentTarget.parentElement.parentElement.parentElement;this.editingCard=t,this.isEditing=!0,this.isEditFields=!0,"playing"===this.player.getState()&&this.player.pause(),this.isAnnotating&&(this.isAnnotateFields=!1,this.isAnnotateCanons=!1,this.isVideoline=!1);var s=$(t).find(".timeline-card__time").text(),n=s.substring(0,5);this.editStart=n;var a=s.substring(8,13);this.editEnd=a;var i=(this.videoDuration,n.split(":")),o=a.split(":"),r=60*+i[0]+ +i[1],l=60*+o[0]+ +o[1],c=$(".player").width(),d=100*r/this.videoDuration,u=d*c/100,m=100*l/this.videoDuration,h=m*c/100;$(".crop__start").css("left",u),$(".crop__end").css("left",h),$(".crop__space").css("left",u),$(".crop__space").css("width",h-u);var g=$(t).find(".timeline-card__effectiveness-label").text().slice(0,1);g=parseInt(g),this.editRating=g;var v=$(t).find(".timeline-card__comment p").text();this.editComment=v;var p=$(t).find(".timeline-card__id").text(),f=this;this.secureHTTPService.get("annotation/"+p).then(function(e){f.editComment=e.data.data.comment}).catch(function(e){alert("Sorry, but annotation editing is not working right now. Try again later. "),console.log("GET /annotation error: ",e),f.isEditing=!1,f.isEditFields=!1})},edit:function(){var e=this.editingCard,t=$(e).find(".timeline-card__id").text(),s={comment:this.editComment,from:this.editStart,to:this.editEnd,rating:this.editRating};this.$store.dispatch("editAnnotation",{annotationId:t,body:s}),this.isEditFields=!1,this.isEditing=!1,this.isVideoline=!1,this.isAnnotating=!1},deleteAnnotation:function(e){var t=this,s=$(e.currentTarget).parent().parent();console.log("editingCard= ",s);var n=$(s).find(".timeline-card__id").text();console.log("cardID",n),$(e.currentTarget).hide(),$(e.currentTarget).siblings(".edit-buttons").hide();$(s).find(".timeline-card__title").text();swal({title:"Delete annotation?",type:"question",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"gdray",confirmButtonText:"Delete"}).then(function(){t.$store.dispatch("deleteAnnotation",n)})},annotateModeActiveItemProblem:function(e){for(var t=e.currentTarget.parentNode.children,s=0;s<t.length;s++)t[s].style.backgroundColor="transparent",t[s].style.color="#FFFFFF";e.currentTarget.style.backgroundColor="#27314d",e.currentTarget.style.color="#FFFFFF"},chooseCanonFilter:function(e,t){var s=e.currentTarget.getElementsByClassName("card-menu__triangle")[0],n=e.currentTarget.children[2];"Invention"===t&&(""!==this.isInvention?(this.isInvention="",s.classList.remove("card-menu__triangle"),e.currentTarget.style.padding="20px",e.currentTarget.style.paddingTop="0px"):(this.isInvention="Invention",n.classList.add("card-menu__triangle"),e.currentTarget.style.padding="0px")),"Structure"===t&&(""!==this.isStructure?(this.isStructure="",s.classList.remove("card-menu__triangle"),e.currentTarget.style.padding="20px",e.currentTarget.style.paddingTop="0px"):(this.isStructure="Structure",n.classList.add("card-menu__triangle"),e.currentTarget.style.padding="0px")),"Delivery"===t&&(""!==this.isDelivery?(this.isDelivery="",s.classList.remove("card-menu__triangle"),e.currentTarget.style.padding="20px",e.currentTarget.style.paddingTop="0px"):(this.isDelivery="Delivery",n.classList.add("card-menu__triangle"),e.currentTarget.style.padding="0px")),"Visuals"===t&&(""!==this.isVisuals?(this.isVisuals="",s.classList.remove("card-menu__triangle"),e.currentTarget.style.padding="20px",e.currentTarget.style.paddingTop="0px"):(this.isVisuals="Visuals",n.classList.add("card-menu__triangle"),e.currentTarget.style.padding="0px")),"Style"===t&&(""!==this.isStyle?(this.isStyle="",s.classList.remove("card-menu__triangle"),e.currentTarget.style.padding="20px",e.currentTarget.style.paddingTop="0px"):(this.isStyle="Style",n.classList.add("card-menu__triangle"),e.currentTarget.style.padding="0px")),"All"===t&&(""!==this.isAll?this.isAll="":this.isAll="All")},seekCard:function(e){var t=e.currentTarget.getElementsByClassName("timeline-card__time")[0].innerHTML,s=t.substring(0,5);this.annotateStart=s;var n=t.substring(8,13);this.annotateEnd=n;var a=(this.videoDuration,s.split(":")),i=n.split(":"),o=60*+a[0]+ +a[1],r=60*+i[0]+ +i[1];this.player.seek(o);var l=$(".player").width(),c=100*o/this.videoDuration,d=c*l/100,u=100*r/this.videoDuration,m=u*l/100;$(".crop__start").css("left",d),$(".crop__end").css("left",m),$(".crop__space").css("left",d),$(".crop__space").css("width",m-d)},secondsToMMSS:function(e){e=Number(e);var t=Math.floor(e%3600/60),e=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+e).slice(-2)},mmssToSeconds:function(e){var e=e.split(":");return 60*+e[0]+ +e[1]},showAnnotateMenu:function(){$(".annotate-menu").show()},paintTimes:function(){var e=$(".videoline").offset().left,t=$(".videoline").width()+$(".videoline").offset().left;e=parseInt(e),t=parseInt(t);for(var s=0,n=e;n<t;n++)this.timesArray[n]=n/parseInt($(".videoline").width())*100,s+=1;console.log(this.timesArray),console.log("sum = "+s)},setTimes:function(){this.annotationPauseTime<90?(this.times[0]={min:this.secondsToMMSS(0)},this.times[1]={min:this.secondsToMMSS(18)},this.times[2]={min:this.secondsToMMSS(36)},this.times[3]={min:this.secondsToMMSS(54)},this.times[4]={min:this.secondsToMMSS(72)},this.times[5]={min:this.secondsToMMSS(90)},this.times[6]={min:this.secondsToMMSS(108)},this.times[7]={min:this.secondsToMMSS(126)},this.times[8]={min:this.secondsToMMSS(144)},this.times[9]={min:this.secondsToMMSS(162)},this.times[10]={min:this.secondsToMMSS(180)}):this.annotationPauseTime>90&&this.videoDuration-this.annotationPauseTime>90?(this.times[0]={min:this.secondsToMMSS(this.annotationPauseTime-90)},this.times[1]={min:this.secondsToMMSS(18+this.annotationPauseTime-90)},this.times[2]={min:this.secondsToMMSS(36+this.annotationPauseTime-90)},this.times[3]={min:this.secondsToMMSS(54+this.annotationPauseTime-90)},this.times[4]={min:this.secondsToMMSS(72+this.annotationPauseTime-90)},this.times[5]={min:this.secondsToMMSS(90+this.annotationPauseTime-90)},this.times[6]={min:this.secondsToMMSS(108+this.annotationPauseTime-90)},this.times[7]={min:this.secondsToMMSS(126+this.annotationPauseTime-90)},this.times[8]={min:this.secondsToMMSS(144+this.annotationPauseTime-90)},this.times[9]={min:this.secondsToMMSS(162+this.annotationPauseTime-90)},this.times[10]={min:this.secondsToMMSS(180+this.annotationPauseTime-90)}):this.videoDuration-this.annotationPauseTime<90&&(this.times[0]={min:this.secondsToMMSS(this.videoDuration-180)},this.times[1]={min:this.secondsToMMSS(this.videoDuration-162)},this.times[2]={min:this.secondsToMMSS(this.videoDuration-144)},this.times[3]={min:this.secondsToMMSS(this.videoDuration-126)},this.times[4]={min:this.secondsToMMSS(this.videoDuration-108)},this.times[5]={min:this.secondsToMMSS(this.videoDuration-90)},this.times[6]={min:this.secondsToMMSS(this.videoDuration-72)},this.times[7]={min:this.secondsToMMSS(this.videoDuration-54)},this.times[8]={min:this.secondsToMMSS(this.videoDuration-36)},this.times[9]={min:this.secondsToMMSS(this.videoDuration-18)},this.times[10]={min:this.secondsToMMSS(this.videoDuration)})},hooping:function(){for(var e=this,t=$(".timeline-card"),s=[],n=[],a=[],i=0,o=t.length;i<o;i++)a[i]=t[i].children[0].children[0].children[1].innerText,s[i]=a[i].substring(0,5),n[i]=a[i].substring(8,13),s[i]=e.mmssToSeconds(s[i]),n[i]=e.mmssToSeconds(n[i]);for(var r=0,o=t.length;r<o;r++)if(this.videoCurrentTime>=s[r]&&this.videoCurrentTime<=n[r]&&"rgb(255, 255, 255)"===$(".timeline-card").eq(r).css("background-color")){$(".timeline-card").eq(r).css("background-color","#fff293");var l=$(".timeline-card").eq(0);$(".timeline-card").eq(r).effect("bounce",{times:2},300),$(".timeline-card").eq(r).insertBefore(l),0!==$(".timeline-container").scrollTop&&$(".timeline-container").animate({scrollTop:0},500)}else(this.videoCurrentTime<s[r]||this.videoCurrentTime>n[r])&&$(".timeline-card").eq(r).css("background-color","white")},toggleEditDelete:function(e){var t=$(e.currentTarget);"none"===t.siblings().css("display")?t.siblings().show():t.siblings().hide()},filterStudentsArray:u.a.debounce(function(e,t,s){this[t]=this[e].filter(function(e){return function(t){return-1!==(t.firstName+" "+t.lastName).toLowerCase().indexOf(e.toLowerCase())}}(s))},500),hasCollabEditAccess:function(){if("administrator"===this.role)this.collabEditAccess=!0;else if("professor"===this.role)this.collabEditAccess=!1,this.authData.userId===this.currentClass.professorId&&(this.collabEditAccess=!0);else{this.collabEditAccess=!1;for(var e=0;e<this.videoCollaborators.length;e++)if(this.videoCollaborators[e].id===this.authData.userId){this.collabEditAccess=!0;break}}},updateCollaborators:function(){var e=this;return this.$store.dispatch("getCollaboratorsByVideoId",this.videos.id).then(function(){return e.$store.dispatch("getEnrolledUsersByClassId",e.currentClass.id)}).then(function(){return e.$store.dispatch("getEnrollmentsByClassId",e.currentClass.id)}).then(function(){e.otherStudents=[],e.filteredOtherStudents=[];for(var t=0;t<e.classEnrolledStudents.length;t++)for(var s=0;s<e.classEnrollments.length;s++)if(e.classEnrollments[s].userId===e.classEnrolledStudents[t].id&&e.classEnrollments[s].accepted){for(var n=!1,a=0;a<e.videoCollaborators.length;a++)e.videoCollaborators[a].id===e.classEnrolledStudents[t].id&&(n=!0);n||(e.otherStudents.push(e.classEnrolledStudents[t]),e.filteredOtherStudents.push(e.classEnrolledStudents[t]))}}).catch(function(e){console.log("Error while updating collaborators: ",e)})},toggleModalCollaborators:function(){this.modalCollaboratorsIsOpen?(this.modalCollaboratorsIsOpen=!1,this.loadingCollaborators=!1):(this.modalCollaboratorsIsOpen=!0,this.modalCollaboratorsTab="collaborators",this.loadingCollaborators=!0);var e=this;this.updateCollaborators().then(function(){e.hasCollabEditAccess(),e.loadingCollaborators=!1})},addCollaborator:function(e,t){var s=this;this.loadingCollaborators=!0,this.$store.dispatch("createCollaboration",{videoId:this.id,userId:t.id}).then(function(){return s.updateCollaborators()}).then(function(){s.loadingCollaborators=!1})},deleteCollaborator:function(e,t){var s=this;this.loadingCollaborators=!0,this.$store.dispatch("deleteCollaboration",{videoId:this.id,userId:t.id}).then(function(){return s.updateCollaborators()}).then(function(){s.loadingCollaborators=!1})},goHome:function(){this.$router.push("/"+this.role)}},created:function(){},mounted:function(){this.canonLoadingDone=!1,this.loadingInstance=b.Loading.service({fullscreen:!0}),this.id=this.$route.params.id;var e=this;this.$store.dispatch("getVideo",this.id).then(function(){return e.$store.dispatch("getAllClasses")}).then(function(){for(var t=0;t<e.classes.length;t++)if(e.classes[t].name===e.videos.class){e.$store.commit("CURRENT_CLASS_SELECT",e.classes[t]);break}return e.$store.dispatch("getVideoAnnotations",e.id)}).then(function(){return e.$store.dispatch("getCanons")}).then(function(){e.canonLoadingDone=!0,e.authData=e.$root.$options.authService.getAuthData(),e.role=e.authData.role,e.currentRoute=e.$root.$options.router.currentRoute.name.toLowerCase(),e.videoDuration=e.videos.duration,e.videoDurationMMSS=e.secondsToMMSS(e.videoDuration);var t;e.videos.hasOwnProperty("sources")&&(t=e.videos.sources.length),0===e.videos.status||(e.player=jwplayer("player"),e.player.setup({file:e.videos.link,image:e.videos.thumb,height:$(".player").height()}),e.player.on("time",function(t){if("playing"===e.player.getState()){var s=(e.videoDuration,t.position);e.videoCurrentTime=e.player.getPosition(),e.videoCurrentTimeMMSS=e.secondsToMMSS(e.videoCurrentTime);var n=s/180*100;$(".videoline-ribbon").animate({left:n+"%"},50)}})),e.loadingInstance.close(),$(".videoline-ribbon").draggable({axis:"x",containment:"#videoline",scroll:!1,start:function(){},drag:function(t){var s=$(".videoline").offset().left,n=t.originalEvent.clientX-s,a=n/$(".videoline").width()*100;a<0?a=0:a>100&&(a=100);var i=180*a/100;i=e.annotationPauseTime<90?i:i+e.annotationPauseTime-90,e.player.seek(i)},stop:function(e){}}),e.$store.dispatch("getGenres").then(function(){for(var t=0;t<e.currentClass.catFilter.length;t++)if(e.currentClass.catFilter[t].genreId===e.videos.genre){e.createCustomCanonTree(e.currentClass.catFilter[t].selectedNodes);break}e.loadingCanons=!1})})},updated:function(){this.hooping()},computed:a()({},s.i(c.b)(["videos","currentVideoID","canons","videoAnnotations","classEnrolledStudents","classes","currentClass","classEnrollments","videoCollaborators"])),components:{"my-header":h.a,"my-footer":v.a,"canon-statistics":f.a,"video-assignments":C.a}}},378:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(120),o=s.n(i),r=s(119),l=s.n(r),c=s(288),d=s.n(c),u=s(6);t.default={data:function(){return{searchInputTerm:"",terms:[]}},created:function(){this.$store.dispatch("getAllClasses")},mounted:function(){this.terms=this.loadAll()},methods:{chooseWikiCanon:function(e){this.$store.commit("SELECT_CURRENT_WIKI_CANON",e)},querySearch:function(e,t){var s=this.terms;t(e?s.filter(this.createFilter(e)):s)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},loadAll:function(){for(var e=[],t=0;t<this.categories.length;t++)e.push({value:this.categories[t].name,termId:this.categories[t].id});return e},handleSelect:function(e){console.log(e),this.$router.push("/term/"+e.termId)}},computed:a()({},s.i(u.b)(["canons","categories","currentWikiCanon"])),components:{"my-header":o.a,"my-footer":l.a,"wiki-subhead":d.a}}},379:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(6);t.default={data:function(){return{modalPostATermIsOpen:!1,term:{name:"",canon:"",description:""}}},methods:{postCategory:function(){var e=this;""!==this.term.name&&""!==this.term.canon&&""!==this.term.description&&this.$store.dispatch("postCategory",this.term).then(function(){e.modalPostATermIsOpen=!1,e.$router.push("/term/"+e.categories[e.categories.length-1].id)})}},computed:a()({},s.i(i.b)(["categories","canons"]))}},380:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(20),a=s.n(n),i=s(388),o=s.n(i),r=s(120),l=s.n(r),c=s(119),d=s.n(c),u=s(288),m=s.n(u),h=s(6);t.default={data:function(){return{currentTerm:{},definitionIsOpen:!1,descriptionIsOpen:!1,pencilIconIsActive:!1,relatedTerms:["Metadiscourse","Posture and stance","Language"],searchInputRelated:"",relatedInputIsOpen:!1,terms:[],newTerm:{termId:"",value:""}}},created:function(){this.$store.dispatch("getAllClasses"),this.$store.dispatch("getCategories")},mounted:function(){this.terms=this.loadAll();for(var e=0;e<this.categories.length;e++)this.categories[e].id===this.$route.params.id&&(this.currentTerm=this.categories[e],console.log("category: ",this.categories[e].definition));console.log("currentTerm: ",this.currentTerm.definition)},methods:{editContent:function(e){"definition"===e?this.definitionIsOpen=!0:this.descriptionIsOpen=!0},saveContent:function(e,t){this.$store.dispatch("editCategory",{id:e,categoryBody:o()({},t,this.currentTerm[t])}),"definition"===t?(this.$store.commit("EDIT_CATEGORY",{term:this.currentTerm,type:"definition"}),this.definitionIsOpen=!1):(this.$store.commit("EDIT_CATEGORY",{term:this.currentTerm,type:"description"}),this.descriptionIsOpen=!1)},goWiki:function(){this.$store.commit("SELECT_CURRENT_WIKI_CANON",this.currentTerm.canon),this.$router.push("/wiki")},enablePencilIcon:function(){this.pencilIconIsActive=!0},disablePencilIcon:function(){this.pencilIconIsActive=!1},openRelatedSearch:function(){this.relatedInputIsOpen=!0,this.searchInputRelated=""},querySearch:function(e,t){var s=this.terms;t(e?s.filter(this.createFilter(e)):s)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},loadAll:function(){for(var e=[],t=0;t<this.categories.length;t++)e.push({value:this.categories[t].name,termId:this.categories[t].id});return e},handleSelect:function(e){console.log(e),this.newTerm.termId=e.termId,this.newTerm.value=e.value},saveRelatedTerm:function(){this.relatedTerms.push(this.newTerm.value),this.relatedInputIsOpen=!1}},computed:a()({},s.i(h.b)(["categories"])),components:{"my-header":l.a,"my-footer":d.a,"wiki-subhead":m.a}}},713:function(e,t){},714:function(e,t){},715:function(e,t){},716:function(e,t){},717:function(e,t){},718:function(e,t){},719:function(e,t){},720:function(e,t){},721:function(e,t){},722:function(e,t){},723:function(e,t){},724:function(e,t){},725:function(e,t){},726:function(e,t){},727:function(e,t){},728:function(e,t){},729:function(e,t){},730:function(e,t){},731:function(e,t){},732:function(e,t){},733:function(e,t){},736:function(e,t,s){e.exports=s.p+"static/img/login-bg-low.b241de9.jpg"},737:function(e,t,s){e.exports=s.p+"static/img/logo-header.bb57a21.png"},738:function(e,t,s){e.exports=s.p+"static/img/logo-login.bd4381a.png"},739:function(e,t,s){var n=s(12)(s(360),s(760),null,null,null);e.exports=n.exports},740:function(e,t,s){function n(e){s(722)}var a=s(12)(s(362),s(763),n,null,null);e.exports=a.exports},741:function(e,t,s){function n(e){s(714)}var a=s(12)(s(363),s(754),n,null,null);e.exports=a.exports},742:function(e,t,s){function n(e){s(720)}var a=s(12)(s(364),s(761),n,null,null);e.exports=a.exports},743:function(e,t,s){function n(e){s(721)}var a=s(12)(s(366),s(762),n,null,null);e.exports=a.exports},744:function(e,t,s){function n(e){s(732)}var a=s(12)(s(367),s(773),n,null,null);e.exports=a.exports},745:function(e,t,s){function n(e){s(726)}var a=s(12)(s(368),s(767),n,null,null);e.exports=a.exports},746:function(e,t,s){function n(e){s(725)}var a=s(12)(s(369),s(766),n,null,null);e.exports=a.exports},747:function(e,t,s){function n(e){s(716)}var a=s(12)(s(370),s(756),n,null,null);e.exports=a.exports},748:function(e,t,s){function n(e){s(730)}var a=s(12)(s(371),s(771),n,null,null);e.exports=a.exports},749:function(e,t,s){function n(e){s(731)}var a=s(12)(s(375),s(772),n,null,null);e.exports=a.exports},750:function(e,t,s){function n(e){s(723)}var a=s(12)(s(376),s(764),n,null,null);e.exports=a.exports},751:function(e,t,s){function n(e){s(717)}var a=s(12)(s(377),s(757),n,null,null);e.exports=a.exports},752:function(e,t,s){function n(e){s(724)}var a=s(12)(s(378),s(765),n,null,null);e.exports=a.exports},753:function(e,t,s){function n(e){s(728)}var a=s(12)(s(380),s(769),n,null,null);e.exports=a.exports},754:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"sidebar column is-2 aside"},[e.loadingClasses?e._e():s("div",{staticClass:"sidebar__actions"},["administrator"===e.role||"professor"===e.role?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.createNewClassModalOpen()}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Create new class")]):e._e(),e._v(" "),"administrator"===e.role?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalInviteUserIsOpen=!0}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Invite a new user")]):e._e(),e._v(" "),"administrator"===e.role&&"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalDeleteClassIsOpen=!0}}},[s("i",{staticClass:"fa fa-trash"}),e._v("Delete this class")]):e._e(),e._v(" "),"administrator"!==e.role&&"professor"!==e.role||"Home"===e.currentClass.name?e._e():s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.openAssignmentsModal()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Assignments")]),e._v(" "),"administrator"!==e.role&&"professor"!==e.role||"Home"===e.currentClass.name?e._e():s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalArchiveClassIsOpen=!0}}},[s("i",{staticClass:"fa fa-archive"}),e._v("Archive this class")]),e._v(" "),"administrator"!==e.role&&"professor"!==e.role||"Home"===e.currentClass.name?e._e():s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.toggleModalStudentRequests()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Student requests ("+e._s(e.requestedStudents.length)+")")]),e._v(" "),"administrator"!==e.role&&"professor"!==e.role||"Home"===e.currentClass.name?e._e():s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.editCategoriesModalOpen()}}},[s("i",{staticClass:"fa fa-commenting-o"}),e._v("Edit categories")]),e._v(" "),"student"===e.role?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.toggleModalClassesToEnroll()}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Find a class to enroll")]):e._e(),e._v(" "),"student"===e.role&&"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.openAssignmentsModal()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Class Assignments")]):e._e()]),e._v(" "),"student"===e.role?s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),0!==e.acceptedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("acceptedClasses","filteredAcceptedClasses",e.searchInputClassSidebar)}},model:{value:e.searchInputClassSidebar,callback:function(t){e.searchInputClassSidebar=t},expression:"searchInputClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredAcceptedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2):e._e(),e._v(" "),"administrator"===e.role?s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingClasses,expression:"!loadingClasses"}],model:{value:e.sidebarClassesTab,callback:function(t){e.sidebarClassesTab=t},expression:"sidebarClassesTab"}},[s("el-tab-pane",{attrs:{label:"Active classes",name:"activeClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.adminActiveClasses.length?s("i",[e._v("  No classes ")]):e._e(),e._v(" "),0!==e.adminActiveClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("adminActiveClasses","filteredAdminActiveClasses",e.searchInputActiveClassSidebar)}},model:{value:e.searchInputActiveClassSidebar,callback:function(t){e.searchInputActiveClassSidebar=t},expression:"searchInputActiveClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredAdminActiveClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Archived",name:"archivedClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.adminArchivedClasses.length?s("i",[e._v("  No archived classes ")]):e._e(),e._v(" "),0!==e.adminArchivedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search archived classes..."},on:{change:function(t){e.filterClassArray("adminArchivedClasses","filteredAdminArchivedClasses",e.searchInputArchivedClassSidebar)}},model:{value:e.searchInputArchivedClassSidebar,callback:function(t){e.searchInputArchivedClassSidebar=t},expression:"searchInputArchivedClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredAdminArchivedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.openModalUnarchiveClass(t.id)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)])],1)],1):e._e(),e._v(" "),"professor"===e.role?s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingClasses,expression:"!loadingClasses"}],model:{value:e.sidebarClassesTab,callback:function(t){e.sidebarClassesTab=t},expression:"sidebarClassesTab"}},[s("el-tab-pane",{attrs:{label:"Active classes",name:"activeClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.professorActiveClasses.length?s("i",[e._v("  No classes - create one ")]):e._e(),e._v(" "),0!==e.professorActiveClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("professorActiveClasses","filteredProfessorActiveClasses",e.searchInputActiveClassSidebar)}},model:{value:e.searchInputActiveClassSidebar,callback:function(t){e.searchInputActiveClassSidebar=t},expression:"searchInputActiveClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredProfessorActiveClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Archived",name:"archivedClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.professorArchivedClasses.length?s("i",[e._v("  No archived classes ")]):e._e(),e._v(" "),0!==e.professorArchivedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search archived classes..."},on:{change:function(t){e.filterClassArray("professorArchivedClasses","filteredProfessorArchivedClasses",e.searchInputArchivedClassSidebar)}},model:{value:e.searchInputArchivedClassSidebar,callback:function(t){e.searchInputArchivedClassSidebar=t},expression:"searchInputArchivedClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredProfessorArchivedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.openModalUnarchiveClass(t.id)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)])],1)],1):e._e(),e._v(" "),s("el-dialog",{attrs:{title:"Add new class",visible:e.modalCreateClassIsOpen,"before-close":e.handleNewClassClose},on:{"update:visible":function(t){e.modalCreateClassIsOpen=t}}},[s("el-steps",{attrs:{active:e.createModalActive,"finish-status":"success",space:"97%"}},[s("el-step"),e._v(" "),s("el-step")],1),e._v(" "),0==e.createModalActive?s("el-form",{attrs:{model:e.newClass}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{attrs:{placeholder:"Advanced Essay Workshop",required:""},model:{value:e.newClass.name,callback:function(t){e.newClass.name=t},expression:"newClass.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Department"}},[s("el-input",{attrs:{placeholder:"Comparative Media Studies / Writing",required:""},model:{value:e.newClass.department,callback:function(t){e.newClass.department=t},expression:"newClass.department"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Number"}},[s("el-input",{attrs:{placeholder:"21W.745",required:""},model:{value:e.newClass.number,callback:function(t){e.newClass.number=t},expression:"newClass.number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Semester"}},[s("el-input",{attrs:{placeholder:"Spring 2018",required:""},model:{value:e.newClass.semester,callback:function(t){e.newClass.semester=t},expression:"newClass.semester"}})],1)],1):e._e(),e._v(" "),1==e.createModalActive?s("div",[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e()],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:e.handleNewClassClose}},[e._v("Cancel")]):e._e(),e._v(" "),0==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:e.nextStep}},[e._v("Next Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:e.previousStep}},[e._v("Previous Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.createClass()}}},[e._v("Create Class")]):e._e()],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Categories customization",visible:e.modalGenreCustomization,size:"large","before-close":e.handleEditCategoriesClose},on:{"update:visible":function(t){e.modalGenreCustomization=t}}},[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.handleEditCategoriesClose()}}},[e._v("Cancel")]),e._v(" "),s("el-button",{on:{click:function(t){e.saveNewCustomCategories()}}},[e._v("Save")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to archive `"+e.currentClass.name+"` class?",visible:e.modalArchiveClassIsOpen},on:{"update:visible":function(t){e.modalArchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalArchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.archiveClass()}}},[s("strong",[e._v("Archive Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to unarchive this class?",visible:e.modalUnarchiveClassIsOpen},on:{"update:visible":function(t){e.modalUnarchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalUnarchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.unArchiveClass()}}},[s("strong",[e._v("Unarchive Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to delete `"+e.currentClass.name+"` class?",visible:e.modalDeleteClassIsOpen},on:{"update:visible":function(t){e.modalDeleteClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalDeleteClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.deleteClass()}}},[s("strong",[e._v("Delete Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Invite a new user",visible:e.modalInviteUserIsOpen},on:{"update:visible":function(t){e.modalInviteUserIsOpen=t}}},[s("el-form",{attrs:{model:e.invitation}},[s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{attrs:{placeholder:"E-mail address"},model:{value:e.invitation.email,callback:function(t){e.invitation.email=t},expression:"invitation.email"}})],1),e._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:"Repeat e-mail address"},model:{value:e.repeatEmail,callback:function(t){e.repeatEmail=t},expression:"repeatEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Role"}},[s("br"),e._v(" "),s("el-select",{attrs:{placeholder:"Choose a role"},model:{value:e.invitation.role,callback:function(t){e.invitation.role=t},expression:"invitation.role"}},e._l(e.roles,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.modalInviteUserIsOpen=!1}}},[e._v("Cancel")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.createInvitation()}}},[e._v("Create Invitation")])],1)],1),e._v(" "),!e.currentClass.id||"administrator"!==e.role&&"professor"!==e.role?e._e():s("el-dialog",{staticClass:"modal-class-assignments",attrs:{title:this.currentClass.name+" Class assignments",visible:e.modalClassAssignmentsIsOpen},on:{"update:visible":function(t){e.modalClassAssignmentsIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAssignments,expression:"loadingAssignments"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingAssignments,expression:"!loadingAssignments"}]},[s("el-dialog",{attrs:{visible:e.startingAssignmentMessageVisible,title:"Create a starting assignment.","append-to-body":""},on:{"update:visible":function(t){e.startingAssignmentMessageVisible=t}}}),e._v(" "),e._l(e.assignments,function(t){return s("el-tab-pane",{key:t.id,attrs:{label:t.title}},[e.loadingAssignments?e._e():s("el-tabs",{model:{value:e.assignmentsModalSubtab,callback:function(t){e.assignmentsModalSubtab=t},expression:"assignmentsModalSubtab"}},[s("el-tab-pane",{attrs:{label:"General",name:"General"}},[s("div",{staticClass:"assignments-content"},[s("span",{staticClass:"assignments__title"},[s("strong",[e._v("Title:")]),e._v(" "),s("span",{staticClass:"assignments__titleId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__titleText",on:{click:function(t){e.toggleTitleEdit(t)}}},[e._v(e._s(t.title))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"a.title"}],staticClass:"input assignments__titleInput",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(s){e.saveTitleEdit(s,t.id)},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__desc"},[s("strong",{staticClass:"assignments__descTitle"},[e._v("Description:")]),e._v(" "),s("span",{staticClass:"assignments__descId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__descText",on:{click:function(t){e.toggleDescriptionEdit(t)}}},[e._v(e._s(t.description))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"a.description"}],staticClass:"textarea assignments__descTextarea",attrs:{type:"text"},domProps:{value:t.description},on:{blur:function(s){e.saveDescriptionEdit(s,t.id)},input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),e._l(e.genres,function(n){return n.id===t.genre?s("span",{key:n.id,staticClass:"assignments__genre"},[s("strong",{staticClass:"assignments__genreTitle"},[e._v("Genre:")]),e._v(" "),s("span",{staticClass:"assignments__genreId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__genreName",on:{click:function(t){e.toggleGenreEdit(t)}}},[e._v(e._s(n.name))]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"a.genre"}],staticClass:"assignments__genreSelect select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.genre=e.target.multiple?s:s[0]},function(s){e.saveGenreEdit(s,t.id)}]}},e._l(e.genres,function(e){return s("option",{key:e.id,staticClass:"option",attrs:{label:e.name},domProps:{value:e.id}})}))]):e._e()}),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__dueDate"},[s("strong",{staticClass:"assignments__dueDateTitle"},[e._v("Due date:")]),e._v(" "),s("span",{staticClass:"assignments__dueDateId"},[e._v(e._s(t.id))]),e._v(" "),s("p",[s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},on:{change:function(s){e.saveDueDateEdit(s,t.id)}},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"a.dueDate"}})],1)])],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Class Submissions",name:"ClassSubmissions"}},e._l(e.videos,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1}}):e._e()}))],1)],1)}),e._v(" "),s("el-tab-pane",{attrs:{label:"+ Add assignment"}},[s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a title"},model:{value:e.assignmentTitle,callback:function(t){e.assignmentTitle=t},expression:"assignmentTitle"}}),e._v(" "),s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a description",type:"textarea"},model:{value:e.assignmentDescription,callback:function(t){e.assignmentDescription=t},expression:"assignmentDescription"}}),e._v(" "),s("p",[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"Select a genre"},on:{change:function(t){e.updateAssignments()}},model:{value:e.assignmentGenre,callback:function(t){e.assignmentGenre=t},expression:"assignmentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),e._v(" "),s("p",[e._v("Set due date:")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.assignmentDueDate,callback:function(t){e.assignmentDueDate=t},expression:"assignmentDueDate"}}),e._v(" "),s("hr"),e._v(" "),s("el-button",{on:{click:function(t){e.createAssignment()}}},[e._v("Create")])],1)],2)],1),e._v(" "),e.currentClass.id&&"student"===e.role?s("el-dialog",{staticClass:"modal-class-assignments",attrs:{title:this.currentClass.name+" Class assignments",visible:e.modalClassAssignmentsIsOpen},on:{"update:visible":function(t){e.modalClassAssignmentsIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAssignments,expression:"loadingAssignments"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingAssignments,expression:"!loadingAssignments"}],on:{"tab-click":e.changeAssignmentTabEvent}},e._l(e.assignments,function(t){return s("el-tab-pane",{key:t.id,attrs:{label:t.title}},[e.loadingAssignments?e._e():s("el-tabs",{model:{value:e.assignmentsModalSubtab,callback:function(t){e.assignmentsModalSubtab=t},expression:"assignmentsModalSubtab"}},[s("el-tab-pane",{attrs:{label:"General",name:"General"}},[s("div",{staticClass:"assignments-content"},[s("span",{staticClass:"assignments__title"},[s("strong",[e._v("Title:")]),e._v(" "),s("span",{staticClass:"assignments__titleId"},[e._v(e._s(t.id))]),e._v(" "),"student"===e.role?s("p",{staticClass:"assignments__titleText_noEdit"},[e._v(e._s(t.title))]):e._e()]),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__desc"},[s("strong",{staticClass:"assignments__descTitle"},[e._v("Description:")]),e._v(" "),s("span",{staticClass:"assignments__descId"},[e._v(e._s(t.id))]),e._v(" "),"student"===e.role?s("p",{staticClass:"assignments__titleText_noEdit"},[e._v(e._s(t.description))]):e._e()]),e._v(" "),s("hr"),e._v(" "),e._l(e.genres,function(n){return n.id===t.genre?s("span",{key:n.id,staticClass:"assignments__genre"},[s("strong",{staticClass:"assignments__genreTitle"},[e._v("Genre:")]),e._v(" "),s("span",{staticClass:"assignments__genreId"},[e._v(e._s(t.id))]),e._v(" "),"student"===e.role?s("p",{staticClass:"assignments__genreName__noEdit"},[e._v(e._s(n.name))]):e._e()]):e._e()}),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__dueDate"},[s("strong",{staticClass:"assignments__dueDateTitle"},[e._v("Due date:")]),e._v(" "),s("span",{staticClass:"assignments__dueDateId"},[e._v(e._s(t.id))]),e._v(" "),s("p",["student"===e.role?s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date",readonly:!0},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"a.dueDate"}}):e._e()],1)])],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"My Submission",name:"MySubmission"}},e._l(e.userCollaborated,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1}}):e._e()})),e._v(" "),s("el-tab-pane",{attrs:{label:"Class Submissions",name:"ClassSubmissions"}},e._l(e.videosWithoutUserSubs,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1}}):e._e()}))],1)],1)})),e._v(" "),0!==e.assignments.length||"student"!==e.role||e.loadingAssignments?e._e():s("p",[s("i",[e._v("No assignments")])])],1):e._e(),e._v(" "),s("el-dialog",{attrs:{visible:e.modalStudentRequestsIsOpen},on:{"update:visible":function(t){e.modalStudentRequestsIsOpen=t}}},[s("span",{staticClass:"modal-student-requests",attrs:{slot:"title"},slot:"title"},[s("b",[s("i",{staticClass:"fa fa-book"}),e._v(" "+e._s(e.currentClass.name)+" - Enrollments")])]),e._v(" "),e.loadingModalStudents?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalStudents,expression:"loadingModalStudents"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),e.loadingModalStudents?e._e():s("el-tabs",{model:{value:e.modalStudentRequestsTab,callback:function(t){e.modalStudentRequestsTab=t},expression:"modalStudentRequestsTab"}},[s("el-tab-pane",{attrs:{label:"Enrolled students",name:"enrolledStudents"}},[0===e.enrolledStudents.length?s("p",[s("i",[e._v("No enrolled students")])]):e._e(),e._v(" "),0!==e.enrolledStudents.length?s("el-input",{staticClass:"mt-search-input",staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("enrolledStudents","filteredEnrolledStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredEnrolledStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),"administrator"===e.role?s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteEnrollment(n,t)}}},[e._v("Unenroll")]):e._e()],1)}))],1),e._v(" "),s("el-tab-pane",{attrs:{name:"requestedStudents"}},[0===e.requestedStudents.length?s("p",[s("i",[e._v("No enrollment requests")])]):e._e(),e._v(" "),s("span",{attrs:{slot:"label"},slot:"label"},[e._v("Enrollment requests ("+e._s(e.requestedStudents.length)+")")]),e._v(" "),0!==e.requestedStudents.length?s("el-input",{staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("requestedStudents","filteredRequestedStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredRequestedStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),"administrator"===e.role?s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteRequest(n,t)}}},[e._v("Delete request")]):e._e(),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px","margin-right":"5px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.acceptStudent(n,t)}}},[e._v("Accept request")])],1)})),e._v(" "),0!==e.requestedStudents.length?s("el-button",{staticStyle:{"margin-top":"5px"},attrs:{sfize:"small",type:"info"},on:{click:function(t){e.acceptAllStudents()}}},[e._v("Accept all requests")]):e._e()],1),e._v(" "),"administrator"===e.role?s("el-tab-pane",{attrs:{label:"Other students",name:"otherStudents"}},[0===e.otherStudents.length?s("p",[s("i",[e._v("No other students")])]):e._e(),e._v(" "),0!==e.otherStudents.length?s("el-input",{staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("otherStudents","filteredOtherStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredOtherStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.enrollStudent(n,t)}}},[e._v("Enroll student")])],1)}))],1):e._e()],1)],1),e._v(" "),s("el-dialog",{staticClass:"modal-student-requests",attrs:{title:"Find a class to enroll",visible:e.modalClassesToEnrollIsOpen},on:{"update:visible":function(t){e.modalClassesToEnrollIsOpen=t}}},[e.loadingModalClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalClasses,expression:"loadingModalClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),e.loadingModalClasses?e._e():s("el-tabs",{model:{value:e.modalClassesRequestsTab,callback:function(t){e.modalClassesRequestsTab=t},expression:"modalClassesRequestsTab"}},[s("el-tab-pane",{attrs:{label:"Classes to enroll",name:"classesToEnroll"}},[0===e.notEnrolledClasses.length?s("p",[s("i",[e._v("No classes to enroll")])]):e._e(),e._v(" "),0!==e.notEnrolledClasses.length?s("el-input",{staticClass:"mt-search-input",staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("notEnrolledClasses","filteredNotEnrolledClasses",e.searchInputClassModal)}},model:{value:e.searchInputClassModal,callback:function(t){e.searchInputClassModal=t},expression:"searchInputClassModal"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredNotEnrolledClasses,function(t){return s("li",{key:t.id,staticClass:"mt-table__row"},[s("span",[s("i",{staticClass:"fa fa-book"}),e._v(" "),s("span",[e._v(e._s(t.name)+" - "+e._s(t.semester))])]),e._v(" "),s("span",{staticStyle:{visibility:"hidden","font-size":"2px"}},[e._v(e._s(t.id))]),e._v(" "),s("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){e.requestToEnrollToClass(t)}}},[e._v("Request enrollment")])],1)}))],1),e._v(" "),s("el-tab-pane",{attrs:{name:"requestsPending"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v("Requests pending ("+e._s(e.requestedClasses.length)+")")]),e._v(" "),0===e.requestedClasses.length?s("span",[s("i",[e._v("No requests pending")])]):e._e(),e._v(" "),e.loadingModalClasses?e._e():s("div",{staticClass:"mt-table",attrs:{label:""}},e._l(e.requestedClasses,function(t){return s("li",{key:t.id},[s("a",[s("i",{staticClass:"fa fa-book"}),e._v(" "+e._s(t.number)+" - "+e._s(t.name)+" - "+e._s(t.department)+" - "+e._s(t.semester))])])}))])],1)],1)],1)},staticRenderFns:[]}},755:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wiki__subhead"},[s("div",{staticClass:"wiki__subheadMenu"},[s("button",{staticClass:"wiki__subheadLink wiki__subheadButton",on:{click:function(t){e.modalPostATermIsOpen=!0}}},[e._v("Post a Term")])]),e._v(" "),s("el-dialog",{attrs:{title:"Post a term",visible:e.modalPostATermIsOpen},on:{"update:visible":function(t){e.modalPostATermIsOpen=t}}},[s("el-form",{attrs:{model:e.term}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{attrs:{placeholder:"Type a name"},model:{value:e.term.name,callback:function(t){e.term.name=t},expression:"term.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Canon"}},[s("br"),e._v(" "),s("el-select",{attrs:{placeholder:"Choose a canon"},model:{value:e.term.canon,callback:function(t){e.term.canon=t},expression:"term.canon"}},e._l(e.canons,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"Definition"}},[s("el-input")],1),e._v(" "),s("el-form-item",{attrs:{label:"Description"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.term.description,callback:function(t){e.term.description=t},expression:"term.description"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.modalPostATermIsOpen=!1}}},[e._v("Cancel")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.postCategory()}}},[e._v("Post a term")])],1)],1)],1)},staticRenderFns:[]}},756:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload-video"},[s("div",{staticClass:"upload-video__button",on:{click:function(t){e.createJwVideo()}}},[s("i",{staticClass:"fa fa-upload",attrs:{"aria-hidden":"true"}}),e._v(" "),s("span",{staticClass:"upload-video__text"},[e._v("Upload video")])]),e._v(" "),s("el-dialog",{staticClass:"uploadvid",attrs:{title:"Upload video",visible:e.modalDragDropIsOpen,"before-close":e.closeModalDragDrop,size:"medium"},on:{"update:visible":function(t){e.modalDragDropIsOpen=t}}},[s("div",{staticClass:"uploadvid__area"},[s("span",{staticClass:"uploadvid__text"},[e._v("Drop videos here or click to upload")])])]),e._v(" "),s("el-dialog",{staticClass:"uploadvid__metadata",attrs:{title:"Video details",visible:e.modalMetadataIsOpen,"close-on-click-modal":!1},on:{"update:visible":function(t){e.modalMetadataIsOpen=t}}},[s("el-form",{ref:"uploadVidMetadata",attrs:{model:e.uploadVidMetadata,"label-width":"120px",rules:e.uploadVidMetadataRules}},[s("el-form-item",{attrs:{label:"Title",prop:"title"}},[s("el-input",{attrs:{placeholder:"Enter a title"},model:{value:e.uploadVidMetadata.title,callback:function(t){e.uploadVidMetadata.title=t},expression:"uploadVidMetadata.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Assignment",prop:"assignment"}},[0!==e.filteredAssignments.length?s("el-select",{attrs:{clearable:"",placeholder:"Select an assignment"},on:{change:function(t){e.assignmentSelectedEventHandler()}},model:{value:e.uploadVidMetadata.assignmentId,callback:function(t){e.uploadVidMetadata.assignmentId=t},expression:"uploadVidMetadata.assignmentId"}},e._l(e.filteredAssignments,function(e){return s("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})):e._e(),e._v(" "),0===e.filteredAssignments.length?s("div",[e._v("\n                        "+e._s(e.assignmentSelectionPlaceholder)+"\n                    ")]):e._e()],1),e._v(" "),s("el-form-item",{attrs:{label:"Genre",prop:"genreId"}},[""===e.uploadVidMetadata.assignmentId?s("el-select",{attrs:{clearable:"",placeholder:"Select the video genre"},on:{change:e.genreSelectedEventHandler},model:{value:e.uploadVidMetadata.genreId,callback:function(t){e.uploadVidMetadata.genreId=t},expression:"uploadVidMetadata.genreId"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})):""!==e.uploadVidMetadata.assignmentId?s("div",[e._v("\n                        "+e._s(e.lockedGenre.name)+"\n                    ")]):e._e()],1),e._v(" "),s("el-form-item",{attrs:{label:"Presentation date",required:""}},[s("el-col",{attrs:{span:11}},[s("el-form-item",{attrs:{prop:"presentedAt"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.uploadVidMetadata.presentedAt,callback:function(t){e.uploadVidMetadata.presentedAt=t},expression:"uploadVidMetadata.presentedAt"}})],1)],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.startUpload("uploadVidMetadata")}}},[e._v("Start upload")]),e._v(" "),s("el-button",{on:{click:function(t){e.modalMetadataIsOpen=!1}}},[e._v("Cancel")])],1)],1)],1),e._v(" "),s("el-dialog",{staticClass:"uploadvid__progress",attrs:{title:"Upload in progress",visible:e.modalProgressIsOpen,"before-close":e.closeModalProgress,"close-on-click-modal":!1},on:{"update:visible":function(t){e.modalProgressIsOpen=t}}},[s("el-progress",{attrs:{percentage:parseFloat(e.uploadProgress.toFixed(0)),"stroke-width":14}})],1),e._v(" "),s("el-dialog",{staticClass:"uploadvid__sync",attrs:{visible:e.modalSyncOpen,"close-on-click-modal":!1,"show-close":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.modalSyncOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.modalSyncOpen,expression:"modalSyncOpen"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"The video is being processed. The waiting time usually is 1 minute for every minute duration of the original.","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}})])],1)},staticRenderFns:[]}},757:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"video"},[s("my-header"),e._v(" "),s("div",{staticClass:"video__body columns"},[s("div",{staticClass:"player column is-8"},[s("div",{attrs:{id:"player"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isVideoline,expression:"isVideoline"}],staticClass:"times"},e._l(e.times,function(t){return s("span",{key:t.min,staticClass:"times-min"},[e._v(e._s(t.min))])})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isVideoline,expression:"isVideoline"}],staticClass:"videoline",attrs:{id:"videoline"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"videoline-ribbon",attrs:{draggable:"true"}},[s("span",{staticClass:"videoline-ribbon-circle"}),e._v(" "),s("span",{staticClass:"videoline-ribbon-line"},[s("p",{staticClass:"videoline-ribbon-line-time"},[e._v(e._s(e.videoCurrentTimeMMSS))])])]),e._v(" "),s("div",{staticClass:"crop videoline-crop",attrs:{id:"videoline-crop"}},[s("div",{staticClass:"crop__corner crop__start",attrs:{draggable:"true"}},[s("span",[e._v("|||")]),e._v(" "),s("p",{staticClass:"crop__time-label"},[e._v(e._s(e.startDragTime))])]),e._v(" "),s("div",{staticClass:"crop__corner crop__end",attrs:{draggable:"true"}},[s("span",[e._v("|||")]),e._v(" "),s("p",{staticClass:"crop__time-label"},[e._v(e._s(e.endDragTime))])]),e._v(" "),s("span",{staticClass:"crop__space"})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"videoline-progress"})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isAnnotating,expression:"isAnnotating"}],staticClass:"annotate"},[e.loadingCanons?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingCanons,expression:"loadingCanons"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.loadingCanons,expression:"!loadingCanons"}],staticClass:"annotate-menu"},[e.isAnnotateCanons?s("nav",{staticClass:"annotate-menu__canons"},[e._l(e.customCanonTree,function(t){return s("a",{key:t.name,class:t.name,on:{click:function(s){e.chooseCanonAnnotate(t.name)}}},[e._v(e._s(t.name))])}),e._v(" "),s("div",{staticClass:"annotate-menu__canons-close"},[s("span",{on:{click:function(t){e.closeAnnotationMenu()}}},[e._v("X")])])],2):e._e(),e._v(" "),e._l(e.customCanonTree,function(t){return e.isAnnotateCategories&&t.name===e.annotateCanon?s("nav",{key:t.name,staticClass:"annotate-menu__categories"},e._l(t.categories,function(n){return s("a",{key:n.name,class:t.name,attrs:{title:n.desc},on:{click:function(t){e.chooseCategoryAnnotate(n.id)}}},[e._v(e._s(n.name))])})):e._e()}),e._v(" "),e.isAnnotateSubcategories?s("nav",{staticClass:"annotate-menu__subcategories"},[s("button",{staticClass:"button",on:{click:function(t){e.isAnnotateSubcategories=!1,e.isAnnotateCategories=!0,e.isAnnotateCanons=!0}}},[s("i",{staticClass:"fa fa-chevron-left"}),e._v("Back")]),e._v(" "),e._l(e.annotateCurrentCategoryObject.subcategories,function(t){return s("a",{key:t.id,on:{click:function(s){e.chooseSubcategoryAnnotate(t.id)}}},[e._v(e._s(t.name))])})],2):e._e()],2),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isAnnotateFields,expression:"isAnnotateFields"}],staticClass:"annotate-fields annotate-annotating"},[s("div",{staticClass:"annotate-fields-left"},[s("button",{staticClass:"button annotate-fields-left-back",on:{click:function(t){e.isAnnotateFields=!1,e.isVideoline=!1,e.isAnnotateCategories=!0,e.isAnnotateCanons=!0,e.selectedMove="Other"}}},[s("i",{staticClass:"fa fa-chevron-left",attrs:{"aria-hidden":"true"}}),e._v("Back\n                        ")])]),e._v(" "),s("div",{staticClass:"annotate-fields-right"},[s("div",{staticClass:"annotate-desc field"},[0===e.annotateCurrentCategoryObject.subcategories.length?s("div",{staticClass:"annotate-desc-text"},[s("h1",[e._v(e._s(e.annotateCurrentCategoryObject.name))]),e._v(" "),s("p",[e._v(e._s(e.annotateCurrentCategoryObject.definition))])]):s("div",{staticClass:"annotate-desc-text"},[s("h1",[e._v(e._s(e.annotateCurrentSubcategoryObject.name))]),e._v(" "),s("p",[e._v(e._s(e.annotateCurrentSubcategoryObject.definition))])]),e._v(" "),s("router-link",{staticClass:"annotate-desc-text__wiki",attrs:{to:"/term/"+e.annotateCurrentCategoryObject.id,tag:"a"}},[s("i",{staticClass:"fa fa-commenting"}),e._v("Wiki\n                            ")]),e._v(" "),s("div",{staticClass:"annotate-menu__canons-close"},[s("span",{on:{click:function(t){e.isAnnotating=!1,e.isAnnotateFields=!1,e.isVideoline=!1,e.selectedMove="Other"}}},[e._v("X")])])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"Other"===e.selectedMove,expression:"selectedMove === 'Other'"}],staticClass:"annotate-comment field"},[s("label",{staticClass:"label"},[e._v("Comment")]),e._v(" "),s("p",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.annotateComment,expression:"annotateComment"}],staticClass:"textarea",attrs:{placeholder:"You might also want to include a concrete strategy recommendation."},domProps:{value:e.annotateComment},on:{input:function(t){t.target.composing||(e.annotateComment=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"annotate-effectiveness field"},[s("label",{staticClass:"label"},[e._v("Effectiveness rating")]),e._v(" "),s("el-slider",{staticClass:"annotate-effectiveness-slider",attrs:{step:1,min:0,max:5,"show-stops":"","show-tooltip":""},model:{value:e.annotateRating,callback:function(t){e.annotateRating=t},expression:"annotateRating"}})],1),e._v(" "),s("div",{staticClass:"annotate-submit"},[s("button",{staticClass:"button",on:{click:function(t){e.annotate()}}},[e._v("Annotate")])])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"isEditing"}],staticClass:"edit"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditFields,expression:"isEditFields"}],staticClass:"annotate-fields"},[s("div",{staticClass:"annotate-fields-right"},[e._l(e.customCanonTree,function(t){return t.name===e.annotateCanon?s("div",{key:t.name,staticClass:"annotate-desc field"},[e._l(t.categories,function(t){return t.id===e.annotateCategoryId?s("p",{key:t.id,staticClass:"control"},[e._v('"'+e._s(t.description)+'"')]):e._e()}),e._v(" "),s("div",{staticClass:"annotate-menu__canons-close"},[s("span",{on:{click:function(t){e.isEditing=!1,e.isVideoline=!1,e.isEditFields=!1,e.isAnnotating=!1}}},[e._v("X")])])],2):e._e()}),e._v(" "),s("div",{staticClass:"annotate-effectiveness field"},[s("label",{staticClass:"label"},[e._v("Set effectiveness:")]),e._v(" "),s("el-slider",{staticClass:"annotate-effectiveness-slider",attrs:{step:1,min:0,max:5,"show-stops":"","show-tooltip":""},model:{value:e.editRating,callback:function(t){e.editRating=t},expression:"editRating"}})],1),e._v(" "),s("div",{staticClass:"annotate-comment field"},[s("label",{staticClass:"label"},[e._v("Comment:")]),e._v(" "),s("p",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editComment,expression:"editComment"}],staticClass:"textarea",attrs:{placeholder:"It is always a good idea to include strategy hint..."},domProps:{value:e.editComment},on:{input:function(t){t.target.composing||(e.editComment=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"annotate-submit"},[s("button",{staticClass:"button",on:{click:function(t){e.edit()}}},[e._v("Save")])])]),e._v(" "),s("div",{staticClass:"field",staticStyle:{color:"#fff","font-size":"0.8em"}},[e._v("\n                            Start time:\n                            "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editStart,expression:"editStart"}],attrs:{type:"text"},domProps:{value:e.editStart},on:{input:function(t){t.target.composing||(e.editStart=t.target.value)}}}),e._v("\n                            End time:\n                            "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editEnd,expression:"editEnd"}],attrs:{type:"text"},domProps:{value:e.editEnd},on:{input:function(t){t.target.composing||(e.editEnd=t.target.value)}}})])],2)])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAnnotating,expression:"!isAnnotating"}],staticClass:"add-annotation-area",on:{click:function(t){e.annotating()}}},[s("i",{staticClass:"fa fa-plus fa_1_5x",attrs:{"aria-hidden":"true"}}),s("span",[e._v("Add annotation")])]),e._v(" "),"Home"!==e.currentClass.name?s("router-link",{staticClass:"collaborators button",attrs:{to:"/",tag:"button","active-class":"head__nav-item-active",exact:""}},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" Back to class")]):e._e(),e._v(" "),s("button",{staticClass:"collaborators button",on:{click:function(t){e.toggleModalCollaborators()}}},[s("i",{staticClass:"fa fa-users"}),s("span",[e._v("Collaborators")])]),e._v(" "),s("video-assignments",{attrs:{currentVideo:e.videos}}),e._v(" "),s("canon-statistics",{attrs:{currentVideo:e.videos,currentAnnotations:e.videoAnnotations}}),e._v(" "),s("el-dialog",{attrs:{visible:e.modalCollaboratorsIsOpen},on:{"update:visible":function(t){e.modalCollaboratorsIsOpen=t}}},[s("span",{staticClass:"modal-collaborators",attrs:{slot:"title"},slot:"title"},[s("b",[e._v(e._s(e.videos.title)+" - Collaborators")])]),e._v(" "),e.loadingCollaborators?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingCollaborators,expression:"loadingCollaborators"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingCollaborators,expression:"!loadingCollaborators"}],model:{value:e.modalCollaboratorsTab,callback:function(t){e.modalCollaboratorsTab=t},expression:"modalCollaboratorsTab"}},[s("el-tab-pane",{attrs:{label:"Collaborators",name:"collaborators"}},[s("p",{directives:[{name:"show",rawName:"v-show",value:0===e.videoCollaborators.length,expression:"videoCollaborators.length === 0"}]},[s("i",[e._v("No collaborators")])]),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.videoCollaborators,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),e.collabEditAccess?s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteCollaborator(n,t)}}},[e._v("Remove\n                                ")]):e._e()],1)}))]),e._v(" "),e.collabEditAccess?s("el-tab-pane",{attrs:{label:"Other students",name:"otherStudents"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.otherStudents.length,expression:"otherStudents.length === 0"}]},[s("i",[e._v("No other students")])]),e._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:0!==e.otherStudents.length,expression:"otherStudents.length !== 0"}],staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("otherStudents","filteredOtherStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredOtherStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.addCollaborator(n,t)}}},[e._v("Add collaborator\n                                ")])],1)}))],1):e._e()],1)],1)],1),e._v(" "),s("div",{staticClass:"cards column is-4"},[e.canonLoadingDone?s("div",{staticClass:"cards-content"},[s("nav",{staticClass:"card-menu"},[e._l(e.customCanonTree,function(t){return s("a",{key:t.name,staticClass:"card-menu__item",class:t.name,on:{click:function(s){e.chooseCanonFilter(s,t.name)}}},[s("i",{staticClass:"card-menu__icon fa fa_1x",class:{"fa-pencil-square-o":"Invention"===t.name,"fa-book":"Structure"===t.name,"fa-commenting":"Delivery"===t.name,"fa-eye":"Visuals"===t.name,"fa-diamond":"Style"===t.name},staticStyle:{"margin-top":"20px"}}),e._v(" "),s("span",{staticClass:"card-menu__title"},[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"card-menu__triangle",class:t.name+"-border-triangle"})])}),e._v(" "),e._m(0)],2),e._v(" "),s("div",{staticClass:"timeline-container"},e._l(e.videoAnnotations,function(t){return t.canon===e.isInvention||t.canon===e.isStructure||t.canon===e.isDelivery||t.canon===e.isVisuals||t.canon===e.isStyle?s("div",{key:t.id,staticClass:"timeline-card column",class:t.canon+"-border",on:{click:function(t){e.seekCard(t)}}},[s("div",{staticClass:"timeline-card__head"},[s("div",{staticClass:"timeline-card__title-container"},[s("span",{staticClass:"timeline-card__title"},[e._v(e._s(t.category[0].name))]),e._v(" "),s("span",{staticClass:"timeline-card__time"},[e._v(e._s(t.from)+" - "+e._s(t.to))])]),e._v(" "),s("p",{staticClass:"timeline-card__desc"},[e._v(e._s(t.label))])]),e._v(" "),s("div",{staticClass:"timeline-card__body",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[s("p",{directives:[{name:"show",rawName:"v-show",value:!!t.comment,expression:"!!card.comment"}],staticClass:"timeline-card__body-title"},[e._v("COMMENT:")]),e._v(" "),t.comment?s("read-more",{staticClass:"timeline-card__comment",attrs:{text:t.comment,"more-str":"Read More",link:"#","less-str":"Read less","max-chars":70}}):e._e(),e._v(" "),s("div",{staticClass:"timeline-card__effectiveness"},[s("div",{staticClass:"timeline-card__progress"},[s("span",{staticClass:"timeline-card__progressSpan",class:t.canon,style:{width:20*t.rating+"%"}})]),e._v(" "),s("p",{staticClass:"timeline-card__effectiveness-label"},[e._v(e._s(t.rating)+" / 5 effective")])])],1),e._v(" "),s("div",{staticClass:"timeline-card__author"},[e._v(e._s(t.author))]),e._v(" "),s("div",{staticClass:"timeline-card__footer"},[s("span",{staticClass:"timeline-card__id"},[e._v(e._s(t.id))]),e._v(" "),s("div",{staticClass:"timeline-card__edit-container",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[s("button",{staticClass:"edit-buttons-moreLess button",on:{click:function(t){e.toggleEditDelete(t)}}},[s("i",{staticClass:"fa fa-ellipsis-v",attrs:{"aria-hidden":"true"}})]),e._v(" "),s("button",{staticClass:"edit-buttons edit-buttons-edit button",on:{click:function(t){e.editing(t)}}},[s("i",{staticClass:"fa fa-pencil-square-o fa-1x",attrs:{"aria-hidden":"true"}})]),e._v(" "),s("button",{staticClass:"edit-buttons edit-buttons-delete button",on:{click:function(t){e.deleteAnnotation(t)}}},[s("i",{staticClass:"fa fa-trash-o fa-1x",attrs:{"aria-hidden":"true"}})])])])]):e._e()}))]):e._e(),e._v(" "),e._e()])]),e._v(" "),s("my-footer"),e._v(" "),s("el-dialog",{staticClass:"uploadvid__sync",attrs:{visible:e.modalSyncOpen,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.modalSyncOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.modalSyncOpen,expression:"modalSyncOpen"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Processing your file...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("button",{staticClass:"button",on:{click:function(t){e.goHome()}}},[e._v("Go home")])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"more-annotations",attrs:{id:"more-annotations"}},[e._v("\n                        Scroll\n                        "),s("div",{staticClass:"scroll-mouse"},[s("i",{staticClass:"scroll-wheel fa fa-circle",attrs:{"aria-hidden":"true"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"errorhandling__head"},[s("div",{staticClass:"errorhandling__title-container"},[s("span",{staticClass:"errorhandling__title"},[e._v("NOTIFICATION")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"errorhandling__body"},[s("p",{staticClass:"errorhandling__body-title"},[e._v("The annotations of the current video, are not shown correctly. Please contact with the administrator.")])])}]}},758:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app"},[s("router-view")],1)},staticRenderFns:[]}},759:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("span",{staticClass:"footer__copyright"},[s("strong",[e._v("Metalogon")])]),e._v(" "),s("p",{staticClass:"footer__description"},[e._v("Writing, Rhetoric and Professional Communication  at Massachusetts Institute of Technology")])])}]}},760:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",{domProps:{innerHTML:e._s(e.formattedString)}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.text.length>e.maxChars,expression:"text.length > maxChars"}]},[s("a",{directives:[{name:"show",rawName:"v-show",value:!e.isReadMore,expression:"!isReadMore"}],attrs:{href:e.link,id:"readmore"},on:{click:function(t){e.triggerReadMore(t,!0)}}},[e._v(e._s(e.moreStr))]),e._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:e.isReadMore,expression:"isReadMore"}],attrs:{href:e.link,id:"readmore"},on:{click:function(t){e.triggerReadMore(t,!1)}}},[e._v(e._s(e.lessStr))])])])},staticRenderFns:[]}},761:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"ftdcard",attrs:{tag:"a",to:"/video/"+e.currentVideo.id}},[s("img",{staticClass:"ftdcard__image",attrs:{src:e.currentVideo.thumb,alt:"Placeholder image"}}),e._v(" "),s("span",{staticClass:"ftdcard__meta1"},[s("h3",{staticClass:"ftdcard__title"},[e._v(e._s(e.currentVideo.title))]),e._v(" "),s("p",{staticClass:"ftdcard__class"},[e._v(e._s(e.currentVideo.class))])]),e._v(" "),s("span",{staticClass:"ftdcard__meta2"},[s("p",{staticClass:"ftdcard__genre"},[e._v(e._s(e.videoGenre))]),e._v(" "),s("p",{staticClass:"ftdcard__date"},[e._v(e._s(e._f("sliceDate")(e.currentVideo.presentedAt)))])])])},staticRenderFns:[]}},762:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"sidebar column is-2 aside"},[e.loadingClasses?e._e():s("div",{staticClass:"sidebar__actions"},[s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.createNewClassModalOpen()}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Create new class")]),e._v(" "),s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalInviteUserIsOpen=!0}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Invite a new user")]),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalDeleteClassIsOpen=!0}}},[s("i",{staticClass:"fa fa-trash"}),e._v("Delete this class")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.openAssignmentsModal()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Assignments"),e.assignmentsBadgeOn&&0===e.assignments.length?s("span",{staticClass:"dot"}):e._e()]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalArchiveClassIsOpen=!0}}},[s("i",{staticClass:"fa fa-archive"}),e._v("Archive this class")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.toggleModalStudentRequests()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Student requests ("+e._s(e.requestedStudents.length)+")")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.editCategoriesModalOpen()}}},[s("i",{staticClass:"fa fa-commenting-o"}),e._v("Edit categories")]):e._e()]),e._v(" "),s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingClasses,expression:"!loadingClasses"}],model:{value:e.sidebarClassesTab,callback:function(t){e.sidebarClassesTab=t},expression:"sidebarClassesTab"}},[s("el-tab-pane",{attrs:{label:"Active classes",name:"activeClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.adminActiveClasses.length?s("i",[e._v("  No classes ")]):e._e(),e._v(" "),0!==e.adminActiveClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("adminActiveClasses","filteredAdminActiveClasses",e.searchInputActiveClassSidebar)}},model:{value:e.searchInputActiveClassSidebar,callback:function(t){e.searchInputActiveClassSidebar=t},expression:"searchInputActiveClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredAdminActiveClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Archived",name:"archivedClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.adminArchivedClasses.length?s("i",[e._v("  No archived classes ")]):e._e(),e._v(" "),0!==e.adminArchivedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search archived classes..."},on:{change:function(t){e.filterClassArray("adminArchivedClasses","filteredAdminArchivedClasses",e.searchInputArchivedClassSidebar)}},model:{value:e.searchInputArchivedClassSidebar,callback:function(t){e.searchInputArchivedClassSidebar=t},expression:"searchInputArchivedClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredAdminArchivedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.openModalUnarchiveClass(t.id)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Add new class",visible:e.modalCreateClassIsOpen,"before-close":e.handleNewClassClose},on:{"update:visible":function(t){e.modalCreateClassIsOpen=t}}},[s("el-steps",{attrs:{active:e.createModalActive,"finish-status":"success",space:"97%"}},[s("el-step"),e._v(" "),s("el-step")],1),e._v(" "),0==e.createModalActive?s("el-form",{attrs:{model:e.newClass}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{attrs:{placeholder:"Advanced Essay Workshop",required:""},model:{value:e.newClass.name,callback:function(t){e.newClass.name=t},expression:"newClass.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Department"}},[s("el-input",{attrs:{placeholder:"Comparative Media Studies / Writing",required:""},model:{value:e.newClass.department,callback:function(t){e.newClass.department=t},expression:"newClass.department"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Number"}},[s("el-input",{attrs:{placeholder:"21W.745",required:""},model:{value:e.newClass.number,callback:function(t){e.newClass.number=t},expression:"newClass.number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Semester"}},[s("el-input",{attrs:{placeholder:"Spring 2018",required:""},model:{value:e.newClass.semester,callback:function(t){e.newClass.semester=t},expression:"newClass.semester"}})],1)],1):e._e(),e._v(" "),1==e.createModalActive?s("div",[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e()],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:function(t){e.handleNewClassClose()}}},[e._v("Cancel")]):e._e(),e._v(" "),0==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.nextStep()}}},[e._v("Next Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:function(t){e.previousStep()}}},[e._v("Previous Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.createClass()}}},[e._v("Create Class")]):e._e()],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Categories customization",visible:e.modalGenreCustomization,size:"large","before-close":e.handleEditCategoriesClose},on:{"update:visible":function(t){e.modalGenreCustomization=t}}},[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.handleEditCategoriesClose()}}},[e._v("Cancel")]),e._v(" "),s("el-button",{on:{click:function(t){e.saveNewCustomCategories()}}},[e._v("Save")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to archive `"+e.currentClass.name+"` class?",visible:e.modalArchiveClassIsOpen},on:{"update:visible":function(t){e.modalArchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalArchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.archiveClass()}}},[s("strong",[e._v("Archive Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to unarchive this class?",visible:e.modalUnarchiveClassIsOpen},on:{"update:visible":function(t){e.modalUnarchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalUnarchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.unArchiveClass()}}},[s("strong",[e._v("Unarchive Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to delete `"+e.currentClass.name+"` class?",visible:e.modalDeleteClassIsOpen},on:{"update:visible":function(t){e.modalDeleteClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalDeleteClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.deleteClass()}}},[s("strong",[e._v("Delete Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Invite a new user",visible:e.modalInviteUserIsOpen},on:{"update:visible":function(t){e.modalInviteUserIsOpen=t}}},[s("el-form",{attrs:{model:e.invitation}},[s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{attrs:{placeholder:"E-mail address"},model:{value:e.invitation.email,callback:function(t){e.invitation.email=t},expression:"invitation.email"}})],1),e._v(" "),s("el-form-item",[s("el-input",{attrs:{placeholder:"Repeat e-mail address"},model:{value:e.repeatEmail,callback:function(t){e.repeatEmail=t},expression:"repeatEmail"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Role"}},[s("br"),e._v(" "),s("el-select",{attrs:{placeholder:"Choose a role"},model:{value:e.invitation.role,callback:function(t){e.invitation.role=t},expression:"invitation.role"}},e._l(e.roles,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.modalInviteUserIsOpen=!1}}},[e._v("Cancel")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.createInvitation()}}},[e._v("Create Invitation")])],1)],1),e._v(" "),e.currentClass.id?s("el-dialog",{staticClass:"modal-class-assignments",attrs:{title:this.currentClass.name+" Class assignments",visible:e.modalClassAssignmentsIsOpen},on:{"update:visible":function(t){e.modalClassAssignmentsIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAssignments,expression:"loadingAssignments"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingAssignments,expression:"!loadingAssignments"}]},[s("el-dialog",{attrs:{visible:e.startingAssignmentMessageVisible,title:"Create a starting assignment.","append-to-body":""},on:{"update:visible":function(t){e.startingAssignmentMessageVisible=t}}}),e._v(" "),e._l(e.assignments,function(t){return s("el-tab-pane",{key:t.id,attrs:{label:t.title}},[e.loadingAssignments?e._e():s("el-tabs",{model:{value:e.assignmentsModalSubtab,callback:function(t){e.assignmentsModalSubtab=t},expression:"assignmentsModalSubtab"}},[s("el-tab-pane",{attrs:{label:"General",name:"General"}},[s("div",{staticClass:"assignments-content"},[s("span",{staticClass:"assignments__title"},[s("strong",[e._v("Title:")]),e._v(" "),s("span",{staticClass:"assignments__titleId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__titleText",on:{click:function(t){e.toggleTitleEdit(t)}}},[e._v(e._s(t.title))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"a.title"}],staticClass:"input assignments__titleInput",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(s){e.saveTitleEdit(s,t.id)},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__desc"},[s("strong",{staticClass:"assignments__descTitle"},[e._v("Description:")]),e._v(" "),s("span",{staticClass:"assignments__descId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__descText",on:{click:function(t){e.toggleDescriptionEdit(t)}}},[e._v(e._s(t.description))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"a.description"}],staticClass:"textarea assignments__descTextarea",attrs:{type:"text"},domProps:{value:t.description},on:{blur:function(s){e.saveDescriptionEdit(s,t.id)},input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),e._l(e.genres,function(n){return n.id===t.genre?s("span",{key:n.id,staticClass:"assignments__genre"},[s("strong",{staticClass:"assignments__genreTitle"},[e._v("Genre:")]),e._v(" "),s("span",{staticClass:"assignments__genreId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__genreName",on:{click:function(t){e.toggleGenreEdit(t)}}},[e._v(e._s(n.name))]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"a.genre"}],staticClass:"assignments__genreSelect select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.genre=e.target.multiple?s:s[0]},function(s){e.saveGenreEdit(s,t.id)}]}},e._l(e.genres,function(e){return s("option",{key:e.id,staticClass:"option",attrs:{label:e.name},domProps:{value:e.id}})}))]):e._e()}),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__dueDate"},[s("strong",{staticClass:"assignments__dueDateTitle"},[e._v("Due date:")]),e._v(" "),s("span",{staticClass:"assignments__dueDateId"},[e._v(e._s(t.id))]),e._v(" "),s("p",[s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},on:{change:function(s){e.saveDueDateEdit(s,t.id)}},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"a.dueDate"}})],1)])],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Class Submissions",name:"ClassSubmissions"}},e._l(e.videos,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1,showCollaborators:!1}}):e._e()}))],1)],1)}),e._v(" "),s("el-tab-pane",{attrs:{label:"+ Add assignment"}},[s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a title"},model:{value:e.assignmentTitle,callback:function(t){e.assignmentTitle=t},expression:"assignmentTitle"}}),e._v(" "),s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a description",type:"textarea"},model:{value:e.assignmentDescription,callback:function(t){e.assignmentDescription=t},expression:"assignmentDescription"}}),e._v(" "),s("p",[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"Select a genre"},on:{change:function(t){e.updateAssignments()}},model:{value:e.assignmentGenre,callback:function(t){e.assignmentGenre=t},expression:"assignmentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),e._v(" "),s("p",[e._v("Set due date:")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.assignmentDueDate,callback:function(t){e.assignmentDueDate=t},expression:"assignmentDueDate"}}),e._v(" "),s("hr"),e._v(" "),s("el-button",{on:{click:function(t){e.createAssignment()}}},[e._v("Create")])],1)],2)],1):e._e(),e._v(" "),s("el-dialog",{attrs:{visible:e.modalStudentRequestsIsOpen},on:{"update:visible":function(t){e.modalStudentRequestsIsOpen=t}}},[s("span",{staticClass:"modal-student-requests",attrs:{slot:"title"},slot:"title"},[s("b",[s("i",{staticClass:"fa fa-book"}),e._v(" "+e._s(e.currentClass.name)+" - Enrollments")])]),e._v(" "),e.loadingModalStudents?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalStudents,expression:"loadingModalStudents"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),e.loadingModalStudents?e._e():s("el-tabs",{model:{value:e.modalStudentRequestsTab,callback:function(t){e.modalStudentRequestsTab=t},expression:"modalStudentRequestsTab"}},[s("el-tab-pane",{attrs:{label:"Enrolled students",name:"enrolledStudents"}},[0===e.enrolledStudents.length?s("p",[s("i",[e._v("No enrolled students")])]):e._e(),e._v(" "),0!==e.enrolledStudents.length?s("el-input",{staticClass:"mt-search-input",staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("enrolledStudents","filteredEnrolledStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredEnrolledStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteEnrollment(n,t)}}},[e._v("Unenroll")])],1)}))],1),e._v(" "),s("el-tab-pane",{attrs:{name:"requestedStudents"}},[0===e.requestedStudents.length?s("p",[s("i",[e._v("No enrollment requests")])]):e._e(),e._v(" "),s("span",{attrs:{slot:"label"},slot:"label"},[e._v("Enrollment requests ("+e._s(e.requestedStudents.length)+")")]),e._v(" "),0!==e.requestedStudents.length?s("el-input",{staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("requestedStudents","filteredRequestedStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredRequestedStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteRequest(n,t)}}},[e._v("Delete request")]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px","margin-right":"5px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.acceptStudent(n,t)}}},[e._v("Accept request")])],1)})),e._v(" "),0!==e.requestedStudents.length?s("el-button",{staticStyle:{"margin-top":"5px"},attrs:{sfize:"small",type:"info"},on:{click:function(t){e.acceptAllStudents()}}},[e._v("Accept all requests")]):e._e()],1),e._v(" "),s("el-tab-pane",{attrs:{label:"Other students",name:"otherStudents"}},[0===e.otherStudents.length?s("p",[s("i",[e._v("No other students")])]):e._e(),e._v(" "),0!==e.otherStudents.length?s("el-input",{staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("otherStudents","filteredOtherStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredOtherStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.enrollStudent(n,t)}}},[e._v("Enroll student")])],1)}))],1)],1)],1)],1)},staticRenderFns:[]}},763:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("my-header"),e._v(" "),s("div",{staticClass:"home__jumbotron"},[s("h2",{staticClass:"jumbotron__title title"},[e._v(e._s(e.currentClass.name))]),e._v(" "),"Home"!==e.currentClass.name?s("p",{staticClass:"jumbotron__info"},[s("span",[e._v(e._s(e.currentClass.semester))]),e._v("  "),s("span",[e._v(e._s(e.currentClass.number))]),e._v("  "),s("span",[e._v(e._s(e.currentClass.department))])]):e._e()]),e._v(" "),s("div",{staticClass:"home__body columns"},[s("div",{staticClass:"home__main column is-10"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"student"===e.role||"professor"===e.role,expression:"role === 'student' || role === 'professor'"}],staticClass:"featured"},[s("h3",{staticClass:"featured__heading"},[e._v("Featured videos of "+e._s(e.currentClass.name))]),e._v(" "),s("div",{staticClass:"featured__container"},e._l(this.videos,function(t){return"Home"!==e.currentClass.name&&t.class===e.currentClass.name&&!0===t.featuredClass||"Home"===e.currentClass.name&&!0===t.featuredGlobal?s("mt-video-card",{key:t.id,attrs:{currentVideo:t}}):e._e()}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"administrator"===e.role,expression:"role === 'administrator'"}],staticClass:"featured"},[s("h3",{staticClass:"featured__heading"},[e._v("Featured videos of Home")]),e._v(" "),s("div",{staticClass:"featured__container"},e._l(e.videos,function(t){return!0===t.featuredGlobal?s("mt-video-card",{key:t.id,attrs:{currentVideo:t}}):e._e()}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!("Home"===e.currentClass.name),expression:"!(currentClass.name === 'Home')"}],staticClass:"home__classvideos"},[s("div",{staticClass:"classvideos__section"},[s("h3",{staticClass:"class__heading"},[e._v("Class videos")]),e._v(" "),s("el-input",{staticClass:"classvideos__classesInput",attrs:{icon:"search",placeholder:"Search a video..."},on:{change:function(t){e.filterVideoArray("videos","filteredVideos",e.searchInputClassSidebar)}},model:{value:e.searchInputClassSidebar,callback:function(t){e.searchInputClassSidebar=t},expression:"searchInputClassSidebar"}}),e._v(" "),"Home"!==e.currentClass.name?s("upload-video",{attrs:{currentClassProp:e.currentClass.name}}):e._e()],1),e._v(" "),e._l(e.videos,function(t){return t.class===e.currentClass.name&&""===e.searchInputClassSidebar?s("mt-video-itemlist",{key:t.id,attrs:{currentVideo:t,enableStatistics:!0,showCollaborators:!0}}):e._e()}),e._v(" "),e._l(e.filteredVideos,function(t){return t.class===e.currentClass.name&&""!==e.searchInputClassSidebar?s("mt-video-itemlist",{key:t.id,attrs:{currentVideo:t,enableStatistics:!0}}):e._e()})],2)]),e._v(" "),"administrator"===e.role?s("mt-sidebar-admin"):e._e(),e._v(" "),"student"===e.role?s("mt-sidebar-student"):e._e(),e._v(" "),"professor"===e.role?s("mt-sidebar-professor"):e._e()],1),e._v(" "),s("my-footer")],1)},staticRenderFns:[]}},764:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"error-page"},[s("h1",[e._v(" Something went wrong. ")]),e._v(" "),s("button",{attrs:{type:"button"},on:{click:function(t){e.routeToLogin()}}},[e._v("Go back to login")])])},staticRenderFns:[]}},765:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wiki"},[n("my-header"),e._v(" "),n("div",{staticClass:"wiki__body"},[n("wiki-subhead"),e._v(" "),n("div",{staticClass:"wiki__hero"},[n("h1",{staticClass:"wiki__heroTitle"},[e._v("LOOK IT UP")]),e._v(" "),n("span",{staticClass:"wiki__heroDescription"},[e._v("If you don't know what a term means just look it up below.")]),e._v(" "),n("span",{staticClass:"wiki__search"},[n("el-autocomplete",{staticClass:"inline-input wiki__searchInput ",attrs:{"fetch-suggestions":e.querySearch,placeholder:"Type your search terms here"},on:{select:e.handleSelect},model:{value:e.searchInputTerm,callback:function(t){e.searchInputTerm=t},expression:"searchInputTerm"}}),e._v(" "),n("button",{staticClass:"wiki__searchButton button"},[e._v("Search")])],1)]),e._v(" "),n("div",{staticClass:"wiki__content"},[n("div",{staticClass:"wiki__canons"},e._l(e.canons,function(t){return n("a",{key:t.id,staticClass:"wiki__canonsItem",class:{"chosen-canon":t.name===e.currentWikiCanon},on:{click:function(s){e.chooseWikiCanon(t.name)}}},[n("i",{staticClass:"card-menu__icon fa fa_1x",class:{"fa-pencil-square-o":"Invention"===t.name,"fa-book":"Structure"===t.name,"fa-commenting":"Delivery"===t.name,"fa-eye":"Visuals"===t.name,"fa-diamond":"Style"===t.name}}),e._v(" "),n("span",{staticClass:"card-menu__title"},[e._v(e._s(t.name))])])})),e._v(" "),n("div",{staticClass:"wiki__terms"},e._l(e.categories,function(t){return t.canon===e.currentWikiCanon?n("router-link",{key:t.id,staticClass:"term",attrs:{to:"/term/"+t.id,tag:"div"}},[n("img",{staticClass:"term__img",attrs:{src:s(168)}}),e._v(" "),n("div",{staticClass:"term__metadata"},[n("span",{staticClass:"term__head"},[n("h3",{staticClass:"term__title"},[e._v(e._s(t.name))])]),e._v(" "),n("span",{staticClass:"term__content"},[e._v(e._s(t.definition))]),e._v(" "),n("span",{staticClass:"term__tags"})])]):e._e()}))])],1),e._v(" "),n("my-footer")],1)},staticRenderFns:[]}},766:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"inline-block"}},[s("button",{staticClass:"collaborators button",on:{click:function(t){e.openModalCanonChart()}}},[s("i",{staticClass:"fa fa-bar-chart"}),s("span",[e._v("Canon statistics")])]),e._v(" "),s("el-dialog",{attrs:{title:e.currentVideo.title,visible:e.modalCanonChartIsOpen},on:{"update:visible":function(t){e.modalCanonChartIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalCanonChart,expression:"loadingModalCanonChart"},{name:"show",rawName:"v-show",value:e.loadingModalCanonChart,expression:"loadingModalCanonChart"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]),e._v(" "),e.loadingModalCanonChart||0===e.canonInfo.length?e._e():s("ve-histogram",{attrs:{data:e.chartData,extend:e.chartExtend,settings:e.chartSettings}}),e._v(" "),e.loadingModalCanonChart?e._e():s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.canonInfo}},[s("el-table-column",{attrs:{prop:"canon",label:"Canon"}}),e._v(" "),s("el-table-column",{attrs:{prop:"annotationCount",label:"Total # of annotations"}})],1)],1)],1)},staticRenderFns:[]}},767:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"sidebar column is-2 aside"},[e.loadingClasses?e._e():s("div",{staticClass:"sidebar__actions"},[s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.toggleModalClassesToEnroll()}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Find a class to enroll")]),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.openAssignmentsModal()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Class Assignments")]):e._e()]),e._v(" "),s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),0!==e.acceptedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("acceptedClasses","filteredAcceptedClasses",e.searchInputClassSidebar)}},model:{value:e.searchInputClassSidebar,callback:function(t){e.searchInputClassSidebar=t},expression:"searchInputClassSidebar"}}):e._e(),e._v(" "),e._l(e.requestedClasses,function(t){return""===e.searchInputClassSidebar?s("a",{key:t.id,staticClass:"sidebar__notActive"},[e._v(e._s(t.number)+" - "+e._s(t.name))]):e._e()}),e._v(" "),e._l(e.filteredAcceptedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2),e._v(" "),e.currentClass.id?s("el-dialog",{staticClass:"modal-class-assignments",attrs:{title:this.currentClass.name+" Class assignments",visible:e.modalClassAssignmentsIsOpen},on:{"update:visible":function(t){e.modalClassAssignmentsIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAssignments,expression:"loadingAssignments"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingAssignments,expression:"!loadingAssignments"}],on:{"tab-click":e.changeAssignmentTabEvent}},e._l(e.assignments,function(t){return s("el-tab-pane",{key:t.id,attrs:{label:t.title}},[e.loadingAssignments?e._e():s("el-tabs",{model:{value:e.assignmentsModalSubtab,callback:function(t){e.assignmentsModalSubtab=t},expression:"assignmentsModalSubtab"}},[s("el-tab-pane",{attrs:{label:"General",name:"General"}},[s("div",{staticClass:"assignments-content"},[s("span",{staticClass:"assignments__title"},[s("strong",[e._v("Title:")]),e._v(" "),s("span",{staticClass:"assignments__titleId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__titleText_noEdit"},[e._v(e._s(t.title))])]),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__desc"},[s("strong",{staticClass:"assignments__descTitle"},[e._v("Description:")]),e._v(" "),s("span",{staticClass:"assignments__descId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__titleText_noEdit"},[e._v(e._s(t.description))])]),e._v(" "),s("hr"),e._v(" "),e._l(e.genres,function(n){return n.id===t.genre?s("span",{key:n.id,staticClass:"assignments__genre"},[s("strong",{staticClass:"assignments__genreTitle"},[e._v("Genre:")]),e._v(" "),s("span",{staticClass:"assignments__genreId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__genreName__noEdit"},[e._v(e._s(n.name))])]):e._e()}),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__dueDate"},[s("strong",{staticClass:"assignments__dueDateTitle"},[e._v("Due date:")]),e._v(" "),s("span",{staticClass:"assignments__dueDateId"},[e._v(e._s(t.id))]),e._v(" "),s("p",[s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date",readonly:!0},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"a.dueDate"}})],1)])],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"My Submission",name:"MySubmission"}},e._l(e.userCollaborated,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1,showCollaborators:!1}}):e._e()})),e._v(" "),s("el-tab-pane",{attrs:{label:"Class Submissions",name:"ClassSubmissions"}},e._l(e.videosWithoutUserSubs,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1,showCollaborators:!1}}):e._e()}))],1)],1)})),e._v(" "),0!==e.assignments.length||e.loadingAssignments?e._e():s("p",[s("i",[e._v("No assignments")])])],1):e._e(),e._v(" "),s("el-dialog",{staticClass:"modal-student-requests",attrs:{title:"Find a class to enroll",visible:e.modalClassesToEnrollIsOpen},on:{"update:visible":function(t){e.modalClassesToEnrollIsOpen=t}}},[e.loadingModalClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalClasses,expression:"loadingModalClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),e.loadingModalClasses?e._e():s("el-tabs",{model:{value:e.modalClassesRequestsTab,callback:function(t){e.modalClassesRequestsTab=t},expression:"modalClassesRequestsTab"}},[s("el-tab-pane",{attrs:{label:"Classes to enroll",name:"classesToEnroll"}},[0===e.notEnrolledClasses.length?s("p",[s("i",[e._v("No classes to enroll")])]):e._e(),e._v(" "),0!==e.notEnrolledClasses.length?s("el-input",{staticClass:"mt-search-input",staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("notEnrolledClasses","filteredNotEnrolledClasses",e.searchInputClassModal)}},model:{value:e.searchInputClassModal,callback:function(t){e.searchInputClassModal=t},expression:"searchInputClassModal"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredNotEnrolledClasses,function(t){return s("li",{key:t.id,staticClass:"mt-table__row"},[s("span",[s("i",{staticClass:"fa fa-book"}),e._v(" "),s("span",[e._v(e._s(t.name)+" - "+e._s(t.semester))])]),e._v(" "),s("span",{staticStyle:{visibility:"hidden","font-size":"2px"}},[e._v(e._s(t.id))]),e._v(" "),s("el-button",{attrs:{size:"small",type:"info"},on:{click:function(t){e.requestToEnrollToClass(t)}}},[e._v("Request enrollment")])],1)}))],1),e._v(" "),s("el-tab-pane",{attrs:{name:"requestsPending"}},[s("span",{attrs:{slot:"label"},slot:"label"},[e._v("Requests pending ("+e._s(e.requestedClasses.length)+")")]),e._v(" "),0===e.requestedClasses.length?s("span",[s("i",[e._v("No requests pending")])]):e._e(),e._v(" "),e.loadingModalClasses?e._e():s("div",{staticClass:"mt-table",attrs:{label:""}},e._l(e.requestedClasses,function(t,n){return s("li",{key:t.id},[s("a",[s("i",{staticClass:"fa fa-book"}),e._v(" "+e._s(t.number)+" - "+e._s(t.name)+" - "+e._s(t.department)+" - "+e._s(t.semester))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.deleteRequest(n,t)}}},[e._v("Cancel request")])],1)}))])],1)],1)],1)},staticRenderFns:[]}},768:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"head navbar"},[s("div",{staticClass:"container"},[e._m(0),e._v(" "),s("div",{staticClass:"navbar-menu"},[s("div",{staticClass:"navbar-start"},[s("router-link",{staticClass:"head__nav-item navbar-item",attrs:{to:"/",tag:"a","active-class":"head__nav-item-active",exact:""},nativeOn:{click:function(t){e.setCurrentClass({name:"Home"})}}},[e._v("Home")]),e._v(" "),s("router-link",{staticClass:"head__nav-item navbar-item",attrs:{to:"/wiki",tag:"a","active-class":"head__nav-item-active",exact:""}},[e._v("Wiki")])],1),e._v(" "),s("div",{staticClass:"navbar-end"},[s("a",{staticClass:"head__nav-item navbar-item"},[s("p",[s("i",{staticClass:"fa fa-user-circle"}),e._v(" "+e._s(e.usernameRole))])]),e._v(" "),s("a",{staticClass:"head__nav-item navbar-item",on:{click:function(t){e.logOut()}}},[e._m(1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-brand"},[n("span",{staticClass:"navbar-item"},[n("img",{staticClass:"head__logo",attrs:{src:s(737)}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("i",{staticClass:"fa fa-sign-out"}),e._v("Logout")])}]}},769:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wiki"},[s("my-header"),e._v(" "),s("div",{staticClass:"wiki__body"},[s("wiki-subhead"),e._v(" "),s("div",{staticClass:"term__hero"}),e._v(" "),s("div",{staticClass:"term__body"},[s("nav",{staticClass:"breadcrumb term__breadcrumb"},[s("ul",[s("li",[s("a",{on:{click:function(t){e.goWiki()}}},[e._v(e._s(e.currentTerm.canon))])]),e._v(" "),s("li",{staticClass:"is-active"},[s("a",{attrs:{href:"#","aria-current":"page"}},[e._v(e._s(e.currentTerm.name))])])])]),e._v(" "),s("div",{staticClass:"term__headings"},[s("h1",{staticClass:"term__heading"},[e._v(e._s(e.currentTerm.name))]),e._v(" "),s("p",{staticClass:"term__description"},[e._v("noun | pronounciation")])]),e._v(" "),s("div",{staticClass:"term__rowtext"},[s("h3",{staticClass:"rowtext-title"},[e._v("Definition")]),e._v(" "),e.definitionIsOpen?e._e():s("div",{staticClass:"rowtext__content"},[e._v(e._s(e.currentTerm.definition))]),e._v(" "),e.definitionIsOpen?e._e():s("span",{staticClass:"rowtext__edit",on:{click:function(t){e.editContent("definition")}}},[s("i",{staticClass:"fa fa-pencil fa-1x"}),s("p",[e._v("Edit")])]),e._v(" "),e.definitionIsOpen?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentTerm.definition,expression:"currentTerm.definition"}],staticClass:"textarea",attrs:{type:"text"},domProps:{value:e.currentTerm.definition},on:{input:function(t){t.target.composing||(e.currentTerm.definition=t.target.value)}}}):e._e(),e._v(" "),e.definitionIsOpen?s("span",{staticClass:"rowtext__save",on:{click:function(t){e.saveContent(e.currentTerm.id,"definition")}}},[s("i",{staticClass:"fa fa-check"}),e._v("Save")]):e._e()]),e._v(" "),s("div",{staticClass:"term__rowtext"},[s("h3",{staticClass:"rowtext-title"},[e._v("Description")]),e._v(" "),e.descriptionIsOpen?e._e():s("div",{staticClass:"rowtext__content",on:{click:function(t){e.editContent("description")}}},[e._v(e._s(e.currentTerm.description))]),e._v(" "),e.descriptionIsOpen?e._e():s("span",{staticClass:"rowtext__edit",on:{click:function(t){e.editContent("description")}}},[s("i",{staticClass:"fa fa-pencil fa-1x"}),s("p",[e._v("Edit")])]),e._v(" "),e.descriptionIsOpen?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentTerm.description,expression:"currentTerm.description"}],staticClass:"textarea",attrs:{type:"text"},domProps:{value:e.currentTerm.description},on:{input:function(t){t.target.composing||(e.currentTerm.description=t.target.value)}}}):e._e(),e._v(" "),e.descriptionIsOpen?s("span",{staticClass:"rowtext__save",on:{click:function(t){e.saveContent(e.currentTerm.id,"description")}}},[s("i",{staticClass:"fa fa-check"}),e._v("Save")]):e._e()]),e._v(" "),s("div",{staticClass:"term__largerow"},[e._m(0),e._v(" "),s("div",{staticClass:"term__related"},[s("h3",{staticClass:"related__heading"},[e._v("Related Terms")]),e._v(" "),s("div",{staticClass:"related__menu"},[e._l(e.relatedTerms,function(t){return s("a",{key:t,staticClass:"related__menuItem"},[e._v(e._s(t))])}),e._v(" "),e.relatedInputIsOpen?e._e():s("a",{staticClass:"related__menuItem related__addNew",on:{click:function(t){e.openRelatedSearch()}}},[s("i",{staticClass:"fa fa-plus"}),e._v(" Add new")]),e._v(" "),e.relatedInputIsOpen?s("el-autocomplete",{staticClass:"inline-input related__input",attrs:{"fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.searchInputRelated,callback:function(t){e.searchInputRelated=t},expression:"searchInputRelated"}}):e._e(),e._v(" "),s("div",{staticClass:"related__actions"},[e.relatedInputIsOpen?s("span",{staticClass:"related__close",on:{click:function(t){e.relatedInputIsOpen=!1}}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]):e._e(),e._v(" "),e.relatedInputIsOpen?s("span",{staticClass:"related__save",on:{click:function(t){e.saveRelatedTerm()}}},[e._v("Save")]):e._e()])],2)])])])],1),e._v(" "),s("my-footer")],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"term__examples"},[n("h3",{staticClass:"examples__heading"},[e._v("Examples")]),e._v(" "),n("div",{staticClass:"example"},[n("img",{staticClass:"example__image",attrs:{src:s(168)}}),e._v(" "),n("div",{staticClass:"example__metadata"},[n("span",{staticClass:"example__title"},[e._v("Video name | 02:31-03:05")]),e._v(" "),n("p",{staticClass:"example__content"},[e._v("Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.")])])]),e._v(" "),n("div",{staticClass:"example"},[n("img",{staticClass:"example__image",attrs:{src:s(168)}}),e._v(" "),n("div",{staticClass:"example__metadata"},[n("span",{staticClass:"example__title"},[e._v("Video name | 02:31-03:05")]),e._v(" "),n("p",{staticClass:"example__content"},[e._v("Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.")])])])])}]}},770:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("img",{staticClass:"logo",attrs:{src:s(738),alt:"Logo"}}),e._v(" "),n("form",{directives:[{name:"show",rawName:"v-show",value:e.formLoginIsShown,expression:"formLoginIsShown"}],staticClass:"login-form",on:{submit:function(t){t.preventDefault(),e.loginUser()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login-form__password",attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("span",{staticClass:"login-form__error"},[e._v("We don't recognize these credentials.")]),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("LOGIN")]),e._v(" "),n("p",{staticClass:"login-form__switchform"},[e._v("Not registered? "),n("a",{staticClass:"login-form__switchform-link",on:{click:e.showRegisterForm}},[e._v("Create an account")])]),e._v(" "),n("p",{staticClass:"login-form__switchform"},[e._v("Do you have an invitation code? "),n("a",{staticClass:"login-form__switchform-link",on:{click:function(t){e.showInvitationForm()}}},[e._v("Click here")])])]),e._v(" "),n("form",{directives:[{name:"show",rawName:"v-show",value:e.formRegisterIsShown,expression:"formRegisterIsShown"}],staticClass:"register-form login-form",on:{submit:function(t){t.preventDefault(),e.registerUser()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"First name"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"Last name"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newEmail,expression:"newEmail"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"E-mail address"},domProps:{value:e.newEmail},on:{input:function(t){t.target.composing||(e.newEmail=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatedNewEmail,expression:"repeatedNewEmail"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"Repeat e-mail address"},domProps:{value:e.repeatedNewEmail},on:{input:function(t){t.target.composing||(e.repeatedNewEmail=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"login-form__password",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatedPassword,expression:"repeatedPassword"}],staticClass:"login-form__password",attrs:{type:"password",placeholder:"Repeat Password"},domProps:{value:e.repeatedPassword},on:{input:function(t){t.target.composing||(e.repeatedPassword=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("CREATE ACCOUNT")]),e._v(" "),n("p",{staticClass:"login-form__switchform"},[e._v("Already registered? "),n("a",{staticClass:"login-form__switchform-link",on:{click:function(t){e.showLoginForm()}}},[e._v("Sign In")])]),e._v(" "),n("p",{staticClass:"login-form__switchform"},[e._v("Do you have an invitation code? "),n("a",{staticClass:"login-form__switchform-link",on:{click:function(t){e.showInvitationForm()}}},[e._v("Click here")])])]),e._v(" "),n("form",{directives:[{name:"show",rawName:"v-show",value:e.formInvitationIsShown,expression:"formInvitationIsShown"}],staticClass:"invitation-form login-form",on:{submit:function(t){t.preventDefault(),e.invitationUser()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"First name"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"Last name"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"login-form__password",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatedPassword,expression:"repeatedPassword"}],staticClass:"login-form__password",attrs:{type:"password",placeholder:"Repeat Password"},domProps:{value:e.repeatedPassword},on:{input:function(t){t.target.composing||(e.repeatedPassword=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.invitationCode,expression:"invitationCode"}],staticClass:"login-form__username",attrs:{type:"text",placeholder:"Invitation code"},domProps:{value:e.invitationCode},on:{input:function(t){t.target.composing||(e.invitationCode=t.target.value)}}}),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("CREATE ACCOUNT")]),e._v(" "),n("p",{staticClass:"login-form__switchform"},[e._v("Already registered? "),n("a",{staticClass:"login-form__switchform-link",on:{click:function(t){e.showLoginForm()}}},[e._v("Sign In")])])])])},staticRenderFns:[]}},771:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"inline-block"}},[s("button",{staticClass:"collaborators button",on:{click:function(t){e.openModalVideoAssignments()}}},[s("i",{staticClass:"fa fa-file-text-o"}),s("span",[e._v("Video Assignment")])]),e._v(" "),s("el-dialog",{attrs:{title:e.currentVideo.title+" Assignment",visible:e.modalVideoAssignmentOpen},on:{close:function(t){e.closeModalVideoAssignments()},"update:visible":function(t){e.modalVideoAssignmentOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalVideoAssignment,expression:"loadingModalVideoAssignment"},{name:"show",rawName:"v-show",value:e.loadingModalVideoAssignment,expression:"loadingModalVideoAssignment"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]),e._v(" "),e.loadingModalVideoAssignment?e._e():s("el-tabs",{model:{value:e.assignmentsTab,callback:function(t){e.assignmentsTab=t},expression:"assignmentsTab"}},[s("el-tab-pane",{attrs:{label:"Video Assignment",name:"videoAssignment"}},[s("el-card",{attrs:{shadow:"never"}},[e._v("\n                    Current video assignment: "+e._s(e.currentVideoAssignment.title)+"\n                ")]),e._v(" "),"None"!==e.currentVideoAssignment.title?s("el-card",{attrs:{shadow:"never"}},[e._v("\n                    Description: "+e._s(e.currentVideoAssignment.description)+"\n                ")]):e._e(),e._v(" "),"None"!==e.currentVideoAssignment.title?s("el-card",{attrs:{shadow:"never"}},[s("el-date-picker",{attrs:{type:"date",readonly:!0},model:{value:e.currentVideoAssignment.dueDate,callback:function(t){e.currentVideoAssignment.dueDate=t},expression:"currentVideoAssignment.dueDate"}})],1):e._e()],1),e._v(" "),e.isInvolved?s("el-tab-pane",{attrs:{label:"Class Assignments",name:"classAssignments"}},[0===e.assignments.length?s("el-card",{attrs:{shadow:"never"}},[s("i",[e._v("No class assignments")])]):e._e(),e._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:0!==e.assignments.length,expression:"assignments.length !== 0"}],staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for an assignment...",clearable:""},on:{change:function(t){e.filterAssignmentsArray("assignments","filteredAssignments",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),0!==e.assignments.length?s("el-table",{ref:"singleTable",staticClass:"mt-table",attrs:{data:e.filteredAssignments,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[s("el-table-column",{attrs:{type:"index"}}),e._v(" "),s("el-table-column",{attrs:{type:"select",property:"title",label:"Title"}}),e._v(" "),s("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",[e._v("Description: "+e._s(t.row.description))])]}}])})],1):e._e(),e._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[null!==e.currentRow?s("el-button",{on:{click:function(t){e.saveSelection(e.currentRow)}}},[e._v("Save selection")]):e._e(),e._v(" "),null===e.currentRow?s("el-button",{attrs:{disabled:""}},[e._v("Select an assignment")]):e._e()],1)],1):e._e()],1)],1)],1)},staticRenderFns:[]}},772:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",e._b({staticClass:"decide-home"},"div",e.decideHome(),!1))},staticRenderFns:[]}},773:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"sidebar column is-2 aside"},[e.loadingClasses?e._e():s("div",{staticClass:"sidebar__actions"},[s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.createNewClassModalOpen()}}},[s("i",{staticClass:"fa fa-plus"}),e._v("Create new class")]),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.openAssignmentsModal()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Assignments")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.modalArchiveClassIsOpen=!0}}},[s("i",{staticClass:"fa fa-archive"}),e._v("Archive this class")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.toggleModalStudentRequests()}}},[s("i",{staticClass:"fa fa-file-text-o"}),e._v("Student requests ("+e._s(e.requestedStudents.length)+")")]):e._e(),e._v(" "),"Home"!==e.currentClass.name?s("a",{staticClass:"sidebar__actionsLink",on:{click:function(t){e.editCategoriesModalOpen()}}},[s("i",{staticClass:"fa fa-commenting-o"}),e._v("Edit categories")]):e._e()]),e._v(" "),s("div",{staticClass:"sidebar__classes"},[e.loadingClasses?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingClasses,expression:"loadingClasses"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingClasses,expression:"!loadingClasses"}],model:{value:e.sidebarClassesTab,callback:function(t){e.sidebarClassesTab=t},expression:"sidebarClassesTab"}},[s("el-tab-pane",{attrs:{label:"Active classes",name:"activeClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.professorActiveClasses.length?s("i",[e._v("  No classes - create one ")]):e._e(),e._v(" "),0!==e.professorActiveClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search for a class..."},on:{change:function(t){e.filterClassArray("professorActiveClasses","filteredProfessorActiveClasses",e.searchInputActiveClassSidebar)}},model:{value:e.searchInputActiveClassSidebar,callback:function(t){e.searchInputActiveClassSidebar=t},expression:"searchInputActiveClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredProfessorActiveClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.setCurrentClass(t)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Archived",name:"archivedClasses"}},[s("div",{staticClass:"sidebar__classes"},[0===e.professorArchivedClasses.length?s("i",[e._v("  No archived classes ")]):e._e(),e._v(" "),0!==e.professorArchivedClasses.length?s("el-input",{staticClass:"sidebar__classesInput",attrs:{icon:"search",placeholder:"Search archived classes..."},on:{change:function(t){e.filterClassArray("professorArchivedClasses","filteredProfessorArchivedClasses",e.searchInputArchivedClassSidebar)}},model:{value:e.searchInputArchivedClassSidebar,callback:function(t){e.searchInputArchivedClassSidebar=t},expression:"searchInputArchivedClassSidebar"}}):e._e(),e._v(" "),e._l(e.filteredProfessorArchivedClasses,function(t){return s("a",{key:t.id,staticClass:"sidebar__classesLink",class:{"is-bg-light":e.currentClass.name===t.name},on:{click:function(s){e.openModalUnarchiveClass(t.id)}}},[e._v(e._s(t.number)+" - "+e._s(t.name))])})],2)])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Add new class",visible:e.modalCreateClassIsOpen,"before-close":e.handleNewClassClose},on:{"update:visible":function(t){e.modalCreateClassIsOpen=t}}},[s("el-steps",{attrs:{active:e.createModalActive,"finish-status":"success",space:"97%"}},[s("el-step"),e._v(" "),s("el-step")],1),e._v(" "),0==e.createModalActive?s("el-form",{attrs:{model:e.newClass}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{attrs:{placeholder:"Advanced Essay Workshop",required:""},model:{value:e.newClass.name,callback:function(t){e.newClass.name=t},expression:"newClass.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Department"}},[s("el-input",{attrs:{placeholder:"Comparative Media Studies / Writing",required:""},model:{value:e.newClass.department,callback:function(t){e.newClass.department=t},expression:"newClass.department"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Number"}},[s("el-input",{attrs:{placeholder:"21W.745",required:""},model:{value:e.newClass.number,callback:function(t){e.newClass.number=t},expression:"newClass.number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Semester"}},[s("el-input",{attrs:{placeholder:"Spring 2018",required:""},model:{value:e.newClass.semester,callback:function(t){e.newClass.semester=t},expression:"newClass.semester"}})],1)],1):e._e(),e._v(" "),1==e.createModalActive?s("div",[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e()],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[0==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:function(t){e.handleNewClassClose()}}},[e._v("Cancel")]):e._e(),e._v(" "),0==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.nextStep()}}},[e._v("Next Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticStyle:{float:"left"},on:{click:function(t){e.previousStep()}}},[e._v("Previous Step")]):e._e(),e._v(" "),1==e.createModalActive?s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.createClass()}}},[e._v("Create Class")]):e._e()],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Categories customization",visible:e.modalGenreCustomization,size:"large","before-close":e.handleEditCategoriesClose},on:{"update:visible":function(t){e.modalGenreCustomization=t}}},[s("h3",{staticStyle:{"margin-bottom":"10px"}},[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"Choose a genre"},on:{change:function(t){e.handleGenreSelection()}},model:{value:e.currentGenre,callback:function(t){e.currentGenre=t},expression:"currentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),e.currentGenre?s("div",[s("p",[e._v("Choose canons:")]),e._v(" "),s("el-tree",{ref:"elementTreeRef",attrs:{data:e.elementTreeForm,props:e.genreProps,"show-checkbox":"","node-key":"id"}})],1):e._e(),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.handleEditCategoriesClose()}}},[e._v("Cancel")]),e._v(" "),s("el-button",{on:{click:function(t){e.saveNewCustomCategories()}}},[e._v("Save")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to archive `"+e.currentClass.name+"` class?",visible:e.modalArchiveClassIsOpen},on:{"update:visible":function(t){e.modalArchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalArchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.archiveClass()}}},[s("strong",[e._v("Archive Class")])])],1),e._v(" "),s("el-dialog",{attrs:{title:"Do you want to unarchive this class?",visible:e.modalUnarchiveClassIsOpen},on:{"update:visible":function(t){e.modalUnarchiveClassIsOpen=t}}},[s("el-button",{on:{click:function(t){e.modalUnarchiveClassIsOpen=!1}}},[e._v("Go back")]),e._v(" "),s("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.unArchiveClass()}}},[s("strong",[e._v("Unarchive Class")])])],1),e._v(" "),e.currentClass.id?s("el-dialog",{staticClass:"modal-class-assignments",attrs:{title:this.currentClass.name+" Class assignments",visible:e.modalClassAssignmentsIsOpen},on:{"update:visible":function(t){e.modalClassAssignmentsIsOpen=t}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAssignments,expression:"loadingAssignments"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}}),e._v(" "),s("el-tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loadingAssignments,expression:"!loadingAssignments"}]},[s("el-dialog",{attrs:{visible:e.startingAssignmentMessageVisible,title:"Create a starting assignment.","append-to-body":""},on:{"update:visible":function(t){e.startingAssignmentMessageVisible=t}}}),e._v(" "),e._l(e.assignments,function(t){return s("el-tab-pane",{key:t.id,attrs:{label:t.title}},[e.loadingAssignments?e._e():s("el-tabs",{model:{value:e.assignmentsModalSubtab,callback:function(t){e.assignmentsModalSubtab=t},expression:"assignmentsModalSubtab"}},[s("el-tab-pane",{attrs:{label:"General",name:"General"}},[s("div",{staticClass:"assignments-content"},[s("span",{staticClass:"assignments__title"},[s("strong",[e._v("Title:")]),e._v(" "),s("span",{staticClass:"assignments__titleId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__titleText",on:{click:function(t){e.toggleTitleEdit(t)}}},[e._v(e._s(t.title))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"a.title"}],staticClass:"input assignments__titleInput",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(s){e.saveTitleEdit(s,t.id)},input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__desc"},[s("strong",{staticClass:"assignments__descTitle"},[e._v("Description:")]),e._v(" "),s("span",{staticClass:"assignments__descId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__descText",on:{click:function(t){e.toggleDescriptionEdit(t)}}},[e._v(e._s(t.description))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"a.description"}],staticClass:"textarea assignments__descTextarea",attrs:{type:"text"},domProps:{value:t.description},on:{blur:function(s){e.saveDescriptionEdit(s,t.id)},input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e._v(" "),s("hr"),e._v(" "),e._l(e.genres,function(n){return n.id===t.genre?s("span",{key:n.id,staticClass:"assignments__genre"},[s("strong",{staticClass:"assignments__genreTitle"},[e._v("Genre:")]),e._v(" "),s("span",{staticClass:"assignments__genreId"},[e._v(e._s(t.id))]),e._v(" "),s("p",{staticClass:"assignments__genreName",on:{click:function(t){e.toggleGenreEdit(t)}}},[e._v(e._s(n.name))]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"a.genre"}],staticClass:"assignments__genreSelect select",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.genre=e.target.multiple?s:s[0]},function(s){e.saveGenreEdit(s,t.id)}]}},e._l(e.genres,function(e){return s("option",{key:e.id,staticClass:"option",attrs:{label:e.name},domProps:{value:e.id}})}))]):e._e()}),e._v(" "),s("hr"),e._v(" "),s("span",{staticClass:"assignments__dueDate"},[s("strong",{staticClass:"assignments__dueDateTitle"},[e._v("Due date:")]),e._v(" "),s("span",{staticClass:"assignments__dueDateId"},[e._v(e._s(t.id))]),e._v(" "),s("p",[s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},on:{change:function(s){e.saveDueDateEdit(s,t.id)}},model:{value:t.dueDate,callback:function(e){t.dueDate=e},expression:"a.dueDate"}})],1)])],2)]),e._v(" "),s("el-tab-pane",{attrs:{label:"Class Submissions",name:"ClassSubmissions"}},e._l(e.videos,function(n){return n.assignmentId===t.id?s("mt-video-itemlist",{key:n.id,attrs:{currentVideo:n,enableStatistics:!1,showCollaborators:!1}}):e._e()}))],1)],1)}),e._v(" "),s("el-tab-pane",{attrs:{label:"+ Add assignment"}},[s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a title"},model:{value:e.assignmentTitle,callback:function(t){e.assignmentTitle=t},expression:"assignmentTitle"}}),e._v(" "),s("el-input",{staticStyle:{width:"70%","margin-bottom":"15px"},attrs:{placeholder:"Set a description",type:"textarea"},model:{value:e.assignmentDescription,callback:function(t){e.assignmentDescription=t},expression:"assignmentDescription"}}),e._v(" "),s("p",[e._v("Choose genre:")]),e._v(" "),s("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"Select a genre"},on:{change:function(t){e.updateAssignments()}},model:{value:e.assignmentGenre,callback:function(t){e.assignmentGenre=t},expression:"assignmentGenre"}},e._l(e.genres,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),e._v(" "),s("p",[e._v("Set due date:")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.assignmentDueDate,callback:function(t){e.assignmentDueDate=t},expression:"assignmentDueDate"}}),e._v(" "),s("hr"),e._v(" "),s("el-button",{on:{click:function(t){e.createAssignment()}}},[e._v("Create")])],1)],2)],1):e._e(),e._v(" "),s("el-dialog",{attrs:{visible:e.modalStudentRequestsIsOpen},on:{"update:visible":function(t){e.modalStudentRequestsIsOpen=t}}},[s("span",{staticClass:"modal-student-requests",attrs:{slot:"title"},slot:"title"},[s("b",[s("i",{staticClass:"fa fa-book"}),e._v(" "+e._s(e.currentClass.name)+" - Enrollments")])]),e._v(" "),e.loadingModalStudents?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalStudents,expression:"loadingModalStudents"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[s("br"),s("br"),s("br"),s("br"),s("br")]):e._e(),e._v(" "),e.loadingModalStudents?e._e():s("el-tabs",{model:{value:e.modalStudentRequestsTab,callback:function(t){e.modalStudentRequestsTab=t},expression:"modalStudentRequestsTab"}},[s("el-tab-pane",{attrs:{label:"Enrolled students",name:"enrolledStudents"}},[0===e.enrolledStudents.length?s("p",[s("i",[e._v("No enrolled students")])]):e._e(),e._v(" "),0!==e.enrolledStudents.length?s("el-input",{staticClass:"mt-search-input",staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("enrolledStudents","filteredEnrolledStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredEnrolledStudents,function(t){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))])])}))],1),e._v(" "),s("el-tab-pane",{attrs:{name:"requestedStudents"}},[0===e.requestedStudents.length?s("p",[s("i",[e._v("No enrollment requests")])]):e._e(),e._v(" "),s("span",{attrs:{slot:"label"},slot:"label"},[e._v("Enrollment requests ("+e._s(e.requestedStudents.length)+")")]),e._v(" "),0!==e.requestedStudents.length?s("el-input",{staticStyle:{width:"220px","margin-bottom":"7px"},attrs:{icon:"search",placeholder:"Search for a student..."},on:{change:function(t){e.filterStudentsArray("requestedStudents","filteredRequestedStudents",e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e._v(" "),s("div",{staticClass:"mt-table"},e._l(e.filteredRequestedStudents,function(t,n){return s("li",{key:t.id,staticStyle:{"list-style":"none"}},[s("span",[s("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))]),e._v(" "),s("el-button",{staticStyle:{float:"right",margin:"-2px","margin-right":"5px"},attrs:{size:"small",type:"info"},on:{click:function(s){e.acceptStudent(n,t)}}},[e._v("Accept request")])],1)})),e._v(" "),0!==e.requestedStudents.length?s("el-button",{staticStyle:{"margin-top":"5px"},attrs:{sfize:"small",type:"info"},on:{click:function(t){e.acceptAllStudents()}}},[e._v("Accept all requests")]):e._e()],1)],1)],1)],1)},staticRenderFns:[]}},774:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"classvideo"},[n("router-link",{staticClass:"classvideo__metadata",attrs:{to:"/video/"+e.currentVideo.id,tag:"a"}},[n("img",{staticClass:"classvideo__image",attrs:{src:e.currentVideo.thumb}}),e._v(" "),n("div",{staticClass:"classvideo__titles"},[n("p",{staticClass:"classvideo__title"},[e._v(e._s(e.currentVideo.title))]),e._v(" "),n("p",{staticClass:"classvideo__class"},[e._v(e._s(e.currentVideo.class))]),e._v(" "),n("p",{staticClass:"classvideo__genre"},[e._v(e._s(e.secondsToMMSS(e.currentVideo.duration))+" / "+e._s(e.genreName)+" ")])])]),e._v(" "),e.showCollaborators?n("div",{staticClass:"classvideo__metadata"},[n("div",[n("el-popover",{attrs:{trigger:"click",title:"Collaborators"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.loadingCollaborators,expression:"loadingCollaborators === false"}]},e._l(e.localCollaborators,function(t){return n("li",{key:t.id,staticStyle:{"list-style":"none"}},[n("span",[n("i",{staticClass:"fa fa-user"}),e._v(" "+e._s(t.firstName+" "+t.lastName))])])})),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:0===e.localCollaborators.length&&!1===e.loadingCollaborators,expression:"localCollaborators.length === 0 && loadingCollaborators === false"}]},[n("i",[e._v("-")])]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(t){e.showDialog=!1}}},[e._v("Close")])],1),e._v(" "),n("el-button",{on:{click:function(t){e.showDialog=!0}}},[n("i",{staticClass:"fa fa-user"})])],1)]):e._e(),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"administrator"===e.role&&!1===e.currentVideo.featuredGlobal,expression:"role === 'administrator' && currentVideo.featuredGlobal === false"}],staticClass:"classvideo__favorite",attrs:{src:s(286)},on:{click:function(t){e.featureGlobal(t)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"administrator"===e.role&&!0===e.currentVideo.featuredGlobal,expression:"role === 'administrator' &&  currentVideo.featuredGlobal === true"}],staticClass:"classvideo__favorite",attrs:{src:s(285)},on:{click:function(t){e.unfeatureGlobal(t)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"professor"===e.role&&!1===e.currentVideo.featuredClass,expression:"role === 'professor' && currentVideo.featuredClass === false"}],staticClass:"classvideo__favorite",attrs:{src:s(286)},on:{click:function(t){e.featureVideo(t)}}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:"professor"===e.role&&!0===e.currentVideo.featuredClass,expression:"role === 'professor' && currentVideo.featuredClass === true"}],staticClass:"classvideo__favorite",attrs:{src:s(285)},on:{click:function(t){e.unfeatureVideo(t)}}}),e._v(" "),n("div",{staticClass:"classvideo__metameta"},[e.enableStatistics?n("span",{staticClass:"classvideo__score",on:{click:[function(e){e.stopPropagation(),e.preventDefault()},function(t){e.openModalCanonChart()}]}},[n("p",{staticClass:"classvideo__scoreNum"},[e._v(e._s(e.ratingAverage.toFixed(1)))]),e._v(" "),n("p",{staticClass:"classvideo__scoreLabel"},[e._v("Effectiveness")])]):e._e(),e._v(" "),e.enableStatistics?e._e():n("span",{staticClass:"classvideo__scoreNoHover"},[n("p",{staticClass:"classvideo__scoreNum"},[e._v(e._s(e.ratingAverage.toFixed(1)))]),e._v(" "),n("p",{staticClass:"classvideo__scoreLabel"},[e._v("Effectiveness")])]),e._v(" "),n("span",{staticClass:"classvideo__annotations"},[n("p",{staticClass:"classvideo__annotationsNum"},[e._v(e._s(e.numberOfAnnotations))]),e._v(" "),n("p",{staticClass:"classvideo__annotationsLabel"},[e._v("Comments")])])]),e._v(" "),n("div",{staticClass:"classvideo__trash"},[n("i",{directives:[{name:"show",rawName:"v-show",value:"administrator"===e.role,expression:"role ==='administrator'"}],staticClass:"el-icon-delete",on:{click:function(t){e.toggleDeleteConfirmationModal()}}})]),e._v(" "),n("el-dialog",{attrs:{title:e.currentVideo.title,visible:e.modalCanonChartIsOpen},on:{"update:visible":function(t){e.modalCanonChartIsOpen=t}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingModalCanonChart,expression:"loadingModalCanonChart"},{name:"show",rawName:"v-show",value:e.loadingModalCanonChart,expression:"loadingModalCanonChart"}],staticClass:"uploadvid__sync-load",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[n("br"),n("br"),n("br"),n("br"),n("br")]),e._v(" "),e.loadingModalCanonChart||0===e.canonInfo.length?e._e():n("ve-histogram",{attrs:{data:e.chartData,extend:e.chartExtend,settings:e.chartSettings}}),e._v(" "),e.loadingModalCanonChart?e._e():n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.canonInfo}},[n("el-table-column",{attrs:{prop:"canon",label:"Canon"}}),e._v(" "),n("el-table-column",{attrs:{prop:"annotationCount",label:"Total # of annotations"}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"!Not complete - leaves garbage in backend (annotations, collaborations, jwvideo). Use sparingly! Do you want to delete `"+e.currentVideo.title+"` video?",visible:e.deleteModalIsOpen},on:{"update:visible":function(t){e.deleteModalIsOpen=t}}},[n("el-button",{on:{click:function(t){e.toggleDeleteConfirmationModal()}}},[e._v("Go back")]),e._v(" "),n("el-button",{staticClass:"add-class-btn",on:{click:function(t){e.deleteVideo(),e.toggleDeleteConfirmationModal()}}},[n("strong",[e._v("Delete Video")])])],1)],1)},staticRenderFns:[]}},92:function(e,t,s){function n(e){s(733)}var a=s(12)(s(365),s(774),n,null,null);e.exports=a.exports},95:function(e,t,s){"use strict";var n=s(381),a=s.n(n),i=s(73),o=s.n(i),r=s(386),l=s.n(r),c=s(387),d=s.n(c),u=(s(18),s(127)),m=function(){function e(){l()(this,e);var t=JSON.parse(window.localStorage.getItem("authData"));this.authData=t?JSON.parse(window.localStorage.getItem("authData")):null}return d()(e,[{key:"login",value:function(e,t){var s=this;return this.authData={token:"",userId:"",role:"",firstName:"",lastName:"",email:""},this.postLogin(e).then(function(){return s.getUserDetails()})}},{key:"postLogin",value:function(e){var t=this;return new o.a(function(s,n){try{u.a.post("login",e).then(function(e){t.authData.token=e.data.data.token,t.authData.userId=e.data.data.id,t.authData.role=e.data.data.role,s()}).catch(function(e){console.log("authService: login failed: ",e),n(e)})}catch(e){console.log(e)}})}},{key:"getUserDetails",value:function(){var e=this;return new o.a(function(t,s){try{u.a.get("user/"+e.authData.userId).then(function(s){e.authData.firstName=s.data.data.firstName,e.authData.lastName=s.data.data.lastName,e.authData.email=s.data.data.email,localStorage.setItem("authData",a()(e.authData)),t()}).catch(function(e){console.log("get user details failed: ",e),s(e)})}catch(e){console.log(e)}})}},{key:"logOff",value:function(){this.authData=null,window.localStorage.removeItem("authData")}},{key:"isAuthenticated",value:function(){var e=this;return new o.a(function(t,s){e.authData?t():s()})}},{key:"getAuthData",value:function(){return this.authData}}]),e}(),h=new m;t.a=h}},[187]);
//# sourceMappingURL=app.09b9525cdb9f2e2cdd87.js.map